!function(){function t(t,n){return n>t?-1:t>n?1:t>=n?0:0/0}function n(t){return null!=t&&!isNaN(t)}function r(t){return{left:function(n,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=n.length);a>e;){var i=e+a>>>1;t(n[i],r)<0?e=i+1:a=i}return e},right:function(n,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=n.length);a>e;){var i=e+a>>>1;t(n[i],r)>0?a=i:e=i+1}return e}}}function e(t){return t.length}function a(t){for(var n=1;t*n%1;)n*=10;return n}function i(t,n){try{for(var r in n)Object.defineProperty(t.prototype,r,{value:n[r],enumerable:!1})}catch(e){t.prototype=n}}function u(){}function o(t){return io+t in this}function s(t){return t=io+t,t in this&&delete this[t]}function c(){var t=[];return this.forEach(function(n){t.push(n)}),t}function l(){var t=0;for(var n in this)n.charCodeAt(0)===uo&&++t;return t}function f(){for(var t in this)if(t.charCodeAt(0)===uo)return!1;return!0}function h(){}function g(t,n,r){return function(){var e=r.apply(n,arguments);return e===n?t:e}}function v(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.substring(1);for(var r=0,e=oo.length;e>r;++r){var a=oo[r]+n;if(a in t)return a}}function p(){}function d(){}function M(t){function n(){for(var n,e=r,a=-1,i=e.length;++a<i;)(n=e[a].on)&&n.apply(this,arguments);return t}var r=[],e=new u;return n.on=function(n,a){var i,u=e.get(n);return arguments.length<2?u&&u.on:(u&&(u.on=null,r=r.slice(0,i=r.indexOf(u)).concat(r.slice(i+1)),e.remove(n)),a&&r.push(e.set(n,{on:a})),t)},n}function m(){Yu.event.preventDefault()}function y(){for(var t,n=Yu.event;t=n.sourceEvent;)n=t;return n}function x(t){for(var n=new d,r=0,e=arguments.length;++r<e;)n[arguments[r]]=M(n);return n.of=function(r,e){return function(a){try{var i=a.sourceEvent=Yu.event;a.target=t,Yu.event=a,n[a.type].apply(r,e)}finally{Yu.event=i}}},n}function b(t){return co(t,vo),t}function w(t){return"function"==typeof t?t:function(){return lo(t,this)}}function _(t){return"function"==typeof t?t:function(){return fo(t,this)}}function S(t,n){function r(){this.removeAttribute(t)}function e(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,n)}function i(){this.setAttributeNS(t.space,t.local,n)}function u(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}function o(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}return t=Yu.ns.qualify(t),null==n?t.local?e:r:"function"==typeof n?t.local?o:u:t.local?i:a}function q(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+Yu.requote(t)+"(?:\\s+|$)","g")}function k(t){return(t+"").trim().split(/^|\s+/)}function A(t,n){function r(){for(var r=-1;++r<a;)t[r](this,n)}function e(){for(var r=-1,e=n.apply(this,arguments);++r<a;)t[r](this,e)}t=k(t).map(T);var a=t.length;return"function"==typeof n?e:r}function T(t){var n=E(t);return function(r,e){if(a=r.classList)return e?a.add(t):a.remove(t);var a=r.getAttribute("class")||"";e?(n.lastIndex=0,n.test(a)||r.setAttribute("class",q(a+" "+t))):r.setAttribute("class",q(a.replace(n," ")))}}function C(t,n,r){function e(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,n,r)}function i(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}return null==n?e:"function"==typeof n?i:a}function N(t,n){function r(){delete this[t]}function e(){this[t]=n}function a(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}return null==n?r:"function"==typeof n?a:e}function z(t){return"function"==typeof t?t:(t=Yu.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function R(t){return{__data__:t}}function L(t){return function(){return go(this,t)}}function P(n){return arguments.length||(n=t),function(t,r){return t&&r?n(t.__data__,r.__data__):!t-!r}}function D(t,n){for(var r=0,e=t.length;e>r;r++)for(var a,i=t[r],u=0,o=i.length;o>u;u++)(a=i[u])&&n(a,u,r);return t}function j(t){return co(t,Mo),t}function U(t){var n,r;return function(e,a,i){var u,o=t[i].update,s=o.length;for(i!=r&&(r=i,n=0),a>=n&&(n=a+1);!(u=o[n])&&++n<s;);return u}}function F(){var t=this.__transition__;t&&++t.active}function H(t,n,r){function e(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}function a(){var a=s(n,Bu(arguments));e.call(this),this.addEventListener(t,this[u]=a,a.$=r),a._=n}function i(){var n,r=new RegExp("^__on([^.]+)"+Yu.requote(t)+"$");for(var e in this)if(n=e.match(r)){var a=this[e];this.removeEventListener(n[1],a,a.$),delete this[e]}}var u="__on"+t,o=t.indexOf("."),s=Q;o>0&&(t=t.substring(0,o));var c=yo.get(t);return c&&(t=c,s=O),o?n?a:e:n?p:i}function Q(t,n){return function(r){var e=Yu.event;Yu.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{Yu.event=e}}}function O(t,n){var r=Q(t,n);return function(t){var n=this,e=t.relatedTarget;e&&(e===n||8&e.compareDocumentPosition(n))||r.call(n,t)}}function I(){var t=".dragsuppress-"+ ++bo,n="click"+t,r=Yu.select($u).on("touchmove"+t,m).on("dragstart"+t,m).on("selectstart"+t,m);if(xo){var e=Xu.style,a=e[xo];e[xo]="none"}return function(i){function u(){r.on(n,null)}r.on(t,null),xo&&(e[xo]=a),i&&(r.on(n,function(){m(),u()},!0),setTimeout(u,0))}}function Y(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var e=r.createSVGPoint();if(0>wo&&($u.scrollX||$u.scrollY)){r=Yu.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();wo=!(a.f||a.e),r.remove()}return wo?(e.x=n.pageX,e.y=n.pageY):(e.x=n.clientX,e.y=n.clientY),e=e.matrixTransform(t.getScreenCTM().inverse()),[e.x,e.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Z(){return Yu.event.changedTouches[0].identifier}function B(){return Yu.event.target}function V(){return $u}function X(t){return t>0?1:0>t?-1:0}function $(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0])}function G(t){return t>1?0:-1>t?_o:Math.acos(t)}function W(t){return t>1?qo:-1>t?-qo:Math.asin(t)}function J(t){return((t=Math.exp(t))-1/t)/2}function K(t){return((t=Math.exp(t))+1/t)/2}function tn(t){return((t=Math.exp(2*t))-1)/(t+1)}function nn(t){return(t=Math.sin(t/2))*t}function rn(){}function en(t,n,r){return this instanceof en?(this.h=+t,this.s=+n,void(this.l=+r)):arguments.length<2?t instanceof en?new en(t.h,t.s,t.l):mn(""+t,yn,en):new en(t,n,r)}function an(t,n,r){function e(t){return t>360?t-=360:0>t&&(t+=360),60>t?i+(u-i)*t/60:180>t?u:240>t?i+(u-i)*(240-t)/60:i}function a(t){return Math.round(255*e(t))}var i,u;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:0>n?0:n>1?1:n,r=0>r?0:r>1?1:r,u=.5>=r?r*(1+n):r+n-r*n,i=2*r-u,new vn(a(t+120),a(t),a(t-120))}function un(t,n,r){return this instanceof un?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof un?new un(t.h,t.c,t.l):t instanceof sn?ln(t.l,t.a,t.b):ln((t=xn((t=Yu.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new un(t,n,r)}function on(t,n,r){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new sn(r,Math.cos(t*=Ao)*n,Math.sin(t)*n)}function sn(t,n,r){return this instanceof sn?(this.l=+t,this.a=+n,void(this.b=+r)):arguments.length<2?t instanceof sn?new sn(t.l,t.a,t.b):t instanceof un?on(t.l,t.c,t.h):xn((t=vn(t)).r,t.g,t.b):new sn(t,n,r)}function cn(t,n,r){var e=(t+16)/116,a=e+n/500,i=e-r/200;return a=fn(a)*Fo,e=fn(e)*Ho,i=fn(i)*Qo,new vn(gn(3.2404542*a-1.5371385*e-.4985314*i),gn(-.969266*a+1.8760108*e+.041556*i),gn(.0556434*a-.2040259*e+1.0572252*i))}function ln(t,n,r){return t>0?new un(Math.atan2(r,n)*To,Math.sqrt(n*n+r*r),t):new un(0/0,0/0,t)}function fn(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function hn(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function gn(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vn(t,n,r){return this instanceof vn?(this.r=~~t,this.g=~~n,void(this.b=~~r)):arguments.length<2?t instanceof vn?new vn(t.r,t.g,t.b):mn(""+t,vn,an):new vn(t,n,r)}function pn(t){return new vn(t>>16,255&t>>8,255&t)}function dn(t){return pn(t)+""}function Mn(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function mn(t,n,r){var e,a,i,u=0,o=0,s=0;if(e=/([a-z]+)\((.*)\)/i.exec(t))switch(a=e[2].split(","),e[1]){case"hsl":return r(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return n(wn(a[0]),wn(a[1]),wn(a[2]))}return(i=Yo.get(t))?n(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.substring(1),16))||(4===t.length?(u=(3840&i)>>4,u=u>>4|u,o=240&i,o=o>>4|o,s=15&i,s=s<<4|s):7===t.length&&(u=(16711680&i)>>16,o=(65280&i)>>8,s=255&i)),n(u,o,s))}function yn(t,n,r){var e,a,i=Math.min(t/=255,n/=255,r/=255),u=Math.max(t,n,r),o=u-i,s=(u+i)/2;return o?(a=.5>s?o/(u+i):o/(2-u-i),e=t==u?(n-r)/o+(r>n?6:0):n==u?(r-t)/o+2:(t-n)/o+4,e*=60):(e=0/0,a=s>0&&1>s?0:e),new en(e,a,s)}function xn(t,n,r){t=bn(t),n=bn(n),r=bn(r);var e=hn((.4124564*t+.3575761*n+.1804375*r)/Fo),a=hn((.2126729*t+.7151522*n+.072175*r)/Ho),i=hn((.0193339*t+.119192*n+.9503041*r)/Qo);return sn(116*a-16,500*(e-a),200*(a-i))}function bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wn(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function _n(t){return"function"==typeof t?t:function(){return t}}function Sn(t){return t}function qn(t){return function(n,r,e){return 2===arguments.length&&"function"==typeof r&&(e=r,r=null),En(n,r,t,e)}}function En(t,n,r,e){function a(){var t,n=s.status;if(!n&&s.responseText||n>=200&&300>n||304===n){try{t=r.call(i,s)}catch(e){return void u.error.call(i,e)}u.load.call(i,t)}else u.error.call(i,s)}var i={},u=Yu.dispatch("beforesend","progress","load","error"),o={},s=new XMLHttpRequest,c=null;return!$u.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=a:s.onreadystatechange=function(){s.readyState>3&&a()},s.onprogress=function(t){var n=Yu.event;Yu.event=t;try{u.progress.call(i,s)}finally{Yu.event=n}},i.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?o[t]:(null==n?delete o[t]:o[t]=n+"",i)},i.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",i):n},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return r=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(Bu(arguments)))}}),i.send=function(r,e,a){if(2===arguments.length&&"function"==typeof e&&(a=e,e=null),s.open(r,t,!0),null==n||"accept"in o||(o.accept=n+",*/*"),s.setRequestHeader)for(var l in o)s.setRequestHeader(l,o[l]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),u.beforesend.call(i,s),s.send(null==e?null:e),i},i.abort=function(){return s.abort(),i},Yu.rebind(i,u,"on"),null==e?i:i.get(kn(e))}function kn(t){return 1===t.length?function(n,r){t(null==n?r:null)}:t}function An(){var t=Tn(),n=Cn()-t;n>24?(isFinite(n)&&(clearTimeout(Xo),Xo=setTimeout(An,n)),Vo=0):(Vo=1,Go(An))}function Tn(){var t=Date.now();for($o=Zo;$o;)t>=$o.t&&($o.f=$o.c(t-$o.t)),$o=$o.n;return t}function Cn(){for(var t,n=Zo,r=1/0;n;)n.f?n=t?t.n=n.n:Zo=n.n:(n.t<r&&(r=n.t),n=(t=n).n);return Bo=t,r}function Nn(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function zn(t,n){var r=Math.pow(10,3*ao(8-n));return{scale:n>8?function(t){return t/r}:function(t){return t*r},symbol:t}}function Rn(t){var n=t.decimal,r=t.thousands,e=t.grouping,a=t.currency,i=e?function(t){for(var n=t.length,a=[],i=0,u=e[0];n>0&&u>0;)a.push(t.substring(n-=u,n+u)),u=e[i=(i+1)%e.length];return a.reverse().join(r)}:Sn;return function(t){var r=Jo.exec(t),e=r[1]||" ",u=r[2]||">",o=r[3]||"",s=r[4]||"",c=r[5],l=+r[6],f=r[7],h=r[8],g=r[9],v=1,p="",d="",M=!1;switch(h&&(h=+h.substring(1)),(c||"0"===e&&"="===u)&&(c=e="0",u="=",f&&(l-=Math.floor((l-1)/4))),g){case"n":f=!0,g="g";break;case"%":v=100,d="%",g="f";break;case"p":v=100,d="%",g="r";break;case"b":case"o":case"x":case"X":"#"===s&&(p="0"+g.toLowerCase());case"c":case"d":M=!0,h=0;break;case"s":v=-1,g="r"}"$"===s&&(p=a[0],d=a[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=Ko.get(g)||Ln;var m=c&&f;return function(t){var r=d;if(M&&t%1)return"";var a=0>t||0===t&&0>1/t?(t=-t,"-"):o;if(0>v){var s=Yu.formatPrefix(t,h);t=s.scale(t),r=s.symbol+d}else t*=v;t=g(t,h);var y=t.lastIndexOf("."),x=0>y?t:t.substring(0,y),b=0>y?"":n+t.substring(y+1);!c&&f&&(x=i(x));var w=p.length+x.length+b.length+(m?0:a.length),_=l>w?new Array(w=l-w+1).join(e):"";return m&&(x=i(_+x)),a+=p,t=x+b,("<"===u?a+t+_:">"===u?_+a+t:"^"===u?_.substring(0,w>>=1)+a+t+_.substring(w):a+(m?t:_+t))+r}}}function Ln(t){return t+""}function Pn(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Dn(t,n,r){function e(n){var r=t(n),e=i(r,1);return e-n>n-r?r:e}function a(r){return n(r=t(new ns(r-1)),1),r}function i(t,r){return n(t=new ns(+t),r),t}function u(t,e,i){var u=a(t),o=[];if(i>1)for(;e>u;)r(u)%i||o.push(new Date(+u)),n(u,1);else for(;e>u;)o.push(new Date(+u)),n(u,1);return o}function o(t,n,r){try{ns=Pn;var e=new Pn;return e._=t,u(e,n,r)}finally{ns=Date}}t.floor=t,t.round=e,t.ceil=a,t.offset=i,t.range=u;var s=t.utc=jn(t);return s.floor=s,s.round=jn(e),s.ceil=jn(a),s.offset=jn(i),s.range=o,t}function jn(t){return function(n,r){try{ns=Pn;var e=new Pn;return e._=n,t(e,r)._}finally{ns=Date}}}function Un(t){function n(t){function n(n){for(var r,a,i,u=[],o=-1,s=0;++o<e;)37===t.charCodeAt(o)&&(u.push(t.substring(s,o)),null!=(a=es[r=t.charAt(++o)])&&(r=t.charAt(++o)),(i=A[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),u.push(r),s=o+1);return u.push(t.substring(s,o)),u.join("")}var e=t.length;return n.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=r(e,t,n,0);if(a!=n.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=null!=e.Z&&ns!==Pn,u=new(i?Pn:ns);return"j"in e?u.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(u.setFullYear(e.y,0,1),u.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(u.getDay()+5)%7:e.w+7*e.U-(u.getDay()+6)%7)):u.setFullYear(e.y,e.m,e.d),u.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L),i?u._:u},n.toString=function(){return t},n}function r(t,n,r,e){for(var a,i,u,o=0,s=n.length,c=r.length;s>o;){if(e>=c)return-1;if(a=n.charCodeAt(o++),37===a){if(u=n.charAt(o++),i=T[u in es?n.charAt(o++):u],!i||(e=i(t,r,e))<0)return-1}else if(a!=r.charCodeAt(e++))return-1}return e}function e(t,n,r){w.lastIndex=0;var e=w.exec(n.substring(r));return e?(t.w=_.get(e[0].toLowerCase()),r+e[0].length):-1}function a(t,n,r){x.lastIndex=0;var e=x.exec(n.substring(r));return e?(t.w=b.get(e[0].toLowerCase()),r+e[0].length):-1}function i(t,n,r){E.lastIndex=0;var e=E.exec(n.substring(r));return e?(t.m=k.get(e[0].toLowerCase()),r+e[0].length):-1}function u(t,n,r){S.lastIndex=0;var e=S.exec(n.substring(r));return e?(t.m=q.get(e[0].toLowerCase()),r+e[0].length):-1}function o(t,n,e){return r(t,A.c.toString(),n,e)}function s(t,n,e){return r(t,A.x.toString(),n,e)}function c(t,n,e){return r(t,A.X.toString(),n,e)}function l(t,n,r){var e=y.get(n.substring(r,r+=2).toLowerCase());return null==e?-1:(t.p=e,r)}var f=t.dateTime,h=t.date,g=t.time,v=t.periods,p=t.days,d=t.shortDays,M=t.months,m=t.shortMonths;n.utc=function(t){function r(t){try{ns=Pn;var n=new ns;return n._=t,e(n)}finally{ns=Date}}var e=n(t);return r.parse=function(t){try{ns=Pn;var n=e.parse(t);return n&&n._}finally{ns=Date}},r.toString=e.toString,r},n.multi=n.utc.multi=ar;var y=Yu.map(),x=Hn(p),b=Qn(p),w=Hn(d),_=Qn(d),S=Hn(M),q=Qn(M),E=Hn(m),k=Qn(m);v.forEach(function(t,n){y.set(t.toLowerCase(),n)});var A={a:function(t){return d[t.getDay()]},A:function(t){return p[t.getDay()]},b:function(t){return m[t.getMonth()]},B:function(t){return M[t.getMonth()]},c:n(f),d:function(t,n){return Fn(t.getDate(),n,2)},e:function(t,n){return Fn(t.getDate(),n,2)},H:function(t,n){return Fn(t.getHours(),n,2)},I:function(t,n){return Fn(t.getHours()%12||12,n,2)},j:function(t,n){return Fn(1+ts.dayOfYear(t),n,3)},L:function(t,n){return Fn(t.getMilliseconds(),n,3)},m:function(t,n){return Fn(t.getMonth()+1,n,2)},M:function(t,n){return Fn(t.getMinutes(),n,2)},p:function(t){return v[+(t.getHours()>=12)]},S:function(t,n){return Fn(t.getSeconds(),n,2)},U:function(t,n){return Fn(ts.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Fn(ts.mondayOfYear(t),n,2)},x:n(h),X:n(g),y:function(t,n){return Fn(t.getFullYear()%100,n,2)},Y:function(t,n){return Fn(t.getFullYear()%1e4,n,4)},Z:rr,"%":function(){return"%"}},T={a:e,A:a,b:i,B:u,c:o,d:Gn,e:Gn,H:Jn,I:Jn,j:Wn,L:nr,m:$n,M:Kn,p:l,S:tr,U:In,w:On,W:Yn,x:s,X:c,y:Bn,Y:Zn,Z:Vn,"%":er};return n}function Fn(t,n,r){var e=0>t?"-":"",a=(e?-t:t)+"",i=a.length;return e+(r>i?new Array(r-i+1).join(n)+a:a)}function Hn(t){return new RegExp("^(?:"+t.map(Yu.requote).join("|")+")","i")}function Qn(t){for(var n=new u,r=-1,e=t.length;++r<e;)n.set(t[r].toLowerCase(),r);return n}function On(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+1));return e?(t.w=+e[0],r+e[0].length):-1}function In(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r));return e?(t.U=+e[0],r+e[0].length):-1}function Yn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r));return e?(t.W=+e[0],r+e[0].length):-1}function Zn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+4));return e?(t.y=+e[0],r+e[0].length):-1}function Bn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.y=Xn(+e[0]),r+e[0].length):-1}function Vn(t,n,r){return/^[+-]\d{4}$/.test(n=n.substring(r,r+5))?(t.Z=-n,r+5):-1}function Xn(t){return t+(t>68?1900:2e3)}function $n(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.m=e[0]-1,r+e[0].length):-1}function Gn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.d=+e[0],r+e[0].length):-1}function Wn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+3));return e?(t.j=+e[0],r+e[0].length):-1}function Jn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.H=+e[0],r+e[0].length):-1}function Kn(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.M=+e[0],r+e[0].length):-1}function tr(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+2));return e?(t.S=+e[0],r+e[0].length):-1}function nr(t,n,r){as.lastIndex=0;var e=as.exec(n.substring(r,r+3));return e?(t.L=+e[0],r+e[0].length):-1}function rr(t){var n=t.getTimezoneOffset(),r=n>0?"-":"+",e=~~(ao(n)/60),a=ao(n)%60;return r+Fn(e,"0",2)+Fn(a,"0",2)}function er(t,n,r){is.lastIndex=0;var e=is.exec(n.substring(r,r+1));return e?r+e[0].length:-1}function ar(t){for(var n=t.length,r=-1;++r<n;)t[r][0]=this(t[r][0]);return function(n){for(var r=0,e=t[r];!e[1](n);)e=t[++r];return e[0](n)}}function ir(){}function ur(t,n,r){var e=r.s=t+n,a=e-t,i=e-a;r.t=t-i+(n-a)}function or(t,n){t&&cs.hasOwnProperty(t.type)&&cs[t.type](t,n)}function sr(t,n,r){var e,a=-1,i=t.length-r;for(n.lineStart();++a<i;)e=t[a],n.point(e[0],e[1],e[2]);n.lineEnd()}function cr(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)sr(t[r],n,1);n.polygonEnd()}function lr(){function t(t,n){t*=Ao,n=n*Ao/2+_o/4;var r=t-e,u=r>=0?1:-1,o=u*r,s=Math.cos(n),c=Math.sin(n),l=i*c,f=a*s+l*Math.cos(o),h=l*u*Math.sin(o);fs.add(Math.atan2(h,f)),e=t,a=s,i=c}var n,r,e,a,i;hs.point=function(u,o){hs.point=t,e=(n=u)*Ao,a=Math.cos(o=(r=o)*Ao/2+_o/4),i=Math.sin(o)},hs.lineEnd=function(){t(n,r)}}function fr(t){var n=t[0],r=t[1],e=Math.cos(r);return[e*Math.cos(n),e*Math.sin(n),Math.sin(r)]}function hr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function gr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function vr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function pr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function dr(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Mr(t){return[Math.atan2(t[1],t[0]),W(t[2])]}function mr(t,n){return ao(t[0]-n[0])<Eo&&ao(t[1]-n[1])<Eo}function yr(t,n){t*=Ao;var r=Math.cos(n*=Ao);xr(r*Math.cos(t),r*Math.sin(t),Math.sin(n))}function xr(t,n,r){++gs,ps+=(t-ps)/gs,ds+=(n-ds)/gs,Ms+=(r-Ms)/gs}function br(){function t(t,a){t*=Ao;var i=Math.cos(a*=Ao),u=i*Math.cos(t),o=i*Math.sin(t),s=Math.sin(a),c=Math.atan2(Math.sqrt((c=r*s-e*o)*c+(c=e*u-n*s)*c+(c=n*o-r*u)*c),n*u+r*o+e*s);vs+=c,ms+=c*(n+(n=u)),ys+=c*(r+(r=o)),xs+=c*(e+(e=s)),xr(n,r,e)}var n,r,e;Ss.point=function(a,i){a*=Ao;var u=Math.cos(i*=Ao);n=u*Math.cos(a),r=u*Math.sin(a),e=Math.sin(i),Ss.point=t,xr(n,r,e)}}function wr(){Ss.point=yr}function _r(){function t(t,n){t*=Ao;var r=Math.cos(n*=Ao),u=r*Math.cos(t),o=r*Math.sin(t),s=Math.sin(n),c=a*s-i*o,l=i*u-e*s,f=e*o-a*u,h=Math.sqrt(c*c+l*l+f*f),g=e*u+a*o+i*s,v=h&&-G(g)/h,p=Math.atan2(h,g);bs+=v*c,ws+=v*l,_s+=v*f,vs+=p,ms+=p*(e+(e=u)),ys+=p*(a+(a=o)),xs+=p*(i+(i=s)),xr(e,a,i)}var n,r,e,a,i;Ss.point=function(u,o){n=u,r=o,Ss.point=t,u*=Ao;var s=Math.cos(o*=Ao);e=s*Math.cos(u),a=s*Math.sin(u),i=Math.sin(o),xr(e,a,i)},Ss.lineEnd=function(){t(n,r),Ss.lineEnd=wr,Ss.point=yr}}function Sr(){return!0}function qr(t,n,r,e,a){var i=[],u=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,r=t[0],e=t[n];if(mr(r,e)){a.lineStart();for(var o=0;n>o;++o)a.point((r=t[o])[0],r[1]);return void a.lineEnd()}var s=new kr(r,t,null,!0),c=new kr(r,null,s,!1);s.o=c,i.push(s),u.push(c),s=new kr(e,t,null,!1),c=new kr(e,null,s,!0),s.o=c,i.push(s),u.push(c)}}),u.sort(n),Er(i),Er(u),i.length){for(var o=0,s=r,c=u.length;c>o;++o)u[o].e=s=!s;for(var l,f,h=i[0];;){for(var g=h,v=!0;g.v;)if((g=g.n)===h)return;l=g.z,a.lineStart();do{if(g.v=g.o.v=!0,g.e){if(v)for(var o=0,c=l.length;c>o;++o)a.point((f=l[o])[0],f[1]);else e(g.x,g.n.x,1,a);g=g.n}else{if(v){l=g.p.z;for(var o=l.length-1;o>=0;--o)a.point((f=l[o])[0],f[1])}else e(g.x,g.p.x,-1,a);g=g.p}g=g.o,l=g.z,v=!v}while(!g.v);a.lineEnd()}}}function Er(t){if(n=t.length){for(var n,r,e=0,a=t[0];++e<n;)a.n=r=t[e],r.p=a,a=r;a.n=r=t[0],r.p=a}}function kr(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ar(t,n,r,e){return function(a,i){function u(n,r){var e=a(n,r);t(n=e[0],r=e[1])&&i.point(n,r)}function o(t,n){var r=a(t,n);d.point(r[0],r[1])}function s(){m.point=o,d.lineStart()}function c(){m.point=u,d.lineEnd()}function l(t,n){p.push([t,n]);var r=a(t,n);x.point(r[0],r[1])}function f(){x.lineStart(),p=[]}function h(){l(p[0][0],p[0][1]),x.lineEnd();var t,n=x.clean(),r=y.buffer(),e=r.length;if(p.pop(),v.push(p),p=null,e)if(1&n){t=r[0];var a,e=t.length-1,u=-1;if(e>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++u<e;)i.point((a=t[u])[0],a[1]);i.lineEnd()}}else e>1&&2&n&&r.push(r.pop().concat(r.shift())),g.push(r.filter(Tr))}var g,v,p,d=n(i),M=a.invert(e[0],e[1]),m={point:u,lineStart:s,lineEnd:c,polygonStart:function(){m.point=l,m.lineStart=f,m.lineEnd=h,g=[],v=[]},polygonEnd:function(){m.point=u,m.lineStart=s,m.lineEnd=c,g=Yu.merge(g);var t=zr(M,v);g.length?(b||(i.polygonStart(),b=!0),qr(g,Nr,t,r,i)):t&&(b||(i.polygonStart(),b=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),g=v=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}},y=Cr(),x=n(y),b=!1;return m}}function Tr(t){return t.length>1}function Cr(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,r){t.push([n,r])},lineEnd:p,buffer:function(){var r=n;return n=[],t=null,r},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Nr(t,n){return((t=t.x)[0]<0?t[1]-qo-Eo:qo-t[1])-((n=n.x)[0]<0?n[1]-qo-Eo:qo-n[1])}function zr(t,n){var r=t[0],e=t[1],a=[Math.sin(r),-Math.cos(r),0],i=0,u=0;fs.reset();for(var o=0,s=n.length;s>o;++o){var c=n[o],l=c.length;if(l)for(var f=c[0],h=f[0],g=f[1]/2+_o/4,v=Math.sin(g),p=Math.cos(g),d=1;;){d===l&&(d=0),t=c[d];var M=t[0],m=t[1]/2+_o/4,y=Math.sin(m),x=Math.cos(m),b=M-h,w=b>=0?1:-1,_=w*b,S=_>_o,q=v*y;if(fs.add(Math.atan2(q*w*Math.sin(_),p*x+q*Math.cos(_))),i+=S?b+w*So:b,S^h>=r^M>=r){var E=gr(fr(f),fr(t));dr(E);var k=gr(a,E);dr(k);var A=(S^b>=0?-1:1)*W(k[2]);(e>A||e===A&&(E[0]||E[1]))&&(u+=S^b>=0?1:-1)}if(!d++)break;h=M,v=y,p=x,f=t}}return(-Eo>i||Eo>i&&0>fs)^1&u}function Rr(t){var n,r=0/0,e=0/0,a=0/0;return{lineStart:function(){t.lineStart(),n=1},point:function(i,u){var o=i>0?_o:-_o,s=ao(i-r);ao(s-_o)<Eo?(t.point(r,e=(e+u)/2>0?qo:-qo),t.point(a,e),t.lineEnd(),t.lineStart(),t.point(o,e),t.point(i,e),n=0):a!==o&&s>=_o&&(ao(r-a)<Eo&&(r-=a*Eo),ao(i-o)<Eo&&(i-=o*Eo),e=Lr(r,e,i,u),t.point(a,e),t.lineEnd(),t.lineStart(),t.point(o,e),n=0),t.point(r=i,e=u),a=o},lineEnd:function(){t.lineEnd(),r=e=0/0},clean:function(){return 2-n}}}function Lr(t,n,r,e){var a,i,u=Math.sin(t-r);return ao(u)>Eo?Math.atan((Math.sin(n)*(i=Math.cos(e))*Math.sin(r)-Math.sin(e)*(a=Math.cos(n))*Math.sin(t))/(a*i*u)):(n+e)/2}function Pr(t,n,r,e){var a;if(null==t)a=r*qo,e.point(-_o,a),e.point(0,a),e.point(_o,a),e.point(_o,0),e.point(_o,-a),e.point(0,-a),e.point(-_o,-a),e.point(-_o,0),e.point(-_o,a);else if(ao(t[0]-n[0])>Eo){var i=t[0]<n[0]?_o:-_o;a=r*i/2,e.point(-i,a),e.point(0,a),e.point(i,a)}else e.point(n[0],n[1])}function Dr(t){function n(t,n){return Math.cos(t)*Math.cos(n)>i}function r(t){var r,i,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var g,v=[f,h],p=n(f,h),d=u?p?0:a(f,h):p?a(f+(0>f?_o:-_o),h):0;if(!r&&(c=s=p)&&t.lineStart(),p!==s&&(g=e(r,v),(mr(r,g)||mr(v,g))&&(v[0]+=Eo,v[1]+=Eo,p=n(v[0],v[1]))),p!==s)l=0,p?(t.lineStart(),g=e(v,r),t.point(g[0],g[1])):(g=e(r,v),t.point(g[0],g[1]),t.lineEnd()),r=g;else if(o&&r&&u^p){var M;d&i||!(M=e(v,r,!0))||(l=0,u?(t.lineStart(),t.point(M[0][0],M[0][1]),t.point(M[1][0],M[1][1]),t.lineEnd()):(t.point(M[1][0],M[1][1]),t.lineEnd(),t.lineStart(),t.point(M[0][0],M[0][1])))}!p||r&&mr(r,v)||t.point(v[0],v[1]),r=v,s=p,i=d},lineEnd:function(){s&&t.lineEnd(),r=null},clean:function(){return l|(c&&s)<<1}}}function e(t,n,r){var e=fr(t),a=fr(n),u=[1,0,0],o=gr(e,a),s=hr(o,o),c=o[0],l=s-c*c;if(!l)return!r&&t;var f=i*s/l,h=-i*c/l,g=gr(u,o),v=pr(u,f),p=pr(o,h);vr(v,p);var d=g,M=hr(v,d),m=hr(d,d),y=M*M-m*(hr(v,v)-1);if(!(0>y)){var x=Math.sqrt(y),b=pr(d,(-M-x)/m);if(vr(b,v),b=Mr(b),!r)return b;var w,_=t[0],S=n[0],q=t[1],E=n[1];_>S&&(w=_,_=S,S=w);var k=S-_,A=ao(k-_o)<Eo,T=A||Eo>k;if(!A&&q>E&&(w=q,q=E,E=w),T?A?q+E>0^b[1]<(ao(b[0]-_)<Eo?q:E):q<=b[1]&&b[1]<=E:k>_o^(_<=b[0]&&b[0]<=S)){var C=pr(d,(-M+x)/m);return vr(C,v),[b,Mr(C)]}}}function a(n,r){var e=u?t:_o-t,a=0;return-e>n?a|=1:n>e&&(a|=2),-e>r?a|=4:r>e&&(a|=8),a}var i=Math.cos(t),u=i>0,o=ao(i)>Eo,s=le(t,6*Ao);return Ar(n,r,s,u?[0,-t]:[-_o,t-_o])}function jr(t,n,r,e){return function(a){var i,u=a.a,o=a.b,s=u.x,c=u.y,l=o.x,f=o.y,h=0,g=1,v=l-s,p=f-c;if(i=t-s,v||!(i>0)){if(i/=v,0>v){if(h>i)return;g>i&&(g=i)}else if(v>0){if(i>g)return;i>h&&(h=i)}if(i=r-s,v||!(0>i)){if(i/=v,0>v){if(i>g)return;i>h&&(h=i)}else if(v>0){if(h>i)return;g>i&&(g=i)}if(i=n-c,p||!(i>0)){if(i/=p,0>p){if(h>i)return;g>i&&(g=i)}else if(p>0){if(i>g)return;i>h&&(h=i)}if(i=e-c,p||!(0>i)){if(i/=p,0>p){if(i>g)return;i>h&&(h=i)}else if(p>0){if(h>i)return;g>i&&(g=i)}return h>0&&(a.a={x:s+h*v,y:c+h*p}),1>g&&(a.b={x:s+g*v,y:c+g*p}),a}}}}}}function Ur(t,n,r,e){function a(e,a){return ao(e[0]-t)<Eo?a>0?0:3:ao(e[0]-r)<Eo?a>0?2:1:ao(e[1]-n)<Eo?a>0?1:0:a>0?3:2}function i(t,n){return u(t.x,n.x)}function u(t,n){var r=a(t,1),e=a(n,1);return r!==e?r-e:0===r?n[1]-t[1]:1===r?t[0]-n[0]:2===r?t[1]-n[1]:n[0]-t[0]}return function(o){function s(t){for(var n=0,r=d.length,e=t[1],a=0;r>a;++a)for(var i,u=1,o=d[a],s=o.length,c=o[0];s>u;++u)i=o[u],c[1]<=e?i[1]>e&&$(c,i,t)>0&&++n:i[1]<=e&&$(c,i,t)<0&&--n,c=i;return 0!==n}function c(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0){do c.point(0===l||3===l?t:r,l>1?e:n);while((l=(l+s+4)%4)!==f)}else c.point(o[0],o[1])}function l(a,i){return a>=t&&r>=a&&i>=n&&e>=i}function f(t,n){l(t,n)&&o.point(t,n)}function h(){T.point=v,d&&d.push(M=[]),S=!0,_=!1,b=w=0/0}function g(){p&&(v(m,y),x&&_&&k.rejoin(),p.push(k.buffer())),T.point=f,_&&o.lineEnd()}function v(t,n){t=Math.max(-Es,Math.min(Es,t)),n=Math.max(-Es,Math.min(Es,n));var r=l(t,n);if(d&&M.push([t,n]),S)m=t,y=n,x=r,S=!1,r&&(o.lineStart(),o.point(t,n));else if(r&&_)o.point(t,n);else{var e={a:{x:b,y:w},b:{x:t,y:n}};A(e)?(_||(o.lineStart(),o.point(e.a.x,e.a.y)),o.point(e.b.x,e.b.y),r||o.lineEnd(),q=!1):r&&(o.lineStart(),o.point(t,n),q=!1)}b=t,w=n,_=r}var p,d,M,m,y,x,b,w,_,S,q,E=o,k=Cr(),A=jr(t,n,r,e),T={point:f,lineStart:h,lineEnd:g,polygonStart:function(){o=k,p=[],d=[],q=!0},polygonEnd:function(){o=E,p=Yu.merge(p);var n=s([t,e]),r=q&&n,a=p.length;(r||a)&&(o.polygonStart(),r&&(o.lineStart(),c(null,null,1,o),o.lineEnd()),a&&qr(p,i,n,c,o),o.polygonEnd()),p=d=M=null}};return T}}function Fr(t,n){function r(r,e){return r=t(r,e),n(r[0],r[1])}return t.invert&&n.invert&&(r.invert=function(r,e){return r=n.invert(r,e),r&&t.invert(r[0],r[1])}),r}function Hr(t){var n=0,r=_o/3,e=re(t),a=e(n,r);return a.parallels=function(t){return arguments.length?e(n=t[0]*_o/180,r=t[1]*_o/180):[180*(n/_o),180*(r/_o)]},a}function Qr(t,n){function r(t,n){var r=Math.sqrt(i-2*a*Math.sin(n))/a;return[r*Math.sin(t*=a),u-r*Math.cos(t)]}var e=Math.sin(t),a=(e+Math.sin(n))/2,i=1+e*(2*a-e),u=Math.sqrt(i)/a;return r.invert=function(t,n){var r=u-n;return[Math.atan2(t,r)/a,W((i-(t*t+r*r)*a*a)/(2*a))]},r}function Or(){function t(t,n){As+=a*t-e*n,e=t,a=n}var n,r,e,a;Rs.point=function(i,u){Rs.point=t,n=e=i,r=a=u},Rs.lineEnd=function(){t(n,r)}}function Ir(t,n){Ts>t&&(Ts=t),t>Ns&&(Ns=t),Cs>n&&(Cs=n),n>zs&&(zs=n)}function Yr(){function t(t,n){u.push("M",t,",",n,i)}function n(t,n){u.push("M",t,",",n),o.point=r}function r(t,n){u.push("L",t,",",n)}function e(){o.point=t}function a(){u.push("Z")}var i=Zr(4.5),u=[],o={point:t,lineStart:function(){o.point=n},lineEnd:e,polygonStart:function(){o.lineEnd=a},polygonEnd:function(){o.lineEnd=e,o.point=t},pointRadius:function(t){return i=Zr(t),o},result:function(){if(u.length){var t=u.join("");return u=[],t}}};return o}function Zr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Br(t,n){ps+=t,ds+=n,++Ms}function Vr(){function t(t,e){var a=t-n,i=e-r,u=Math.sqrt(a*a+i*i);ms+=u*(n+t)/2,ys+=u*(r+e)/2,xs+=u,Br(n=t,r=e)}var n,r;Ps.point=function(e,a){Ps.point=t,Br(n=e,r=a)}}function Xr(){Ps.point=Br}function $r(){function t(t,n){var r=t-e,i=n-a,u=Math.sqrt(r*r+i*i);ms+=u*(e+t)/2,ys+=u*(a+n)/2,xs+=u,u=a*t-e*n,bs+=u*(e+t),ws+=u*(a+n),_s+=3*u,Br(e=t,a=n)}var n,r,e,a;Ps.point=function(i,u){Ps.point=t,Br(n=e=i,r=a=u)},Ps.lineEnd=function(){t(n,r)}}function Gr(t){function n(n,r){t.moveTo(n,r),t.arc(n,r,u,0,So)}function r(n,r){t.moveTo(n,r),o.point=e}function e(n,r){t.lineTo(n,r)}function a(){o.point=n}function i(){t.closePath()}var u=4.5,o={point:n,lineStart:function(){o.point=r},lineEnd:a,polygonStart:function(){o.lineEnd=i},polygonEnd:function(){o.lineEnd=a,o.point=n},pointRadius:function(t){return u=t,o},result:p};return o}function Wr(t){function n(t){return(o?e:r)(t)}function r(n){return te(n,function(r,e){r=t(r,e),n.point(r[0],r[1])})}function e(n){function r(r,e){r=t(r,e),n.point(r[0],r[1])}function e(){y=0/0,S.point=i,n.lineStart()}function i(r,e){var i=fr([r,e]),u=t(r,e);a(y,x,m,b,w,_,y=u[0],x=u[1],m=r,b=i[0],w=i[1],_=i[2],o,n),n.point(y,x)}function u(){S.point=r,n.lineEnd()}function s(){e(),S.point=c,S.lineEnd=l}function c(t,n){i(f=t,h=n),g=y,v=x,p=b,d=w,M=_,S.point=i}function l(){a(y,x,m,b,w,_,g,v,f,p,d,M,o,n),S.lineEnd=u,u()}var f,h,g,v,p,d,M,m,y,x,b,w,_,S={point:r,lineStart:e,lineEnd:u,polygonStart:function(){n.polygonStart(),S.lineStart=s},polygonEnd:function(){n.polygonEnd(),S.lineStart=e}};return S}function a(n,r,e,o,s,c,l,f,h,g,v,p,d,M){var m=l-n,y=f-r,x=m*m+y*y;if(x>4*i&&d--){var b=o+g,w=s+v,_=c+p,S=Math.sqrt(b*b+w*w+_*_),q=Math.asin(_/=S),E=ao(ao(_)-1)<Eo||ao(e-h)<Eo?(e+h)/2:Math.atan2(w,b),k=t(E,q),A=k[0],T=k[1],C=A-n,N=T-r,z=y*C-m*N;(z*z/x>i||ao((m*C+y*N)/x-.5)>.3||u>o*g+s*v+c*p)&&(a(n,r,e,o,s,c,A,T,E,b/=S,w/=S,_,d,M),M.point(A,T),a(A,T,E,b,w,_,l,f,h,g,v,p,d,M))}}var i=.5,u=Math.cos(30*Ao),o=16;return n.precision=function(t){return arguments.length?(o=(i=t*t)>0&&16,n):Math.sqrt(i)},n}function Jr(t){var n=Wr(function(n,r){return t([n*To,r*To])});return function(t){return ee(n(t))}}function Kr(t){this.stream=t}function te(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ne(t){return re(function(){return t})()}function re(t){function n(t){return t=o(t[0]*Ao,t[1]*Ao),[t[0]*h+s,c-t[1]*h]}function r(t){return t=o.invert((t[0]-s)/h,(c-t[1])/h),t&&[t[0]*To,t[1]*To]}function e(){o=Fr(u=ue(M,m,y),i);var t=i(p,d);return s=g-t[0]*h,c=v+t[1]*h,a()}function a(){return l&&(l.valid=!1,l=null),n}var i,u,o,s,c,l,f=Wr(function(t,n){return t=i(t,n),[t[0]*h+s,c-t[1]*h]
}),h=150,g=480,v=250,p=0,d=0,M=0,m=0,y=0,x=qs,b=Sn,w=null,_=null;return n.stream=function(t){return l&&(l.valid=!1),l=ee(x(u,f(b(t)))),l.valid=!0,l},n.clipAngle=function(t){return arguments.length?(x=null==t?(w=t,qs):Dr((w=+t)*Ao),a()):w},n.clipExtent=function(t){return arguments.length?(_=t,b=t?Ur(t[0][0],t[0][1],t[1][0],t[1][1]):Sn,a()):_},n.scale=function(t){return arguments.length?(h=+t,e()):h},n.translate=function(t){return arguments.length?(g=+t[0],v=+t[1],e()):[g,v]},n.center=function(t){return arguments.length?(p=t[0]%360*Ao,d=t[1]%360*Ao,e()):[p*To,d*To]},n.rotate=function(t){return arguments.length?(M=t[0]%360*Ao,m=t[1]%360*Ao,y=t.length>2?t[2]%360*Ao:0,e()):[M*To,m*To,y*To]},Yu.rebind(n,f,"precision"),function(){return i=t.apply(this,arguments),n.invert=i.invert&&r,e()}}function ee(t){return te(t,function(n,r){t.point(n*Ao,r*Ao)})}function ae(t,n){return[t,n]}function ie(t,n){return[t>_o?t-So:-_o>t?t+So:t,n]}function ue(t,n,r){return t?n||r?Fr(se(t),ce(n,r)):se(t):n||r?ce(n,r):ie}function oe(t){return function(n,r){return n+=t,[n>_o?n-So:-_o>n?n+So:n,r]}}function se(t){var n=oe(t);return n.invert=oe(-t),n}function ce(t,n){function r(t,n){var r=Math.cos(n),o=Math.cos(t)*r,s=Math.sin(t)*r,c=Math.sin(n),l=c*e+o*a;return[Math.atan2(s*i-l*u,o*e-c*a),W(l*i+s*u)]}var e=Math.cos(t),a=Math.sin(t),i=Math.cos(n),u=Math.sin(n);return r.invert=function(t,n){var r=Math.cos(n),o=Math.cos(t)*r,s=Math.sin(t)*r,c=Math.sin(n),l=c*i-s*u;return[Math.atan2(s*i+c*u,o*e+l*a),W(l*e-o*a)]},r}function le(t,n){var r=Math.cos(t),e=Math.sin(t);return function(a,i,u,o){var s=u*n;null!=a?(a=fe(r,a),i=fe(r,i),(u>0?i>a:a>i)&&(a+=u*So)):(a=t+u*So,i=t-.5*s);for(var c,l=a;u>0?l>i:i>l;l-=s)o.point((c=Mr([r,-e*Math.cos(l),-e*Math.sin(l)]))[0],c[1])}}function fe(t,n){var r=fr(n);r[0]-=t,dr(r);var e=G(-r[1]);return((-r[2]<0?-e:e)+2*Math.PI-Eo)%(2*Math.PI)}function he(t,n,r){var e=Yu.range(t,n-Eo,r).concat(n);return function(t){return e.map(function(n){return[t,n]})}}function ge(t,n,r){var e=Yu.range(t,n-Eo,r).concat(n);return function(t){return e.map(function(n){return[n,t]})}}function ve(t){return t.source}function pe(t){return t.target}function de(t,n,r,e){var a=Math.cos(n),i=Math.sin(n),u=Math.cos(e),o=Math.sin(e),s=a*Math.cos(t),c=a*Math.sin(t),l=u*Math.cos(r),f=u*Math.sin(r),h=2*Math.asin(Math.sqrt(nn(e-n)+a*u*nn(r-t))),g=1/Math.sin(h),v=h?function(t){var n=Math.sin(t*=h)*g,r=Math.sin(h-t)*g,e=r*s+n*l,a=r*c+n*f,u=r*i+n*o;return[Math.atan2(a,e)*To,Math.atan2(u,Math.sqrt(e*e+a*a))*To]}:function(){return[t*To,n*To]};return v.distance=h,v}function Me(){function t(t,a){var i=Math.sin(a*=Ao),u=Math.cos(a),o=ao((t*=Ao)-n),s=Math.cos(o);Ds+=Math.atan2(Math.sqrt((o=u*Math.sin(o))*o+(o=e*i-r*u*s)*o),r*i+e*u*s),n=t,r=i,e=u}var n,r,e;js.point=function(a,i){n=a*Ao,r=Math.sin(i*=Ao),e=Math.cos(i),js.point=t},js.lineEnd=function(){js.point=js.lineEnd=p}}function me(t,n){function r(n,r){var e=Math.cos(n),a=Math.cos(r),i=t(e*a);return[i*a*Math.sin(n),i*Math.sin(r)]}return r.invert=function(t,r){var e=Math.sqrt(t*t+r*r),a=n(e),i=Math.sin(a),u=Math.cos(a);return[Math.atan2(t*i,e*u),Math.asin(e&&r*i/e)]},r}function ye(t,n){function r(t,n){u>0?-qo+Eo>n&&(n=-qo+Eo):n>qo-Eo&&(n=qo-Eo);var r=u/Math.pow(a(n),i);return[r*Math.sin(i*t),u-r*Math.cos(i*t)]}var e=Math.cos(t),a=function(t){return Math.tan(_o/4+t/2)},i=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(a(n)/a(t)),u=e*Math.pow(a(t),i)/i;return i?(r.invert=function(t,n){var r=u-n,e=X(i)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/i,2*Math.atan(Math.pow(u/e,1/i))-qo]},r):be}function xe(t,n){function r(t,n){var r=i-n;return[r*Math.sin(a*t),i-r*Math.cos(a*t)]}var e=Math.cos(t),a=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),i=e/a+t;return ao(a)<Eo?ae:(r.invert=function(t,n){var r=i-n;return[Math.atan2(t,r)/a,i-X(a)*Math.sqrt(t*t+r*r)]},r)}function be(t,n){return[t,Math.log(Math.tan(_o/4+n/2))]}function we(t){var n,r=ne(t),e=r.scale,a=r.translate,i=r.clipExtent;return r.scale=function(){var t=e.apply(r,arguments);return t===r?n?r.clipExtent(null):r:t},r.translate=function(){var t=a.apply(r,arguments);return t===r?n?r.clipExtent(null):r:t},r.clipExtent=function(t){var u=i.apply(r,arguments);if(u===r){if(n=null==t){var o=_o*e(),s=a();i([[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]])}}else n&&(u=null);return u},r.clipExtent(null)}function _e(t,n){return[Math.log(Math.tan(_o/4+n/2)),-t]}function Se(t){return t[0]}function qe(t){return t[1]}function Ee(t){for(var n=t.length,r=[0,1],e=2,a=2;n>a;a++){for(;e>1&&$(t[r[e-2]],t[r[e-1]],t[a])<=0;)--e;r[e++]=a}return r.slice(0,e)}function ke(t,n){return t[0]-n[0]||t[1]-n[1]}function Ae(t,n,r){return(r[0]-n[0])*(t[1]-n[1])<(r[1]-n[1])*(t[0]-n[0])}function Te(t,n,r,e){var a=t[0],i=r[0],u=n[0]-a,o=e[0]-i,s=t[1],c=r[1],l=n[1]-s,f=e[1]-c,h=(o*(s-c)-f*(a-i))/(f*u-o*l);return[a+h*u,s+h*l]}function Ce(t){var n=t[0],r=t[t.length-1];return!(n[0]-r[0]||n[1]-r[1])}function Ne(){Je(this),this.edge=this.site=this.circle=null}function ze(t){var n=$s.pop()||new Ne;return n.site=t,n}function Re(t){Ie(t),Bs.remove(t),$s.push(t),Je(t)}function Le(t){var n=t.circle,r=n.x,e=n.cy,a={x:r,y:e},i=t.P,u=t.N,o=[t];Re(t);for(var s=i;s.circle&&ao(r-s.circle.x)<Eo&&ao(e-s.circle.cy)<Eo;)i=s.P,o.unshift(s),Re(s),s=i;o.unshift(s),Ie(s);for(var c=u;c.circle&&ao(r-c.circle.x)<Eo&&ao(e-c.circle.cy)<Eo;)u=c.N,o.push(c),Re(c),c=u;o.push(c),Ie(c);var l,f=o.length;for(l=1;f>l;++l)c=o[l],s=o[l-1],$e(c.edge,s.site,c.site,a);s=o[0],c=o[f-1],c.edge=Ve(s.site,c.site,null,a),Oe(s),Oe(c)}function Pe(t){for(var n,r,e,a,i=t.x,u=t.y,o=Bs._;o;)if(e=De(o,u)-i,e>Eo)o=o.L;else{if(a=i-je(o,u),!(a>Eo)){e>-Eo?(n=o.P,r=o):a>-Eo?(n=o,r=o.N):n=r=o;break}if(!o.R){n=o;break}o=o.R}var s=ze(t);if(Bs.insert(n,s),n||r){if(n===r)return Ie(n),r=ze(n.site),Bs.insert(s,r),s.edge=r.edge=Ve(n.site,s.site),Oe(n),void Oe(r);if(!r)return void(s.edge=Ve(n.site,s.site));Ie(n),Ie(r);var c=n.site,l=c.x,f=c.y,h=t.x-l,g=t.y-f,v=r.site,p=v.x-l,d=v.y-f,M=2*(h*d-g*p),m=h*h+g*g,y=p*p+d*d,x={x:(d*m-g*y)/M+l,y:(h*y-p*m)/M+f};$e(r.edge,c,v,x),s.edge=Ve(c,t,null,x),r.edge=Ve(t,v,null,x),Oe(n),Oe(r)}}function De(t,n){var r=t.site,e=r.x,a=r.y,i=a-n;if(!i)return e;var u=t.P;if(!u)return-1/0;r=u.site;var o=r.x,s=r.y,c=s-n;if(!c)return o;var l=o-e,f=1/i-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+a-i/2)))/f+e:(e+o)/2}function je(t,n){var r=t.N;if(r)return De(r,n);var e=t.site;return e.y===n?e.x:1/0}function Ue(t){this.site=t,this.edges=[]}function Fe(t){for(var n,r,e,a,i,u,o,s,c,l,f=t[0][0],h=t[1][0],g=t[0][1],v=t[1][1],p=Zs,d=p.length;d--;)if(i=p[d],i&&i.prepare())for(o=i.edges,s=o.length,u=0;s>u;)l=o[u].end(),e=l.x,a=l.y,c=o[++u%s].start(),n=c.x,r=c.y,(ao(e-n)>Eo||ao(a-r)>Eo)&&(o.splice(u,0,new Ge(Xe(i.site,l,ao(e-f)<Eo&&v-a>Eo?{x:f,y:ao(n-f)<Eo?r:v}:ao(a-v)<Eo&&h-e>Eo?{x:ao(r-v)<Eo?n:h,y:v}:ao(e-h)<Eo&&a-g>Eo?{x:h,y:ao(n-h)<Eo?r:g}:ao(a-g)<Eo&&e-f>Eo?{x:ao(r-g)<Eo?n:f,y:g}:null),i.site,null)),++s)}function He(t,n){return n.angle-t.angle}function Qe(){Je(this),this.x=this.y=this.arc=this.site=this.cy=null}function Oe(t){var n=t.P,r=t.N;if(n&&r){var e=n.site,a=t.site,i=r.site;if(e!==i){var u=a.x,o=a.y,s=e.x-u,c=e.y-o,l=i.x-u,f=i.y-o,h=2*(s*f-c*l);if(!(h>=-ko)){var g=s*s+c*c,v=l*l+f*f,p=(f*g-c*v)/h,d=(s*v-l*g)/h,f=d+o,M=Gs.pop()||new Qe;M.arc=t,M.site=a,M.x=p+u,M.y=f+Math.sqrt(p*p+d*d),M.cy=f,t.circle=M;for(var m=null,y=Xs._;y;)if(M.y<y.y||M.y===y.y&&M.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}Xs.insert(m,M),m||(Vs=M)}}}}function Ie(t){var n=t.circle;n&&(n.P||(Vs=n.N),Xs.remove(n),Gs.push(n),Je(n),t.circle=null)}function Ye(t){for(var n,r=Ys,e=jr(t[0][0],t[0][1],t[1][0],t[1][1]),a=r.length;a--;)n=r[a],(!Ze(n,t)||!e(n)||ao(n.a.x-n.b.x)<Eo&&ao(n.a.y-n.b.y)<Eo)&&(n.a=n.b=null,r.splice(a,1))}function Ze(t,n){var r=t.b;if(r)return!0;var e,a,i=t.a,u=n[0][0],o=n[1][0],s=n[0][1],c=n[1][1],l=t.l,f=t.r,h=l.x,g=l.y,v=f.x,p=f.y,d=(h+v)/2,M=(g+p)/2;if(p===g){if(u>d||d>=o)return;if(h>v){if(i){if(i.y>=c)return}else i={x:d,y:s};r={x:d,y:c}}else{if(i){if(i.y<s)return}else i={x:d,y:c};r={x:d,y:s}}}else if(e=(h-v)/(p-g),a=M-e*d,-1>e||e>1)if(h>v){if(i){if(i.y>=c)return}else i={x:(s-a)/e,y:s};r={x:(c-a)/e,y:c}}else{if(i){if(i.y<s)return}else i={x:(c-a)/e,y:c};r={x:(s-a)/e,y:s}}else if(p>g){if(i){if(i.x>=o)return}else i={x:u,y:e*u+a};r={x:o,y:e*o+a}}else{if(i){if(i.x<u)return}else i={x:o,y:e*o+a};r={x:u,y:e*u+a}}return t.a=i,t.b=r,!0}function Be(t,n){this.l=t,this.r=n,this.a=this.b=null}function Ve(t,n,r,e){var a=new Be(t,n);return Ys.push(a),r&&$e(a,t,n,r),e&&$e(a,n,t,e),Zs[t.i].edges.push(new Ge(a,t,n)),Zs[n.i].edges.push(new Ge(a,n,t)),a}function Xe(t,n,r){var e=new Be(t,null);return e.a=n,e.b=r,Ys.push(e),e}function $e(t,n,r,e){t.a||t.b?t.l===r?t.b=e:t.a=e:(t.a=e,t.l=n,t.r=r)}function Ge(t,n,r){var e=t.a,a=t.b;this.edge=t,this.site=n,this.angle=r?Math.atan2(r.y-n.y,r.x-n.x):t.l===n?Math.atan2(a.x-e.x,e.y-a.y):Math.atan2(e.x-a.x,a.y-e.y)}function We(){this._=null}function Je(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ke(t,n){var r=n,e=n.R,a=r.U;a?a.L===r?a.L=e:a.R=e:t._=e,e.U=a,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function ta(t,n){var r=n,e=n.L,a=r.U;a?a.L===r?a.L=e:a.R=e:t._=e,e.U=a,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function na(t){for(;t.L;)t=t.L;return t}function ra(t,n){var r,e,a,i=t.sort(ea).pop();for(Ys=[],Zs=new Array(t.length),Bs=new We,Xs=new We;;)if(a=Vs,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))(i.x!==r||i.y!==e)&&(Zs[i.i]=new Ue(i),Pe(i),r=i.x,e=i.y),i=t.pop();else{if(!a)break;Le(a.arc)}n&&(Ye(n),Fe(n));var u={cells:Zs,edges:Ys};return Bs=Xs=Ys=Zs=null,u}function ea(t,n){return n.y-t.y||n.x-t.x}function aa(t,n,r){return(t.x-r.x)*(n.y-t.y)-(t.x-n.x)*(r.y-t.y)}function ia(t){return t.x}function ua(t){return t.y}function oa(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function sa(t,n,r,e,a,i){if(!t(n,r,e,a,i)){var u=.5*(r+a),o=.5*(e+i),s=n.nodes;s[0]&&sa(t,s[0],r,e,u,o),s[1]&&sa(t,s[1],u,e,a,o),s[2]&&sa(t,s[2],r,o,u,i),s[3]&&sa(t,s[3],u,o,a,i)}}function ca(t,n){t=Yu.rgb(t),n=Yu.rgb(n);var r=t.r,e=t.g,a=t.b,i=n.r-r,u=n.g-e,o=n.b-a;return function(t){return"#"+Mn(Math.round(r+i*t))+Mn(Math.round(e+u*t))+Mn(Math.round(a+o*t))}}function la(t,n){var r,e={},a={};for(r in t)r in n?e[r]=ga(t[r],n[r]):a[r]=t[r];for(r in n)r in t||(a[r]=n[r]);return function(t){for(r in e)a[r]=e[r](t);return a}}function fa(t,n){return n-=t=+t,function(r){return t+n*r}}function ha(t,n){var r,e,a,i=Js.lastIndex=Ks.lastIndex=0,u=-1,o=[],s=[];for(t+="",n+="";(r=Js.exec(t))&&(e=Ks.exec(n));)(a=e.index)>i&&(a=n.substring(i,a),o[u]?o[u]+=a:o[++u]=a),(r=r[0])===(e=e[0])?o[u]?o[u]+=e:o[++u]=e:(o[++u]=null,s.push({i:u,x:fa(r,e)})),i=Ks.lastIndex;return i<n.length&&(a=n.substring(i),o[u]?o[u]+=a:o[++u]=a),o.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var r,e=0;n>e;++e)o[(r=s[e]).i]=r.x(t);return o.join("")})}function ga(t,n){for(var r,e=Yu.interpolators.length;--e>=0&&!(r=Yu.interpolators[e](t,n)););return r}function va(t,n){var r,e=[],a=[],i=t.length,u=n.length,o=Math.min(t.length,n.length);for(r=0;o>r;++r)e.push(ga(t[r],n[r]));for(;i>r;++r)a[r]=t[r];for(;u>r;++r)a[r]=n[r];return function(t){for(r=0;o>r;++r)a[r]=e[r](t);return a}}function pa(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function da(t){return function(n){return 1-t(1-n)}}function Ma(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function ma(t){return t*t}function ya(t){return t*t*t}function xa(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,r=n*t;return 4*(.5>t?r:3*(t-n)+r-.75)}function ba(t){return function(n){return Math.pow(n,t)}}function wa(t){return 1-Math.cos(t*qo)}function _a(t){return Math.pow(2,10*(t-1))}function Sa(t){return 1-Math.sqrt(1-t*t)}function qa(t,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/So*Math.asin(1/t):(t=1,r=n/4),function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-r)*So/n)}}function Ea(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function ka(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Aa(t,n){t=Yu.hcl(t),n=Yu.hcl(n);var r=t.h,e=t.c,a=t.l,i=n.h-r,u=n.c-e,o=n.l-a;return isNaN(u)&&(u=0,e=isNaN(e)?n.c:e),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:-180>i&&(i+=360),function(t){return on(r+i*t,e+u*t,a+o*t)+""}}function Ta(t,n){t=Yu.hsl(t),n=Yu.hsl(n);var r=t.h,e=t.s,a=t.l,i=n.h-r,u=n.s-e,o=n.l-a;return isNaN(u)&&(u=0,e=isNaN(e)?n.s:e),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:-180>i&&(i+=360),function(t){return an(r+i*t,e+u*t,a+o*t)+""}}function Ca(t,n){t=Yu.lab(t),n=Yu.lab(n);var r=t.l,e=t.a,a=t.b,i=n.l-r,u=n.a-e,o=n.b-a;return function(t){return cn(r+i*t,e+u*t,a+o*t)+""}}function Na(t,n){return n-=t,function(r){return Math.round(t+n*r)}}function za(t){var n=[t.a,t.b],r=[t.c,t.d],e=La(n),a=Ra(n,r),i=La(Pa(r,n,-a))||0;n[0]*r[1]<r[0]*n[1]&&(n[0]*=-1,n[1]*=-1,e*=-1,a*=-1),this.rotate=(e?Math.atan2(n[1],n[0]):Math.atan2(-r[0],r[1]))*To,this.translate=[t.e,t.f],this.scale=[e,i],this.skew=i?Math.atan2(a,i)*To:0}function Ra(t,n){return t[0]*n[0]+t[1]*n[1]}function La(t){var n=Math.sqrt(Ra(t,t));return n&&(t[0]/=n,t[1]/=n),n}function Pa(t,n,r){return t[0]+=r*n[0],t[1]+=r*n[1],t}function Da(t,n){var r,e=[],a=[],i=Yu.transform(t),u=Yu.transform(n),o=i.translate,s=u.translate,c=i.rotate,l=u.rotate,f=i.skew,h=u.skew,g=i.scale,v=u.scale;return o[0]!=s[0]||o[1]!=s[1]?(e.push("translate(",null,",",null,")"),a.push({i:1,x:fa(o[0],s[0])},{i:3,x:fa(o[1],s[1])})):e.push(s[0]||s[1]?"translate("+s+")":""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),a.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:fa(c,l)})):l&&e.push(e.pop()+"rotate("+l+")"),f!=h?a.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:fa(f,h)}):h&&e.push(e.pop()+"skewX("+h+")"),g[0]!=v[0]||g[1]!=v[1]?(r=e.push(e.pop()+"scale(",null,",",null,")"),a.push({i:r-4,x:fa(g[0],v[0])},{i:r-2,x:fa(g[1],v[1])})):(1!=v[0]||1!=v[1])&&e.push(e.pop()+"scale("+v+")"),r=a.length,function(t){for(var n,i=-1;++i<r;)e[(n=a[i]).i]=n.x(t);return e.join("")}}function ja(t,n){return n=n-(t=+t)?1/(n-t):0,function(r){return(r-t)*n}}function Ua(t,n){return n=n-(t=+t)?1/(n-t):0,function(r){return Math.max(0,Math.min(1,(r-t)*n))}}function Fa(t){for(var n=t.source,r=t.target,e=Qa(n,r),a=[n];n!==e;)n=n.parent,a.push(n);for(var i=a.length;r!==e;)a.splice(i,0,r),r=r.parent;return a}function Ha(t){for(var n=[],r=t.parent;null!=r;)n.push(t),t=r,r=r.parent;return n.push(t),n}function Qa(t,n){if(t===n)return t;for(var r=Ha(t),e=Ha(n),a=r.pop(),i=e.pop(),u=null;a===i;)u=a,a=r.pop(),i=e.pop();return u}function Oa(t){t.fixed|=2}function Ia(t){t.fixed&=-7}function Ya(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Za(t){t.fixed&=-5}function Ba(t,n,r){var e=0,a=0;if(t.charge=0,!t.leaf)for(var i,u=t.nodes,o=u.length,s=-1;++s<o;)i=u[s],null!=i&&(Ba(i,n,r),t.charge+=i.charge,e+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*r[t.point.index];t.charge+=t.pointCharge=c,e+=c*t.point.x,a+=c*t.point.y}t.cx=e/t.charge,t.cy=a/t.charge}function Va(t,n){return Yu.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=Ka,t}function Xa(t,n){for(var r=[t];null!=(t=r.pop());)if(n(t),(a=t.children)&&(e=a.length))for(var e,a;--e>=0;)r.push(a[e])}function $a(t,n){for(var r=[t],e=[];null!=(t=r.pop());)if(e.push(t),(i=t.children)&&(a=i.length))for(var a,i,u=-1;++u<a;)r.push(i[u]);for(;null!=(t=e.pop());)n(t)}function Ga(t){return t.children}function Wa(t){return t.value}function Ja(t,n){return n.value-t.value}function Ka(t){return Yu.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function ti(t){return t.x}function ni(t){return t.y}function ri(t,n,r){t.y0=n,t.y=r}function ei(t){return Yu.range(t.length)}function ai(t){for(var n=-1,r=t[0].length,e=[];++n<r;)e[n]=0;return e}function ii(t){for(var n,r=1,e=0,a=t[0][1],i=t.length;i>r;++r)(n=t[r][1])>a&&(e=r,a=n);return e}function ui(t){return t.reduce(oi,0)}function oi(t,n){return t+n[1]}function si(t,n){return ci(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function ci(t,n){for(var r=-1,e=+t[0],a=(t[1]-e)/n,i=[];++r<=n;)i[r]=a*r+e;return i}function li(t){return[Yu.min(t),Yu.max(t)]}function fi(t,n){return t.value-n.value}function hi(t,n){var r=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=r,r._pack_prev=n}function gi(t,n){t._pack_next=n,n._pack_prev=t}function vi(t,n){var r=n.x-t.x,e=n.y-t.y,a=t.r+n.r;return.999*a*a>r*r+e*e}function pi(t){function n(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),g=Math.max(t.y+t.r,g)}if((r=t.children)&&(c=r.length)){var r,e,a,i,u,o,s,c,l=1/0,f=-1/0,h=1/0,g=-1/0;if(r.forEach(di),e=r[0],e.x=-e.r,e.y=0,n(e),c>1&&(a=r[1],a.x=a.r,a.y=0,n(a),c>2))for(i=r[2],yi(e,a,i),n(i),hi(e,i),e._pack_prev=i,hi(i,a),a=e._pack_next,u=3;c>u;u++){yi(e,a,i=r[u]);var v=0,p=1,d=1;for(o=a._pack_next;o!==a;o=o._pack_next,p++)if(vi(o,i)){v=1;break}if(1==v)for(s=e._pack_prev;s!==o._pack_prev&&!vi(s,i);s=s._pack_prev,d++);v?(d>p||p==d&&a.r<e.r?gi(e,a=o):gi(e=s,a),u--):(hi(e,i),a=i,n(i))}var M=(l+f)/2,m=(h+g)/2,y=0;for(u=0;c>u;u++)i=r[u],i.x-=M,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,r.forEach(Mi)}}function di(t){t._pack_next=t._pack_prev=t}function Mi(t){delete t._pack_next,delete t._pack_prev}function mi(t,n,r,e){var a=t.children;if(t.x=n+=e*t.x,t.y=r+=e*t.y,t.r*=e,a)for(var i=-1,u=a.length;++i<u;)mi(a[i],n,r,e)}function yi(t,n,r){var e=t.r+r.r,a=n.x-t.x,i=n.y-t.y;if(e&&(a||i)){var u=n.r+r.r,o=a*a+i*i;u*=u,e*=e;var s=.5+(e-u)/(2*o),c=Math.sqrt(Math.max(0,2*u*(e+o)-(e-=o)*e-u*u))/(2*o);r.x=t.x+s*a+c*i,r.y=t.y+s*i-c*a}else r.x=t.x+e,r.y=t.y}function xi(t,n){return t.parent==n.parent?1:2}function bi(t){var n=t.children;return n.length?n[0]:t.t}function wi(t){var n,r=t.children;return(n=r.length)?r[n-1]:t.t}function _i(t,n,r){var e=r/(n.i-t.i);n.c-=e,n.s+=r,t.c+=e,n.z+=r,n.m+=r}function Si(t){for(var n,r=0,e=0,a=t.children,i=a.length;--i>=0;)n=a[i],n.z+=r,n.m+=r,r+=n.s+(e+=n.c)}function qi(t,n,r){return t.a.parent===n.parent?t.a:r}function Ei(t){return 1+Yu.max(t,function(t){return t.y})}function ki(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Ai(t){var n=t.children;return n&&n.length?Ai(n[0]):t}function Ti(t){var n,r=t.children;return r&&(n=r.length)?Ti(r[n-1]):t}function Ci(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ni(t,n){var r=t.x+n[3],e=t.y+n[0],a=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return 0>a&&(r+=a/2,a=0),0>i&&(e+=i/2,i=0),{x:r,y:e,dx:a,dy:i}}function zi(t){var n=t[0],r=t[t.length-1];return r>n?[n,r]:[r,n]}function Ri(t){return t.rangeExtent?t.rangeExtent():zi(t.range())}function Li(t,n,r,e){var a=r(t[0],t[1]),i=e(n[0],n[1]);return function(t){return i(a(t))}}function Pi(t,n){var r,e=0,a=t.length-1,i=t[e],u=t[a];return i>u&&(r=e,e=a,a=r,r=i,i=u,u=r),t[e]=n.floor(i),t[a]=n.ceil(u),t}function Di(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:lc}function ji(t,n,r,e){var a=[],i=[],u=0,o=Math.min(t.length,n.length)-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<=o;)a.push(r(t[u-1],t[u])),i.push(e(n[u-1],n[u]));return function(n){var r=Yu.bisect(t,n,1,o)-1;return i[r](a[r](n))}}function Ui(t,n,r,e){function a(){var a=Math.min(t.length,n.length)>2?ji:Li,s=e?Ua:ja;return u=a(t,n,s,r),o=a(n,t,s,ga),i}function i(t){return u(t)}var u,o;return i.invert=function(t){return o(t)},i.domain=function(n){return arguments.length?(t=n.map(Number),a()):t},i.range=function(t){return arguments.length?(n=t,a()):n},i.rangeRound=function(t){return i.range(t).interpolate(Na)},i.clamp=function(t){return arguments.length?(e=t,a()):e},i.interpolate=function(t){return arguments.length?(r=t,a()):r},i.ticks=function(n){return Oi(t,n)},i.tickFormat=function(n,r){return Ii(t,n,r)},i.nice=function(n){return Hi(t,n),a()},i.copy=function(){return Ui(t,n,r,e)},a()}function Fi(t,n){return Yu.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Hi(t,n){return Pi(t,Di(Qi(t,n)[2]))}function Qi(t,n){null==n&&(n=10);var r=zi(t),e=r[1]-r[0],a=Math.pow(10,Math.floor(Math.log(e/n)/Math.LN10)),i=n/e*a;return.15>=i?a*=10:.35>=i?a*=5:.75>=i&&(a*=2),r[0]=Math.ceil(r[0]/a)*a,r[1]=Math.floor(r[1]/a)*a+.5*a,r[2]=a,r}function Oi(t,n){return Yu.range.apply(Yu,Qi(t,n))}function Ii(t,n,r){var e=Qi(t,n);if(r){var a=Jo.exec(r);if(a.shift(),"s"===a[8]){var i=Yu.formatPrefix(Math.max(ao(e[0]),ao(e[1])));return a[7]||(a[7]="."+Yi(i.scale(e[2]))),a[8]="f",r=Yu.format(a.join("")),function(t){return r(i.scale(t))+i.symbol}}a[7]||(a[7]="."+Zi(a[8],e)),r=a.join("")}else r=",."+Yi(e[2])+"f";return Yu.format(r)}function Yi(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zi(t,n){var r=Yi(n[2]);return t in fc?Math.abs(r-Yi(Math.max(ao(n[0]),ao(n[1]))))+ +("e"!==t):r-2*("%"===t)}function Bi(t,n,r,e){function a(t){return(r?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function i(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function u(n){return t(a(n))}return u.invert=function(n){return i(t.invert(n))},u.domain=function(n){return arguments.length?(r=n[0]>=0,t.domain((e=n.map(Number)).map(a)),u):e},u.base=function(r){return arguments.length?(n=+r,t.domain(e.map(a)),u):n},u.nice=function(){var n=Pi(e.map(a),r?Math:gc);return t.domain(n),e=n.map(i),u},u.ticks=function(){var t=zi(e),u=[],o=t[0],s=t[1],c=Math.floor(a(o)),l=Math.ceil(a(s)),f=n%1?2:n;if(isFinite(l-c)){if(r){for(;l>c;c++)for(var h=1;f>h;h++)u.push(i(c)*h);u.push(i(c))}else for(u.push(i(c));c++<l;)for(var h=f-1;h>0;h--)u.push(i(c)*h);for(c=0;u[c]<o;c++);for(l=u.length;u[l-1]>s;l--);u=u.slice(c,l)}return u},u.tickFormat=function(t,n){if(!arguments.length)return hc;arguments.length<2?n=hc:"function"!=typeof n&&(n=Yu.format(n));var e,o=Math.max(.1,t/u.ticks().length),s=r?(e=1e-12,Math.ceil):(e=-1e-12,Math.floor);return function(t){return t/i(s(a(t)+e))<=o?n(t):""}},u.copy=function(){return Bi(t.copy(),n,r,e)},Fi(u,t)}function Vi(t,n,r){function e(n){return t(a(n))}var a=Xi(n),i=Xi(1/n);return e.invert=function(n){return i(t.invert(n))},e.domain=function(n){return arguments.length?(t.domain((r=n.map(Number)).map(a)),e):r},e.ticks=function(t){return Oi(r,t)},e.tickFormat=function(t,n){return Ii(r,t,n)},e.nice=function(t){return e.domain(Hi(r,t))},e.exponent=function(u){return arguments.length?(a=Xi(n=u),i=Xi(1/n),t.domain(r.map(a)),e):n},e.copy=function(){return Vi(t.copy(),n,r)},Fi(e,t)}function Xi(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function $i(t,n){function r(r){return i[((a.get(r)||("range"===n.t?a.set(r,t.push(r)):0/0))-1)%i.length]}function e(n,r){return Yu.range(t.length).map(function(t){return n+r*t})}var a,i,o;return r.domain=function(e){if(!arguments.length)return t;t=[],a=new u;for(var i,o=-1,s=e.length;++o<s;)a.has(i=e[o])||a.set(i,t.push(i));return r[n.t].apply(r,n.a)},r.range=function(t){return arguments.length?(i=t,o=0,n={t:"range",a:arguments},r):i},r.rangePoints=function(a,u){arguments.length<2&&(u=0);var s=a[0],c=a[1],l=(c-s)/(Math.max(1,t.length-1)+u);return i=e(t.length<2?(s+c)/2:s+l*u/2,l),o=0,n={t:"rangePoints",a:arguments},r},r.rangeBands=function(a,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var c=a[1]<a[0],l=a[c-0],f=a[1-c],h=(f-l)/(t.length-u+2*s);return i=e(l+h*s,h),c&&i.reverse(),o=h*(1-u),n={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(a,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var c=a[1]<a[0],l=a[c-0],f=a[1-c],h=Math.floor((f-l)/(t.length-u+2*s)),g=f-l-(t.length-u)*h;return i=e(l+Math.round(g/2),h),c&&i.reverse(),o=Math.round(h*(1-u)),n={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return o},r.rangeExtent=function(){return zi(n.a[0])},r.copy=function(){return $i(t,n)},r.domain(t)}function Gi(r,e){function a(){var t=0,n=e.length;for(u=[];++t<n;)u[t-1]=Yu.quantile(r,t/n);return i}function i(t){return isNaN(t=+t)?void 0:e[Yu.bisect(u,t)]}var u;return i.domain=function(e){return arguments.length?(r=e.filter(n).sort(t),a()):r},i.range=function(t){return arguments.length?(e=t,a()):e},i.quantiles=function(){return u},i.invertExtent=function(t){return t=e.indexOf(t),0>t?[0/0,0/0]:[t>0?u[t-1]:r[0],t<u.length?u[t]:r[r.length-1]]},i.copy=function(){return Gi(r,e)},a()}function Wi(t,n,r){function e(n){return r[Math.max(0,Math.min(u,Math.floor(i*(n-t))))]}function a(){return i=r.length/(n-t),u=r.length-1,e}var i,u;return e.domain=function(r){return arguments.length?(t=+r[0],n=+r[r.length-1],a()):[t,n]},e.range=function(t){return arguments.length?(r=t,a()):r},e.invertExtent=function(n){return n=r.indexOf(n),n=0>n?0/0:n/i+t,[n,n+1/i]},e.copy=function(){return Wi(t,n,r)},a()}function Ji(t,n){function r(r){return r>=r?n[Yu.bisect(t,r)]:void 0}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(r){return r=n.indexOf(r),[t[r-1],t[r]]},r.copy=function(){return Ji(t,n)},r}function Ki(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=r.map(n),n):t},n.ticks=function(n){return Oi(t,n)},n.tickFormat=function(n,r){return Ii(t,n,r)},n.copy=function(){return Ki(t)},n}function tu(t){return t.innerRadius}function nu(t){return t.outerRadius}function ru(t){return t.startAngle}function eu(t){return t.endAngle}function au(t){function n(n){function u(){c.push("M",i(t(l),o))}for(var s,c=[],l=[],f=-1,h=n.length,g=_n(r),v=_n(e);++f<h;)a.call(this,s=n[f],f)?l.push([+g.call(this,s,f),+v.call(this,s,f)]):l.length&&(u(),l=[]);return l.length&&u(),c.length?c.join(""):null}var r=Se,e=qe,a=Sr,i=iu,u=i.key,o=.7;return n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(e=t,n):e},n.defined=function(t){return arguments.length?(a=t,n):a},n.interpolate=function(t){return arguments.length?(u="function"==typeof t?i=t:(i=xc.get(t)||iu).key,n):u},n.tension=function(t){return arguments.length?(o=t,n):o},n}function iu(t){return t.join("L")}function uu(t){return iu(t)+"Z"}function ou(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("H",(e[0]+(e=t[n])[0])/2,"V",e[1]);return r>1&&a.push("H",e[0]),a.join("")}function su(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("V",(e=t[n])[1],"H",e[0]);return a.join("")}function cu(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("H",(e=t[n])[0],"V",e[1]);return a.join("")}function lu(t,n){return t.length<4?iu(t):t[1]+gu(t.slice(1,t.length-1),vu(t,n))}function fu(t,n){return t.length<3?iu(t):t[0]+gu((t.push(t[0]),t),vu([t[t.length-2]].concat(t,[t[1]]),n))}function hu(t,n){return t.length<3?iu(t):t[0]+gu(t,vu(t,n))}function gu(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return iu(t);var r=t.length!=n.length,e="",a=t[0],i=t[1],u=n[0],o=u,s=1;if(r&&(e+="Q"+(i[0]-2*u[0]/3)+","+(i[1]-2*u[1]/3)+","+i[0]+","+i[1],a=t[1],s=2),n.length>1){o=n[1],i=t[s],s++,e+="C"+(a[0]+u[0])+","+(a[1]+u[1])+","+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1];for(var c=2;c<n.length;c++,s++)i=t[s],o=n[c],e+="S"+(i[0]-o[0])+","+(i[1]-o[1])+","+i[0]+","+i[1]}if(r){var l=t[s];e+="Q"+(i[0]+2*o[0]/3)+","+(i[1]+2*o[1]/3)+","+l[0]+","+l[1]}return e}function vu(t,n){for(var r,e=[],a=(1-n)/2,i=t[0],u=t[1],o=1,s=t.length;++o<s;)r=i,i=u,u=t[o],e.push([a*(u[0]-r[0]),a*(u[1]-r[1])]);return e}function pu(t){if(t.length<3)return iu(t);var n=1,r=t.length,e=t[0],a=e[0],i=e[1],u=[a,a,a,(e=t[1])[0]],o=[i,i,i,e[1]],s=[a,",",i,"L",yu(_c,u),",",yu(_c,o)];for(t.push(t[r-1]);++n<=r;)e=t[n],u.shift(),u.push(e[0]),o.shift(),o.push(e[1]),xu(s,u,o);return t.pop(),s.push("L",e),s.join("")}function du(t){if(t.length<4)return iu(t);for(var n,r=[],e=-1,a=t.length,i=[0],u=[0];++e<3;)n=t[e],i.push(n[0]),u.push(n[1]);for(r.push(yu(_c,i)+","+yu(_c,u)),--e;++e<a;)n=t[e],i.shift(),i.push(n[0]),u.shift(),u.push(n[1]),xu(r,i,u);return r.join("")}function Mu(t){for(var n,r,e=-1,a=t.length,i=a+4,u=[],o=[];++e<4;)r=t[e%a],u.push(r[0]),o.push(r[1]);for(n=[yu(_c,u),",",yu(_c,o)],--e;++e<i;)r=t[e%a],u.shift(),u.push(r[0]),o.shift(),o.push(r[1]),xu(n,u,o);return n.join("")}function mu(t,n){var r=t.length-1;if(r)for(var e,a,i=t[0][0],u=t[0][1],o=t[r][0]-i,s=t[r][1]-u,c=-1;++c<=r;)e=t[c],a=c/r,e[0]=n*e[0]+(1-n)*(i+a*o),e[1]=n*e[1]+(1-n)*(u+a*s);return pu(t)}function yu(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function xu(t,n,r){t.push("C",yu(bc,n),",",yu(bc,r),",",yu(wc,n),",",yu(wc,r),",",yu(_c,n),",",yu(_c,r))}function bu(t,n){return(n[1]-t[1])/(n[0]-t[0])}function wu(t){for(var n=0,r=t.length-1,e=[],a=t[0],i=t[1],u=e[0]=bu(a,i);++n<r;)e[n]=(u+(u=bu(a=i,i=t[n+1])))/2;return e[n]=u,e}function _u(t){for(var n,r,e,a,i=[],u=wu(t),o=-1,s=t.length-1;++o<s;)n=bu(t[o],t[o+1]),ao(n)<Eo?u[o]=u[o+1]=0:(r=u[o]/n,e=u[o+1]/n,a=r*r+e*e,a>9&&(a=3*n/Math.sqrt(a),u[o]=a*r,u[o+1]=a*e));for(o=-1;++o<=s;)a=(t[Math.min(s,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+u[o]*u[o])),i.push([a||0,u[o]*a||0]);return i}function Su(t){return t.length<3?iu(t):t[0]+gu(t,_u(t))}function qu(t){for(var n,r,e,a=-1,i=t.length;++a<i;)n=t[a],r=n[0],e=n[1]+mc,n[0]=r*Math.cos(e),n[1]=r*Math.sin(e);return t}function Eu(t){function n(n){function s(){p.push("M",o(t(M),f),l,c(t(d.reverse()),f),"Z")}for(var h,g,v,p=[],d=[],M=[],m=-1,y=n.length,x=_n(r),b=_n(a),w=r===e?function(){return g}:_n(e),_=a===i?function(){return v}:_n(i);++m<y;)u.call(this,h=n[m],m)?(d.push([g=+x.call(this,h,m),v=+b.call(this,h,m)]),M.push([+w.call(this,h,m),+_.call(this,h,m)])):d.length&&(s(),d=[],M=[]);return d.length&&s(),p.length?p.join(""):null}var r=Se,e=Se,a=0,i=qe,u=Sr,o=iu,s=o.key,c=o,l="L",f=.7;return n.x=function(t){return arguments.length?(r=e=t,n):e},n.x0=function(t){return arguments.length?(r=t,n):r},n.x1=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(a=i=t,n):i},n.y0=function(t){return arguments.length?(a=t,n):a},n.y1=function(t){return arguments.length?(i=t,n):i},n.defined=function(t){return arguments.length?(u=t,n):u},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=xc.get(t)||iu).key,c=o.reverse||o,l=o.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(f=t,n):f},n}function ku(t){return t.radius}function Au(t){return[t.x,t.y]}function Tu(t){return function(){var n=t.apply(this,arguments),r=n[0],e=n[1]+mc;return[r*Math.cos(e),r*Math.sin(e)]}}function Cu(){return 64}function Nu(){return"circle"}function zu(t){var n=Math.sqrt(t/_o);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Ru(t,n){return co(t,Tc),t.id=n,t}function Lu(t,n,r,e){var a=t.id;return D(t,"function"==typeof r?function(t,i,u){t.__transition__[a].tween.set(n,e(r.call(t,t.__data__,i,u)))}:(r=e(r),function(t){t.__transition__[a].tween.set(n,r)}))}function Pu(t){return null==t&&(t=""),function(){this.textContent=t}}function Du(t,n,r,e){var a=t.__transition__||(t.__transition__={active:0,count:0}),i=a[r];if(!i){var o=e.time;i=a[r]={tween:new u,time:o,ease:e.ease,delay:e.delay,duration:e.duration},++a.count,Yu.timer(function(e){function u(e){return a.active>r?c():(a.active=r,i.event&&i.event.start.call(t,l,n),i.tween.forEach(function(r,e){(e=e.call(t,l,n))&&p.push(e)}),void Yu.timer(function(){return v.c=s(e||1)?Sr:s,1},0,o))}function s(e){if(a.active!==r)return c();for(var u=e/g,o=f(u),s=p.length;s>0;)p[--s].call(t,o);return u>=1?(i.event&&i.event.end.call(t,l,n),c()):void 0}function c(){return--a.count?delete a[r]:delete t.__transition__,1}var l=t.__data__,f=i.ease,h=i.delay,g=i.duration,v=$o,p=[];return v.t=h+o,e>=h?u(e-h):void(v.c=u)},0,o)}}function ju(t,n){t.attr("transform",function(t){return"translate("+n(t)+",0)"})}function Uu(t,n){t.attr("transform",function(t){return"translate(0,"+n(t)+")"})}function Fu(t){return t.toISOString()}function Hu(t,n,r){function e(n){return t(n)}function a(t,r){var e=t[1]-t[0],a=e/r,i=Yu.bisect(Uc,a);return i==Uc.length?[n.year,Qi(t.map(function(t){return t/31536e6}),r)[2]]:i?n[a/Uc[i-1]<Uc[i]/a?i-1:i]:[Qc,Qi(t,r)[2]]}return e.invert=function(n){return Qu(t.invert(n))},e.domain=function(n){return arguments.length?(t.domain(n),e):t.domain().map(Qu)},e.nice=function(t,n){function r(r){return!isNaN(r)&&!t.range(r,Qu(+r+1),n).length}var i=e.domain(),u=zi(i),o=null==t?a(u,10):"number"==typeof t&&a(u,t);return o&&(t=o[0],n=o[1]),e.domain(Pi(i,n>1?{floor:function(n){for(;r(n=t.floor(n));)n=Qu(n-1);return n},ceil:function(n){for(;r(n=t.ceil(n));)n=Qu(+n+1);return n}}:t))},e.ticks=function(t,n){var r=zi(e.domain()),i=null==t?a(r,10):"number"==typeof t?a(r,t):!t.range&&[{range:t},n];return i&&(t=i[0],n=i[1]),t.range(r[0],Qu(+r[1]+1),1>n?1:n)},e.tickFormat=function(){return r},e.copy=function(){return Hu(t.copy(),n,r)},Fi(e,t)}function Qu(t){return new Date(t)}function Ou(t){return JSON.parse(t.responseText)}function Iu(t){var n=Vu.createRange();return n.selectNode(Vu.body),n.createContextualFragment(t.responseText)}var Yu={version:"3.4.11"};
Date.now||(Date.now=function(){return+new Date});var Zu=[].slice,Bu=function(t){return Zu.call(t)},Vu=document,Xu=Vu.documentElement,$u=window;try{Bu(Xu.childNodes)[0].nodeType}catch(Gu){Bu=function(t){for(var n=t.length,r=new Array(n);n--;)r[n]=t[n];return r}}try{Vu.createElement("div").style.setProperty("opacity",0,"")}catch(Wu){var Ju=$u.Element.prototype,Ku=Ju.setAttribute,to=Ju.setAttributeNS,no=$u.CSSStyleDeclaration.prototype,ro=no.setProperty;Ju.setAttribute=function(t,n){Ku.call(this,t,n+"")},Ju.setAttributeNS=function(t,n,r){to.call(this,t,n,r+"")},no.setProperty=function(t,n,r){ro.call(this,t,n+"",r)}}Yu.ascending=t,Yu.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:0/0},Yu.min=function(t,n){var r,e,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&!(null!=(r=t[a])&&r>=r);)r=void 0;for(;++a<i;)null!=(e=t[a])&&r>e&&(r=e)}else{for(;++a<i&&!(null!=(r=n.call(t,t[a],a))&&r>=r);)r=void 0;for(;++a<i;)null!=(e=n.call(t,t[a],a))&&r>e&&(r=e)}return r},Yu.max=function(t,n){var r,e,a=-1,i=t.length;if(1===arguments.length){for(;++a<i&&!(null!=(r=t[a])&&r>=r);)r=void 0;for(;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else{for(;++a<i&&!(null!=(r=n.call(t,t[a],a))&&r>=r);)r=void 0;for(;++a<i;)null!=(e=n.call(t,t[a],a))&&e>r&&(r=e)}return r},Yu.extent=function(t,n){var r,e,a,i=-1,u=t.length;if(1===arguments.length){for(;++i<u&&!(null!=(r=a=t[i])&&r>=r);)r=a=void 0;for(;++i<u;)null!=(e=t[i])&&(r>e&&(r=e),e>a&&(a=e))}else{for(;++i<u&&!(null!=(r=a=n.call(t,t[i],i))&&r>=r);)r=void 0;for(;++i<u;)null!=(e=n.call(t,t[i],i))&&(r>e&&(r=e),e>a&&(a=e))}return[r,a]},Yu.sum=function(t,n){var r,e=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)isNaN(r=+t[i])||(e+=r);else for(;++i<a;)isNaN(r=+n.call(t,t[i],i))||(e+=r);return e},Yu.mean=function(t,r){var e,a=0,i=t.length,u=-1,o=i;if(1===arguments.length)for(;++u<i;)n(e=t[u])?a+=e:--o;else for(;++u<i;)n(e=r.call(t,t[u],u))?a+=e:--o;return o?a/o:void 0},Yu.quantile=function(t,n){var r=(t.length-1)*n+1,e=Math.floor(r),a=+t[e-1],i=r-e;return i?a+i*(t[e]-a):a},Yu.median=function(r,e){return arguments.length>1&&(r=r.map(e)),r=r.filter(n),r.length?Yu.quantile(r.sort(t),.5):void 0};var eo=r(t);Yu.bisectLeft=eo.left,Yu.bisect=Yu.bisectRight=eo.right,Yu.bisector=function(n){return r(1===n.length?function(r,e){return t(n(r),e)}:n)},Yu.shuffle=function(t){for(var n,r,e=t.length;e;)r=0|Math.random()*e--,n=t[e],t[e]=t[r],t[r]=n;return t},Yu.permute=function(t,n){for(var r=n.length,e=new Array(r);r--;)e[r]=t[n[r]];return e},Yu.pairs=function(t){for(var n,r=0,e=t.length-1,a=t[0],i=new Array(0>e?0:e);e>r;)i[r]=[n=a,a=t[++r]];return i},Yu.zip=function(){if(!(a=arguments.length))return[];for(var t=-1,n=Yu.min(arguments,e),r=new Array(n);++t<n;)for(var a,i=-1,u=r[t]=new Array(a);++i<a;)u[i]=arguments[i][t];return r},Yu.transpose=function(t){return Yu.zip.apply(Yu,t)},Yu.keys=function(t){var n=[];for(var r in t)n.push(r);return n},Yu.values=function(t){var n=[];for(var r in t)n.push(t[r]);return n},Yu.entries=function(t){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},Yu.merge=function(t){for(var n,r,e,a=t.length,i=-1,u=0;++i<a;)u+=t[i].length;for(r=new Array(u);--a>=0;)for(e=t[a],n=e.length;--n>=0;)r[--u]=e[n];return r};var ao=Math.abs;Yu.range=function(t,n,r){if(arguments.length<3&&(r=1,arguments.length<2&&(n=t,t=0)),1/0===(n-t)/r)throw new Error("infinite range");var e,i=[],u=a(ao(r)),o=-1;if(t*=u,n*=u,r*=u,0>r)for(;(e=t+r*++o)>n;)i.push(e/u);else for(;(e=t+r*++o)<n;)i.push(e/u);return i},Yu.map=function(t){var n=new u;if(t instanceof u)t.forEach(function(t,r){n.set(t,r)});else for(var r in t)n.set(r,t[r]);return n},i(u,{has:o,get:function(t){return this[io+t]},set:function(t,n){return this[io+t]=n},remove:s,keys:c,values:function(){var t=[];return this.forEach(function(n,r){t.push(r)}),t},entries:function(){var t=[];return this.forEach(function(n,r){t.push({key:n,value:r})}),t},size:l,empty:f,forEach:function(t){for(var n in this)n.charCodeAt(0)===uo&&t.call(this,n.substring(1),this[n])}});var io="\x00",uo=io.charCodeAt(0);Yu.nest=function(){function t(n,o,s){if(s>=i.length)return e?e.call(a,o):r?o.sort(r):o;for(var c,l,f,h,g=-1,v=o.length,p=i[s++],d=new u;++g<v;)(h=d.get(c=p(l=o[g])))?h.push(l):d.set(c,[l]);return n?(l=n(),f=function(r,e){l.set(r,t(n,e,s))}):(l={},f=function(r,e){l[r]=t(n,e,s)}),d.forEach(f),l}function n(t,r){if(r>=i.length)return t;var e=[],a=o[r++];return t.forEach(function(t,a){e.push({key:t,values:n(a,r)})}),a?e.sort(function(t,n){return a(t.key,n.key)}):e}var r,e,a={},i=[],o=[];return a.map=function(n,r){return t(r,n,0)},a.entries=function(r){return n(t(Yu.map,r,0),0)},a.key=function(t){return i.push(t),a},a.sortKeys=function(t){return o[i.length-1]=t,a},a.sortValues=function(t){return r=t,a},a.rollup=function(t){return e=t,a},a},Yu.set=function(t){var n=new h;if(t)for(var r=0,e=t.length;e>r;++r)n.add(t[r]);return n},i(h,{has:o,add:function(t){return this[io+t]=!0,t},remove:function(t){return t=io+t,t in this&&delete this[t]},values:c,size:l,empty:f,forEach:function(t){for(var n in this)n.charCodeAt(0)===uo&&t.call(this,n.substring(1))}}),Yu.behavior={},Yu.rebind=function(t,n){for(var r,e=1,a=arguments.length;++e<a;)t[r=arguments[e]]=g(t,n,n[r]);return t};var oo=["webkit","ms","moz","Moz","o","O"];Yu.dispatch=function(){for(var t=new d,n=-1,r=arguments.length;++n<r;)t[arguments[n]]=M(t);return t},d.prototype.on=function(t,n){var r=t.indexOf("."),e="";if(r>=0&&(e=t.substring(r+1),t=t.substring(0,r)),t)return arguments.length<2?this[t].on(e):this[t].on(e,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(e,null);return this}},Yu.event=null,Yu.requote=function(t){return t.replace(so,"\\$&")};var so=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,co={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var r in n)t[r]=n[r]},lo=function(t,n){return n.querySelector(t)},fo=function(t,n){return n.querySelectorAll(t)},ho=Xu.matches||Xu[v(Xu,"matchesSelector")],go=function(t,n){return ho.call(t,n)};"function"==typeof Sizzle&&(lo=function(t,n){return Sizzle(t,n)[0]||null},fo=Sizzle,go=Sizzle.matchesSelector),Yu.selection=function(){return mo};var vo=Yu.selection.prototype=[];vo.select=function(t){var n,r,e,a,i=[];t=w(t);for(var u=-1,o=this.length;++u<o;){i.push(n=[]),n.parentNode=(e=this[u]).parentNode;for(var s=-1,c=e.length;++s<c;)(a=e[s])?(n.push(r=t.call(a,a.__data__,s,u)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return b(i)},vo.selectAll=function(t){var n,r,e=[];t=_(t);for(var a=-1,i=this.length;++a<i;)for(var u=this[a],o=-1,s=u.length;++o<s;)(r=u[o])&&(e.push(n=Bu(t.call(r,r.__data__,o,a))),n.parentNode=r);return b(e)};var po={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Yu.ns={prefix:po,qualify:function(t){var n=t.indexOf(":"),r=t;return n>=0&&(r=t.substring(0,n),t=t.substring(n+1)),po.hasOwnProperty(r)?{space:po[r],local:t}:t}},vo.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return t=Yu.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(S(n,t[n]));return this}return this.each(S(t,n))},vo.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node(),e=(t=k(t)).length,a=-1;if(n=r.classList){for(;++a<e;)if(!n.contains(t[a]))return!1}else for(n=r.getAttribute("class");++a<e;)if(!E(t[a]).test(n))return!1;return!0}for(n in t)this.each(A(n,t[n]));return this}return this.each(A(t,n))},vo.style=function(t,n,r){var e=arguments.length;if(3>e){if("string"!=typeof t){2>e&&(n="");for(r in t)this.each(C(r,t[r],n));return this}if(2>e)return $u.getComputedStyle(this.node(),null).getPropertyValue(t);r=""}return this.each(C(t,n,r))},vo.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(N(n,t[n]));return this}return this.each(N(t,n))},vo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},vo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},vo.append=function(t){return t=z(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},vo.insert=function(t,n){return t=z(t),n=w(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},vo.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},vo.data=function(t,n){function r(t,r){var e,a,i,o=t.length,f=r.length,h=Math.min(o,f),g=new Array(f),v=new Array(f),p=new Array(o);if(n){var d,M=new u,m=new u,y=[];for(e=-1;++e<o;)d=n.call(a=t[e],a.__data__,e),M.has(d)?p[e]=a:M.set(d,a),y.push(d);for(e=-1;++e<f;)d=n.call(r,i=r[e],e),(a=M.get(d))?(g[e]=a,a.__data__=i):m.has(d)||(v[e]=R(i)),m.set(d,i),M.remove(d);for(e=-1;++e<o;)M.has(y[e])&&(p[e]=t[e])}else{for(e=-1;++e<h;)a=t[e],i=r[e],a?(a.__data__=i,g[e]=a):v[e]=R(i);for(;f>e;++e)v[e]=R(r[e]);for(;o>e;++e)p[e]=t[e]}v.update=g,v.parentNode=g.parentNode=p.parentNode=t.parentNode,s.push(v),c.push(g),l.push(p)}var e,a,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(a=e[i])&&(t[i]=a.__data__);return t}var s=j([]),c=b([]),l=b([]);if("function"==typeof t)for(;++i<o;)r(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)r(e=this[i],t);return c.enter=function(){return s},c.exit=function(){return l},c},vo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},vo.filter=function(t){var n,r,e,a=[];"function"!=typeof t&&(t=L(t));for(var i=0,u=this.length;u>i;i++){a.push(n=[]),n.parentNode=(r=this[i]).parentNode;for(var o=0,s=r.length;s>o;o++)(e=r[o])&&t.call(e,e.__data__,o,i)&&n.push(e)}return b(a)},vo.order=function(){for(var t=-1,n=this.length;++t<n;)for(var r,e=this[t],a=e.length-1,i=e[a];--a>=0;)(r=e[a])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},vo.sort=function(t){t=P.apply(this,arguments);for(var n=-1,r=this.length;++n<r;)this[n].sort(t);return this.order()},vo.each=function(t){return D(this,function(n,r,e){t.call(n,n.__data__,r,e)})},vo.call=function(t){var n=Bu(arguments);return t.apply(n[0]=this,n),this},vo.empty=function(){return!this.node()},vo.node=function(){for(var t=0,n=this.length;n>t;t++)for(var r=this[t],e=0,a=r.length;a>e;e++){var i=r[e];if(i)return i}return null},vo.size=function(){var t=0;return this.each(function(){++t}),t};var Mo=[];Yu.selection.enter=j,Yu.selection.enter.prototype=Mo,Mo.append=vo.append,Mo.empty=vo.empty,Mo.node=vo.node,Mo.call=vo.call,Mo.size=vo.size,Mo.select=function(t){for(var n,r,e,a,i,u=[],o=-1,s=this.length;++o<s;){e=(a=this[o]).update,u.push(n=[]),n.parentNode=a.parentNode;for(var c=-1,l=a.length;++c<l;)(i=a[c])?(n.push(e[c]=r=t.call(a.parentNode,i.__data__,c,o)),r.__data__=i.__data__):n.push(null)}return b(u)},Mo.insert=function(t,n){return arguments.length<2&&(n=U(this)),vo.insert.call(this,t,n)},vo.transition=function(){for(var t,n,r=qc||++Cc,e=[],a=Ec||{time:Date.now(),ease:xa,delay:0,duration:250},i=-1,u=this.length;++i<u;){e.push(t=[]);for(var o=this[i],s=-1,c=o.length;++s<c;)(n=o[s])&&Du(n,s,r,a),t.push(n)}return Ru(e,r)},vo.interrupt=function(){return this.each(F)},Yu.select=function(t){var n=["string"==typeof t?lo(t,Vu):t];return n.parentNode=Xu,b([n])},Yu.selectAll=function(t){var n=Bu("string"==typeof t?fo(t,Vu):t);return n.parentNode=Xu,b([n])};var mo=Yu.select(Xu);vo.on=function(t,n,r){var e=arguments.length;if(3>e){if("string"!=typeof t){2>e&&(n=!1);for(r in t)this.each(H(r,t[r],n));return this}if(2>e)return(e=this.node()["__on"+t])&&e._;r=!1}return this.each(H(t,n,r))};var yo=Yu.map({mouseenter:"mouseover",mouseleave:"mouseout"});yo.forEach(function(t){"on"+t in Vu&&yo.remove(t)});var xo="onselectstart"in Vu?null:v(Xu.style,"userSelect"),bo=0;Yu.mouse=function(t){return Y(t,y())};var wo=/WebKit/.test($u.navigator.userAgent)?-1:0;Yu.touches=function(t,n){return arguments.length<2&&(n=y().touches),n?Bu(n).map(function(n){var r=Y(t,n);return r.identifier=n.identifier,r}):[]},Yu.behavior.drag=function(){function t(){this.on("mousedown.drag",a).on("touchstart.drag",i)}function n(t,n,a,i,u){return function(){function o(){var t,r,e=n(h,p);e&&(t=e[0]-y[0],r=e[1]-y[1],v|=t|r,y=e,g({type:"drag",x:e[0]+c[0],y:e[1]+c[1],dx:t,dy:r}))}function s(){n(h,p)&&(M.on(i+d,null).on(u+d,null),m(v&&Yu.event.target===f),g({type:"dragend"}))}var c,l=this,f=Yu.event.target,h=l.parentNode,g=r.of(l,arguments),v=0,p=t(),d=".drag"+(null==p?"":"-"+p),M=Yu.select(a()).on(i+d,o).on(u+d,s),m=I(),y=n(h,p);e?(c=e.apply(l,arguments),c=[c.x-y[0],c.y-y[1]]):c=[0,0],g({type:"dragstart"})}}var r=x(t,"drag","dragstart","dragend"),e=null,a=n(p,Yu.mouse,V,"mousemove","mouseup"),i=n(Z,Yu.touch,B,"touchmove","touchend");return t.origin=function(n){return arguments.length?(e=n,t):e},Yu.rebind(t,r,"on")};var _o=Math.PI,So=2*_o,qo=_o/2,Eo=1e-6,ko=Eo*Eo,Ao=_o/180,To=180/_o,Co=Math.SQRT2,No=2,zo=4;Yu.interpolateZoom=function(t,n){function r(t){var n=t*m;if(M){var r=K(p),u=i/(No*h)*(r*tn(Co*n+p)-J(p));return[e+u*c,a+u*l,i*r/K(Co*n+p)]}return[e+t*c,a+t*l,i*Math.exp(Co*n)]}var e=t[0],a=t[1],i=t[2],u=n[0],o=n[1],s=n[2],c=u-e,l=o-a,f=c*c+l*l,h=Math.sqrt(f),g=(s*s-i*i+zo*f)/(2*i*No*h),v=(s*s-i*i-zo*f)/(2*s*No*h),p=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(v*v+1)-v),M=d-p,m=(M||Math.log(s/i))/Co;return r.duration=1e3*m,r},Yu.behavior.zoom=function(){function t(t){t.on(k,c).on(Po+".zoom",f).on("dblclick.zoom",h).on(C,l)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function e(t){S.k=Math.max(E[0],Math.min(E[1],t))}function a(t,n){n=r(n),S.x+=t[0]-n[0],S.y+=t[1]-n[1]}function i(){b&&b.domain(y.range().map(function(t){return(t-S.x)/S.k}).map(y.invert)),_&&_.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function u(t){t({type:"zoomstart"})}function o(t){i(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function s(t){t({type:"zoomend"})}function c(){function t(){l=1,a(Yu.mouse(e),h),o(c)}function r(){f.on(A,null).on(T,null),g(l&&Yu.event.target===i),s(c)}var e=this,i=Yu.event.target,c=N.of(e,arguments),l=0,f=Yu.select($u).on(A,t).on(T,r),h=n(Yu.mouse(e)),g=I();F.call(e),u(c)}function l(){function t(){var t=Yu.touches(g);return h=S.k,t.forEach(function(t){t.identifier in p&&(p[t.identifier]=n(t))}),t}function r(){var n=Yu.event.target;Yu.select(n).on(x,i).on(b,f),w.push(n);for(var r=Yu.event.changedTouches,u=0,s=r.length;s>u;++u)p[r[u].identifier]=null;var c=t(),l=Date.now();if(1===c.length){if(500>l-M){var h=c[0],g=p[h.identifier];e(2*S.k),a(h,g),m(),o(v)}M=l}else if(c.length>1){var h=c[0],y=c[1],_=h[0]-y[0],q=h[1]-y[1];d=_*_+q*q}}function i(){for(var t,n,r,i,u=Yu.touches(g),s=0,c=u.length;c>s;++s,i=null)if(r=u[s],i=p[r.identifier]){if(n)break;t=r,n=i}if(i){var l=(l=r[0]-t[0])*l+(l=r[1]-t[1])*l,f=d&&Math.sqrt(l/d);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],n=[(n[0]+i[0])/2,(n[1]+i[1])/2],e(f*h)}M=null,a(t,n),o(v)}function f(){if(Yu.event.touches.length){for(var n=Yu.event.changedTouches,r=0,e=n.length;e>r;++r)delete p[n[r].identifier];for(var a in p)return void t()}Yu.selectAll(w).on(y,null),_.on(k,c).on(C,l),q(),s(v)}var h,g=this,v=N.of(g,arguments),p={},d=0,y=".zoom-"+Yu.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,w=[],_=Yu.select(g).on(k,null).on(C,r),q=I();F.call(g),r(),u(v)}function f(){var t=N.of(this,arguments);d?clearTimeout(d):(g=n(v=p||Yu.mouse(this)),F.call(this),u(t)),d=setTimeout(function(){d=null,s(t)},50),m(),e(Math.pow(2,.002*Ro())*S.k),a(v,g),o(t)}function h(){var t=N.of(this,arguments),r=Yu.mouse(this),i=n(r),c=Math.log(S.k)/Math.LN2;u(t),e(Math.pow(2,Yu.event.shiftKey?Math.ceil(c)-1:Math.floor(c)+1)),a(r,i),o(t),s(t)}var g,v,p,d,M,y,b,w,_,S={x:0,y:0,k:1},q=[960,500],E=Lo,k="mousedown.zoom",A="mousemove.zoom",T="mouseup.zoom",C="touchstart.zoom",N=x(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=N.of(this,arguments),n=S;qc?Yu.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var r=q[0],e=q[1],a=r/2,i=e/2,u=Yu.interpolateZoom([(a-S.x)/S.k,(i-S.y)/S.k,r/S.k],[(a-n.x)/n.k,(i-n.y)/n.k,r/n.k]);return function(n){var e=u(n),s=r/e[2];this.__chart__=S={x:a-e[0]*s,y:i-e[1]*s,k:s},o(t)}}).each("end.zoom",function(){s(t)}):(this.__chart__=S,u(t),o(t),s(t))})},t.translate=function(n){return arguments.length?(S={x:+n[0],y:+n[1],k:S.k},i(),t):[S.x,S.y]},t.scale=function(n){return arguments.length?(S={x:S.x,y:S.y,k:+n},i(),t):S.k},t.scaleExtent=function(n){return arguments.length?(E=null==n?Lo:[+n[0],+n[1]],t):E},t.center=function(n){return arguments.length?(p=n&&[+n[0],+n[1]],t):p},t.size=function(n){return arguments.length?(q=n&&[+n[0],+n[1]],t):q},t.x=function(n){return arguments.length?(b=n,y=n.copy(),S={x:0,y:0,k:1},t):b},t.y=function(n){return arguments.length?(_=n,w=n.copy(),S={x:0,y:0,k:1},t):_},Yu.rebind(t,N,"on")};var Ro,Lo=[0,1/0],Po="onwheel"in Vu?(Ro=function(){return-Yu.event.deltaY*(Yu.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Vu?(Ro=function(){return Yu.event.wheelDelta},"mousewheel"):(Ro=function(){return-Yu.event.detail},"MozMousePixelScroll");Yu.color=rn,rn.prototype.toString=function(){return this.rgb()+""},Yu.hsl=en;var Do=en.prototype=new rn;Do.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new en(this.h,this.s,this.l/t)},Do.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new en(this.h,this.s,t*this.l)},Do.rgb=function(){return an(this.h,this.s,this.l)},Yu.hcl=un;var jo=un.prototype=new rn;jo.brighter=function(t){return new un(this.h,this.c,Math.min(100,this.l+Uo*(arguments.length?t:1)))},jo.darker=function(t){return new un(this.h,this.c,Math.max(0,this.l-Uo*(arguments.length?t:1)))},jo.rgb=function(){return on(this.h,this.c,this.l).rgb()},Yu.lab=sn;var Uo=18,Fo=.95047,Ho=1,Qo=1.08883,Oo=sn.prototype=new rn;Oo.brighter=function(t){return new sn(Math.min(100,this.l+Uo*(arguments.length?t:1)),this.a,this.b)},Oo.darker=function(t){return new sn(Math.max(0,this.l-Uo*(arguments.length?t:1)),this.a,this.b)},Oo.rgb=function(){return cn(this.l,this.a,this.b)},Yu.rgb=vn;var Io=vn.prototype=new rn;Io.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,r=this.g,e=this.b,a=30;return n||r||e?(n&&a>n&&(n=a),r&&a>r&&(r=a),e&&a>e&&(e=a),new vn(Math.min(255,n/t),Math.min(255,r/t),Math.min(255,e/t))):new vn(a,a,a)},Io.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vn(t*this.r,t*this.g,t*this.b)},Io.hsl=function(){return yn(this.r,this.g,this.b)},Io.toString=function(){return"#"+Mn(this.r)+Mn(this.g)+Mn(this.b)};var Yo=Yu.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Yo.forEach(function(t,n){Yo.set(t,pn(n))}),Yu.functor=_n,Yu.xhr=qn(Sn),Yu.dsv=function(t,n){function r(t,r,i){arguments.length<3&&(i=r,r=null);var u=En(t,n,null==r?e:a(r),i);return u.row=function(t){return arguments.length?u.response(null==(r=t)?e:a(t)):r},u}function e(t){return r.parse(t.responseText)}function a(t){return function(n){return r.parse(n.responseText,t)}}function i(n){return n.map(u).join(t)}function u(t){return o.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return r.parse=function(t,n){var e;return r.parseRows(t,function(t,r){if(e)return e(t,r-1);var a=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");e=n?function(t,r){return n(a(t),r)}:a})},r.parseRows=function(t,n){function r(){if(l>=c)return u;if(a)return a=!1,i;var n=l;if(34===t.charCodeAt(n)){for(var r=n;r++<c;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}l=r+2;var e=t.charCodeAt(r+1);return 13===e?(a=!0,10===t.charCodeAt(r+2)&&++l):10===e&&(a=!0),t.substring(n+1,r).replace(/""/g,'"')}for(;c>l;){var e=t.charCodeAt(l++),o=1;if(10===e)a=!0;else if(13===e)a=!0,10===t.charCodeAt(l)&&(++l,++o);else if(e!==s)continue;return t.substring(n,l-o)}return t.substring(n)}for(var e,a,i={},u={},o=[],c=t.length,l=0,f=0;(e=r())!==u;){for(var h=[];e!==i&&e!==u;)h.push(e),e=r();(!n||(h=n(h,f++)))&&o.push(h)}return o},r.format=function(n){if(Array.isArray(n[0]))return r.formatRows(n);var e=new h,a=[];return n.forEach(function(t){for(var n in t)e.has(n)||a.push(e.add(n))}),[a.map(u).join(t)].concat(n.map(function(n){return a.map(function(t){return u(n[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(i).join("\n")},r},Yu.csv=Yu.dsv(",","text/csv"),Yu.tsv=Yu.dsv("  ","text/tab-separated-values"),Yu.touch=function(t,n,r){if(arguments.length<3&&(r=n,n=y().changedTouches),n)for(var e,a=0,i=n.length;i>a;++a)if((e=n[a]).identifier===r)return Y(t,e)};var Zo,Bo,Vo,Xo,$o,Go=$u[v($u,"requestAnimationFrame")]||function(t){setTimeout(t,17)};Yu.timer=function(t,n,r){var e=arguments.length;2>e&&(n=0),3>e&&(r=Date.now());var a=r+n,i={c:t,t:a,f:!1,n:null};Bo?Bo.n=i:Zo=i,Bo=i,Vo||(Xo=clearTimeout(Xo),Vo=1,Go(An))},Yu.timer.flush=function(){Tn(),Cn()},Yu.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Wo=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(zn);Yu.formatPrefix=function(t,n){var r=0;return t&&(0>t&&(t*=-1),n&&(t=Yu.round(t,Nn(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),Wo[8+r/3]};var Jo=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ko=Yu.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=Yu.round(t,Nn(t,n))).toFixed(Math.max(0,Math.min(20,Nn(t*(1+1e-15),n))))}}),ts=Yu.time={},ns=Date;Pn.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){rs.setUTCDate.apply(this._,arguments)},setDay:function(){rs.setUTCDay.apply(this._,arguments)},setFullYear:function(){rs.setUTCFullYear.apply(this._,arguments)},setHours:function(){rs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){rs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){rs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){rs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){rs.setUTCSeconds.apply(this._,arguments)},setTime:function(){rs.setTime.apply(this._,arguments)}};var rs=Date.prototype;ts.year=Dn(function(t){return t=ts.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),ts.years=ts.year.range,ts.years.utc=ts.year.utc.range,ts.day=Dn(function(t){var n=new ns(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),ts.days=ts.day.range,ts.days.utc=ts.day.utc.range,ts.dayOfYear=function(t){var n=ts.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var r=ts[t]=Dn(function(t){return(t=ts.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var r=ts.year(t).getDay();return Math.floor((ts.dayOfYear(t)+(r+n)%7)/7)-(r!==n)});ts[t+"s"]=r.range,ts[t+"s"].utc=r.utc.range,ts[t+"OfYear"]=function(t){var r=ts.year(t).getDay();return Math.floor((ts.dayOfYear(t)+(r+n)%7)/7)}}),ts.week=ts.sunday,ts.weeks=ts.sunday.range,ts.weeks.utc=ts.sunday.utc.range,ts.weekOfYear=ts.sundayOfYear;var es={"-":"",_:" ",0:"0"},as=/^\s*\d+/,is=/^%/;Yu.locale=function(t){return{numberFormat:Rn(t),timeFormat:Un(t)}};var us=Yu.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Yu.format=us.numberFormat,Yu.geo={},ir.prototype={s:0,t:0,add:function(t){ur(t,this.t,os),ur(os.s,this.s,this),this.s?this.t+=os.t:this.s=os.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var os=new ir;Yu.geo.stream=function(t,n){t&&ss.hasOwnProperty(t.type)?ss[t.type](t,n):or(t,n)};var ss={Feature:function(t,n){or(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,a=r.length;++e<a;)or(r[e].geometry,n)}},cs={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){sr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)sr(r[e],n,0)},Polygon:function(t,n){cr(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)cr(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,a=r.length;++e<a;)or(r[e],n)}};Yu.geo.area=function(t){return ls=0,Yu.geo.stream(t,hs),ls};var ls,fs=new ir,hs={sphere:function(){ls+=4*_o},point:p,lineStart:p,lineEnd:p,polygonStart:function(){fs.reset(),hs.lineStart=lr},polygonEnd:function(){var t=2*fs;ls+=0>t?4*_o+t:t,hs.lineStart=hs.lineEnd=hs.point=p}};Yu.geo.bounds=function(){function t(t,n){y.push(x=[l=t,h=t]),f>n&&(f=n),n>g&&(g=n)}function n(n,r){var e=fr([n*Ao,r*Ao]);if(M){var a=gr(M,e),i=[a[1],-a[0],0],u=gr(i,a);dr(u),u=Mr(u);var s=n-v,c=s>0?1:-1,p=u[0]*To*c,d=ao(s)>180;if(d^(p>c*v&&c*n>p)){var m=u[1]*To;m>g&&(g=m)}else if(p=(p+360)%360-180,d^(p>c*v&&c*n>p)){var m=-u[1]*To;f>m&&(f=m)}else f>r&&(f=r),r>g&&(g=r);d?v>n?o(l,n)>o(l,h)&&(h=n):o(n,h)>o(l,h)&&(l=n):h>=l?(l>n&&(l=n),n>h&&(h=n)):n>v?o(l,n)>o(l,h)&&(h=n):o(n,h)>o(l,h)&&(l=n)}else t(n,r);M=e,v=n}function r(){b.point=n}function e(){x[0]=l,x[1]=h,b.point=t,M=null}function a(t,r){if(M){var e=t-v;m+=ao(e)>180?e+(e>0?360:-360):e}else p=t,d=r;hs.point(t,r),n(t,r)}function i(){hs.lineStart()}function u(){a(p,d),hs.lineEnd(),ao(m)>Eo&&(l=-(h=180)),x[0]=l,x[1]=h,M=null}function o(t,n){return(n-=t)<0?n+360:n}function s(t,n){return t[0]-n[0]}function c(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var l,f,h,g,v,p,d,M,m,y,x,b={point:t,lineStart:r,lineEnd:e,polygonStart:function(){b.point=a,b.lineStart=i,b.lineEnd=u,m=0,hs.polygonStart()},polygonEnd:function(){hs.polygonEnd(),b.point=t,b.lineStart=r,b.lineEnd=e,0>fs?(l=-(h=180),f=-(g=90)):m>Eo?g=90:-Eo>m&&(f=-90),x[0]=l,x[1]=h}};return function(t){g=h=-(l=f=1/0),y=[],Yu.geo.stream(t,b);var n=y.length;if(n){y.sort(s);for(var r,e=1,a=y[0],i=[a];n>e;++e)r=y[e],c(r[0],a)||c(r[1],a)?(o(a[0],r[1])>o(a[0],a[1])&&(a[1]=r[1]),o(r[0],a[1])>o(a[0],a[1])&&(a[0]=r[0])):i.push(a=r);for(var u,r,v=-1/0,n=i.length-1,e=0,a=i[n];n>=e;a=r,++e)r=i[e],(u=o(a[1],r[0]))>v&&(v=u,l=r[0],h=a[1])}return y=x=null,1/0===l||1/0===f?[[0/0,0/0],[0/0,0/0]]:[[l,f],[h,g]]}}(),Yu.geo.centroid=function(t){gs=vs=ps=ds=Ms=ms=ys=xs=bs=ws=_s=0,Yu.geo.stream(t,Ss);var n=bs,r=ws,e=_s,a=n*n+r*r+e*e;return ko>a&&(n=ms,r=ys,e=xs,Eo>vs&&(n=ps,r=ds,e=Ms),a=n*n+r*r+e*e,ko>a)?[0/0,0/0]:[Math.atan2(r,n)*To,W(e/Math.sqrt(a))*To]};var gs,vs,ps,ds,Ms,ms,ys,xs,bs,ws,_s,Ss={sphere:p,point:yr,lineStart:br,lineEnd:wr,polygonStart:function(){Ss.lineStart=_r},polygonEnd:function(){Ss.lineStart=br}},qs=Ar(Sr,Rr,Pr,[-_o,-_o/2]),Es=1e9;Yu.geo.clipExtent=function(){var t,n,r,e,a,i,u={stream:function(t){return a&&(a.valid=!1),a=i(t),a.valid=!0,a},extent:function(o){return arguments.length?(i=Ur(t=+o[0][0],n=+o[0][1],r=+o[1][0],e=+o[1][1]),a&&(a.valid=!1,a=null),u):[[t,n],[r,e]]}};return u.extent([[0,0],[960,500]])},(Yu.geo.conicEqualArea=function(){return Hr(Qr)}).raw=Qr,Yu.geo.albers=function(){return Yu.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Yu.geo.albersUsa=function(){function t(t){var i=t[0],u=t[1];return n=null,r(i,u),n||(e(i,u),n)||a(i,u),n}var n,r,e,a,i=Yu.geo.albers(),u=Yu.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=Yu.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,r){n=[t,r]}};return t.invert=function(t){var n=i.scale(),r=i.translate(),e=(t[0]-r[0])/n,a=(t[1]-r[1])/n;return(a>=.12&&.234>a&&e>=-.425&&-.214>e?u:a>=.166&&.234>a&&e>=-.214&&-.115>e?o:i).invert(t)},t.stream=function(t){var n=i.stream(t),r=u.stream(t),e=o.stream(t);return{point:function(t,a){n.point(t,a),r.point(t,a),e.point(t,a)},sphere:function(){n.sphere(),r.sphere(),e.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),e.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),e.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),e.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),e.polygonEnd()}}},t.precision=function(n){return arguments.length?(i.precision(n),u.precision(n),o.precision(n),t):i.precision()},t.scale=function(n){return arguments.length?(i.scale(n),u.scale(.35*n),o.scale(n),t.translate(i.translate())):i.scale()},t.translate=function(n){if(!arguments.length)return i.translate();
var c=i.scale(),l=+n[0],f=+n[1];return r=i.translate(n).clipExtent([[l-.455*c,f-.238*c],[l+.455*c,f+.238*c]]).stream(s).point,e=u.translate([l-.307*c,f+.201*c]).clipExtent([[l-.425*c+Eo,f+.12*c+Eo],[l-.214*c-Eo,f+.234*c-Eo]]).stream(s).point,a=o.translate([l-.205*c,f+.212*c]).clipExtent([[l-.214*c+Eo,f+.166*c+Eo],[l-.115*c-Eo,f+.234*c-Eo]]).stream(s).point,t},t.scale(1070)};var ks,As,Ts,Cs,Ns,zs,Rs={point:p,lineStart:p,lineEnd:p,polygonStart:function(){As=0,Rs.lineStart=Or},polygonEnd:function(){Rs.lineStart=Rs.lineEnd=Rs.point=p,ks+=ao(As/2)}},Ls={point:Ir,lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p},Ps={point:Br,lineStart:Vr,lineEnd:Xr,polygonStart:function(){Ps.lineStart=$r},polygonEnd:function(){Ps.point=Br,Ps.lineStart=Vr,Ps.lineEnd=Xr}};Yu.geo.path=function(){function t(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),u&&u.valid||(u=a(i)),Yu.geo.stream(t,u)),i.result()}function n(){return u=null,t}var r,e,a,i,u,o=4.5;return t.area=function(t){return ks=0,Yu.geo.stream(t,a(Rs)),ks},t.centroid=function(t){return ps=ds=Ms=ms=ys=xs=bs=ws=_s=0,Yu.geo.stream(t,a(Ps)),_s?[bs/_s,ws/_s]:xs?[ms/xs,ys/xs]:Ms?[ps/Ms,ds/Ms]:[0/0,0/0]},t.bounds=function(t){return Ns=zs=-(Ts=Cs=1/0),Yu.geo.stream(t,a(Ls)),[[Ts,Cs],[Ns,zs]]},t.projection=function(t){return arguments.length?(a=(r=t)?t.stream||Jr(t):Sn,n()):r},t.context=function(t){return arguments.length?(i=null==(e=t)?new Yr:new Gr(t),"function"!=typeof o&&i.pointRadius(o),n()):e},t.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(i.pointRadius(+n),+n),t):o},t.projection(Yu.geo.albersUsa()).context(null)},Yu.geo.transform=function(t){return{stream:function(n){var r=new Kr(n);for(var e in t)r[e]=t[e];return r}}},Kr.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Yu.geo.projection=ne,Yu.geo.projectionMutator=re,(Yu.geo.equirectangular=function(){return ne(ae)}).raw=ae.invert=ae,Yu.geo.rotation=function(t){function n(n){return n=t(n[0]*Ao,n[1]*Ao),n[0]*=To,n[1]*=To,n}return t=ue(t[0]%360*Ao,t[1]*Ao,t.length>2?t[2]*Ao:0),n.invert=function(n){return n=t.invert(n[0]*Ao,n[1]*Ao),n[0]*=To,n[1]*=To,n},n},ie.invert=ae,Yu.geo.circle=function(){function t(){var t="function"==typeof e?e.apply(this,arguments):e,n=ue(-t[0]*Ao,-t[1]*Ao,0).invert,a=[];return r(null,null,1,{point:function(t,r){a.push(t=n(t,r)),t[0]*=To,t[1]*=To}}),{type:"Polygon",coordinates:[a]}}var n,r,e=[0,0],a=6;return t.origin=function(n){return arguments.length?(e=n,t):e},t.angle=function(e){return arguments.length?(r=le((n=+e)*Ao,a*Ao),t):n},t.precision=function(e){return arguments.length?(r=le(n*Ao,(a=+e)*Ao),t):a},t.angle(90)},Yu.geo.distance=function(t,n){var r,e=(n[0]-t[0])*Ao,a=t[1]*Ao,i=n[1]*Ao,u=Math.sin(e),o=Math.cos(e),s=Math.sin(a),c=Math.cos(a),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((r=f*u)*r+(r=c*l-s*f*o)*r),s*l+c*f*o)},Yu.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return Yu.range(Math.ceil(i/d)*d,a,d).map(h).concat(Yu.range(Math.ceil(c/M)*M,s,M).map(g)).concat(Yu.range(Math.ceil(e/v)*v,r,v).filter(function(t){return ao(t%d)>Eo}).map(l)).concat(Yu.range(Math.ceil(o/p)*p,u,p).filter(function(t){return ao(t%M)>Eo}).map(f))}var r,e,a,i,u,o,s,c,l,f,h,g,v=10,p=v,d=90,M=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(g(s).slice(1),h(a).reverse().slice(1),g(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(i=+n[0][0],a=+n[1][0],c=+n[0][1],s=+n[1][1],i>a&&(n=i,i=a,a=n),c>s&&(n=c,c=s,s=n),t.precision(m)):[[i,c],[a,s]]},t.minorExtent=function(n){return arguments.length?(e=+n[0][0],r=+n[1][0],o=+n[0][1],u=+n[1][1],e>r&&(n=e,e=r,r=n),o>u&&(n=o,o=u,u=n),t.precision(m)):[[e,o],[r,u]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(d=+n[0],M=+n[1],t):[d,M]},t.minorStep=function(n){return arguments.length?(v=+n[0],p=+n[1],t):[v,p]},t.precision=function(n){return arguments.length?(m=+n,l=he(o,u,90),f=ge(e,r,m),h=he(c,s,90),g=ge(i,a,m),t):m},t.majorExtent([[-180,-90+Eo],[180,90-Eo]]).minorExtent([[-180,-80-Eo],[180,80+Eo]])},Yu.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||e.apply(this,arguments),r||a.apply(this,arguments)]}}var n,r,e=ve,a=pe;return t.distance=function(){return Yu.geo.distance(n||e.apply(this,arguments),r||a.apply(this,arguments))},t.source=function(r){return arguments.length?(e=r,n="function"==typeof r?null:r,t):e},t.target=function(n){return arguments.length?(a=n,r="function"==typeof n?null:n,t):a},t.precision=function(){return arguments.length?t:0},t},Yu.geo.interpolate=function(t,n){return de(t[0]*Ao,t[1]*Ao,n[0]*Ao,n[1]*Ao)},Yu.geo.length=function(t){return Ds=0,Yu.geo.stream(t,js),Ds};var Ds,js={sphere:p,point:p,lineStart:Me,lineEnd:p,polygonStart:p,polygonEnd:p},Us=me(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(Yu.geo.azimuthalEqualArea=function(){return ne(Us)}).raw=Us;var Fs=me(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},Sn);(Yu.geo.azimuthalEquidistant=function(){return ne(Fs)}).raw=Fs,(Yu.geo.conicConformal=function(){return Hr(ye)}).raw=ye,(Yu.geo.conicEquidistant=function(){return Hr(xe)}).raw=xe;var Hs=me(function(t){return 1/t},Math.atan);(Yu.geo.gnomonic=function(){return ne(Hs)}).raw=Hs,be.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-qo]},(Yu.geo.mercator=function(){return we(be)}).raw=be;var Qs=me(function(){return 1},Math.asin);(Yu.geo.orthographic=function(){return ne(Qs)}).raw=Qs;var Os=me(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(Yu.geo.stereographic=function(){return ne(Os)}).raw=Os,_e.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-qo]},(Yu.geo.transverseMercator=function(){var t=we(_e),n=t.center,r=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?r([t[0],t[1],t.length>2?t[2]+90:90]):(t=r(),[t[0],t[1],t[2]-90])},r([0,0,90])}).raw=_e,Yu.geom={},Yu.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,a=_n(r),i=_n(e),u=t.length,o=[],s=[];for(n=0;u>n;n++)o.push([+a.call(this,t[n],n),+i.call(this,t[n],n),n]);for(o.sort(ke),n=0;u>n;n++)s.push([o[n][0],-o[n][1]]);var c=Ee(o),l=Ee(s),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],g=[];for(n=c.length-1;n>=0;--n)g.push(t[o[c[n]][2]]);for(n=+f;n<l.length-h;++n)g.push(t[o[l[n]][2]]);return g}var r=Se,e=qe;return arguments.length?n(t):(n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(e=t,n):e},n)},Yu.geom.polygon=function(t){return co(t,Is),t};var Is=Yu.geom.polygon.prototype=[];Is.area=function(){for(var t,n=-1,r=this.length,e=this[r-1],a=0;++n<r;)t=e,e=this[n],a+=t[1]*e[0]-t[0]*e[1];return.5*a},Is.centroid=function(t){var n,r,e=-1,a=this.length,i=0,u=0,o=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++e<a;)n=o,o=this[e],r=n[0]*o[1]-o[0]*n[1],i+=(n[0]+o[0])*r,u+=(n[1]+o[1])*r;return[i*t,u*t]},Is.clip=function(t){for(var n,r,e,a,i,u,o=Ce(t),s=-1,c=this.length-Ce(this),l=this[c-1];++s<c;){for(n=t.slice(),t.length=0,a=this[s],i=n[(e=n.length-o)-1],r=-1;++r<e;)u=n[r],Ae(u,l,a)?(Ae(i,l,a)||t.push(Te(i,u,l,a)),t.push(u)):Ae(i,l,a)&&t.push(Te(i,u,l,a)),i=u;o&&t.push(t[0]),l=a}return t};var Ys,Zs,Bs,Vs,Xs,$s=[],Gs=[];Ue.prototype.prepare=function(){for(var t,n=this.edges,r=n.length;r--;)t=n[r].edge,t.b&&t.a||n.splice(r,1);return n.sort(He),n.length},Ge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},We.prototype={insert:function(t,n){var r,e,a;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;r=t}else this._?(t=na(this._),n.P=null,n.N=t,t.P=t.L=n,r=t):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,t=n;r&&r.C;)e=r.U,r===e.L?(a=e.R,a&&a.C?(r.C=a.C=!1,e.C=!0,t=e):(t===r.R&&(Ke(this,r),t=r,r=t.U),r.C=!1,e.C=!0,ta(this,e))):(a=e.L,a&&a.C?(r.C=a.C=!1,e.C=!0,t=e):(t===r.L&&(ta(this,r),t=r,r=t.U),r.C=!1,e.C=!0,Ke(this,e))),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,r,e,a=t.U,i=t.L,u=t.R;if(r=i?u?na(u):i:u,a?a.L===t?a.L=r:a.R=r:this._=r,i&&u?(e=r.C,r.C=t.C,r.L=i,i.U=r,r!==u?(a=r.U,r.U=t.U,t=r.R,a.L=t,r.R=u,u.U=r):(r.U=a,a=r,t=r.R)):(e=t.C,t=r),t&&(t.U=a),!e){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(n=a.R,n.C&&(n.C=!1,a.C=!0,Ke(this,a),n=a.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ta(this,n),n=a.R),n.C=a.C,a.C=n.R.C=!1,Ke(this,a),t=this._;break}}else if(n=a.L,n.C&&(n.C=!1,a.C=!0,ta(this,a),n=a.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,Ke(this,n),n=a.L),n.C=a.C,a.C=n.L.C=!1,ta(this,a),t=this._;break}n.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},Yu.geom.voronoi=function(t){function n(t){var n=new Array(t.length),e=o[0][0],a=o[0][1],i=o[1][0],u=o[1][1];return ra(r(t),o).cells.forEach(function(r,o){var s=r.edges,c=r.site,l=n[o]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):c.x>=e&&c.x<=i&&c.y>=a&&c.y<=u?[[e,u],[i,u],[i,a],[e,a]]:[];l.point=t[o]}),n}function r(t){return t.map(function(t,n){return{x:Math.round(i(t,n)/Eo)*Eo,y:Math.round(u(t,n)/Eo)*Eo,i:n}})}var e=Se,a=qe,i=e,u=a,o=Ws;return t?n(t):(n.links=function(t){return ra(r(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return ra(r(t)).cells.forEach(function(r,e){for(var a,i,u=r.site,o=r.edges.sort(He),s=-1,c=o.length,l=o[c-1].edge,f=l.l===u?l.r:l.l;++s<c;)a=l,i=f,l=o[s].edge,f=l.l===u?l.r:l.l,e<i.i&&e<f.i&&aa(u,i,f)<0&&n.push([t[e],t[i.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(i=_n(e=t),n):e},n.y=function(t){return arguments.length?(u=_n(a=t),n):a},n.clipExtent=function(t){return arguments.length?(o=null==t?Ws:t,n):o===Ws?null:o},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):o===Ws?null:o&&o[1]},n)};var Ws=[[-1e6,-1e6],[1e6,1e6]];Yu.geom.delaunay=function(t){return Yu.geom.voronoi().triangles(t)},Yu.geom.quadtree=function(t,n,r,e,a){function i(t){function i(t,n,r,e,a,i,u,o){if(!isNaN(r)&&!isNaN(e))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(ao(s-r)+ao(l-e)<.01)c(t,n,r,e,a,i,u,o);else{var f=t.point;t.x=t.y=t.point=null,c(t,f,s,l,a,i,u,o),c(t,n,r,e,a,i,u,o)}else t.x=r,t.y=e,t.point=n}else c(t,n,r,e,a,i,u,o)}function c(t,n,r,e,a,u,o,s){var c=.5*(a+o),l=.5*(u+s),f=r>=c,h=e>=l,g=(h<<1)+f;t.leaf=!1,t=t.nodes[g]||(t.nodes[g]=oa()),f?a=c:o=c,h?u=l:s=l,i(t,n,r,e,a,u,o,s)}var l,f,h,g,v,p,d,M,m,y=_n(o),x=_n(s);if(null!=n)p=n,d=r,M=e,m=a;else if(M=m=-(p=d=1/0),f=[],h=[],v=t.length,u)for(g=0;v>g;++g)l=t[g],l.x<p&&(p=l.x),l.y<d&&(d=l.y),l.x>M&&(M=l.x),l.y>m&&(m=l.y),f.push(l.x),h.push(l.y);else for(g=0;v>g;++g){var b=+y(l=t[g],g),w=+x(l,g);p>b&&(p=b),d>w&&(d=w),b>M&&(M=b),w>m&&(m=w),f.push(b),h.push(w)}var _=M-p,S=m-d;_>S?m=d+_:M=p+S;var q=oa();if(q.add=function(t){i(q,t,+y(t,++g),+x(t,g),p,d,M,m)},q.visit=function(t){sa(t,q,p,d,M,m)},g=-1,null==n){for(;++g<v;)i(q,t[g],f[g],h[g],p,d,M,m);--g}else t.forEach(q.add);return f=h=t=l=null,q}var u,o=Se,s=qe;return(u=arguments.length)?(o=ia,s=ua,3===u&&(a=r,e=n,r=n=0),i(t)):(i.x=function(t){return arguments.length?(o=t,i):o},i.y=function(t){return arguments.length?(s=t,i):s},i.extent=function(t){return arguments.length?(null==t?n=r=e=a=null:(n=+t[0][0],r=+t[0][1],e=+t[1][0],a=+t[1][1]),i):null==n?null:[[n,r],[e,a]]},i.size=function(t){return arguments.length?(null==t?n=r=e=a=null:(n=r=0,e=+t[0],a=+t[1]),i):null==n?null:[e-n,a-r]},i)},Yu.interpolateRgb=ca,Yu.interpolateObject=la,Yu.interpolateNumber=fa,Yu.interpolateString=ha;var Js=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ks=new RegExp(Js.source,"g");Yu.interpolate=ga,Yu.interpolators=[function(t,n){var r=typeof n;return("string"===r?Yo.has(n)||/^(#|rgb\(|hsl\()/.test(n)?ca:ha:n instanceof rn?ca:Array.isArray(n)?va:"object"===r&&isNaN(n)?la:fa)(t,n)}],Yu.interpolateArray=va;var tc=function(){return Sn},nc=Yu.map({linear:tc,poly:ba,quad:function(){return ma},cubic:function(){return ya},sin:function(){return wa},exp:function(){return _a},circle:function(){return Sa},elastic:qa,back:Ea,bounce:function(){return ka}}),rc=Yu.map({"in":Sn,out:da,"in-out":Ma,"out-in":function(t){return Ma(da(t))}});Yu.ease=function(t){var n=t.indexOf("-"),r=n>=0?t.substring(0,n):t,e=n>=0?t.substring(n+1):"in";return r=nc.get(r)||tc,e=rc.get(e)||Sn,pa(e(r.apply(null,Zu.call(arguments,1))))},Yu.interpolateHcl=Aa,Yu.interpolateHsl=Ta,Yu.interpolateLab=Ca,Yu.interpolateRound=Na,Yu.transform=function(t){var n=Vu.createElementNS(Yu.ns.prefix.svg,"g");return(Yu.transform=function(t){if(null!=t){n.setAttribute("transform",t);var r=n.transform.baseVal.consolidate()}return new za(r?r.matrix:ec)})(t)},za.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ec={a:1,b:0,c:0,d:1,e:0,f:0};Yu.interpolateTransform=Da,Yu.layout={},Yu.layout.bundle=function(){return function(t){for(var n=[],r=-1,e=t.length;++r<e;)n.push(Fa(t[r]));return n}},Yu.layout.chord=function(){function t(){var t,c,f,h,g,v={},p=[],d=Yu.range(i),M=[];for(r=[],e=[],t=0,h=-1;++h<i;){for(c=0,g=-1;++g<i;)c+=a[h][g];p.push(c),M.push(Yu.range(i)),t+=c}for(u&&d.sort(function(t,n){return u(p[t],p[n])}),o&&M.forEach(function(t,n){t.sort(function(t,r){return o(a[n][t],a[n][r])})}),t=(So-l*i)/t,c=0,h=-1;++h<i;){for(f=c,g=-1;++g<i;){var m=d[h],y=M[m][g],x=a[m][y],b=c,w=c+=x*t;v[m+"-"+y]={index:m,subindex:y,startAngle:b,endAngle:w,value:x}}e[m]={index:m,startAngle:f,endAngle:c,value:(c-f)/t},c+=l}for(h=-1;++h<i;)for(g=h-1;++g<i;){var _=v[h+"-"+g],S=v[g+"-"+h];(_.value||S.value)&&r.push(_.value<S.value?{source:S,target:_}:{source:_,target:S})}s&&n()}function n(){r.sort(function(t,n){return s((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var r,e,a,i,u,o,s,c={},l=0;return c.matrix=function(t){return arguments.length?(i=(a=t)&&a.length,r=e=null,c):a},c.padding=function(t){return arguments.length?(l=t,r=e=null,c):l},c.sortGroups=function(t){return arguments.length?(u=t,r=e=null,c):u},c.sortSubgroups=function(t){return arguments.length?(o=t,r=null,c):o},c.sortChords=function(t){return arguments.length?(s=t,r&&n(),c):s},c.chords=function(){return r||t(),r},c.groups=function(){return e||t(),e},c},Yu.layout.force=function(){function t(t){return function(n,r,e,a){if(n.point!==t){var i=n.cx-t.x,u=n.cy-t.y,o=a-r,s=i*i+u*u;if(s>o*o/d){if(v>s){var c=n.charge/s;t.px-=i*c,t.py-=u*c}return!0}if(n.point&&s&&v>s){var c=n.pointCharge/s;t.px-=i*c,t.py-=u*c}}return!n.charge}}function n(t){t.px=Yu.event.x,t.py=Yu.event.y,o.resume()}var r,e,a,i,u,o={},s=Yu.dispatch("start","tick","end"),c=[1,1],l=.9,f=ac,h=ic,g=-30,v=uc,p=.1,d=.64,M=[],m=[];return o.tick=function(){if((e*=.99)<.005)return s.end({type:"end",alpha:e=0}),!0;var n,r,o,f,h,v,d,y,x,b=M.length,w=m.length;for(r=0;w>r;++r)o=m[r],f=o.source,h=o.target,y=h.x-f.x,x=h.y-f.y,(v=y*y+x*x)&&(v=e*i[r]*((v=Math.sqrt(v))-a[r])/v,y*=v,x*=v,h.x-=y*(d=f.weight/(h.weight+f.weight)),h.y-=x*d,f.x+=y*(d=1-d),f.y+=x*d);if((d=e*p)&&(y=c[0]/2,x=c[1]/2,r=-1,d))for(;++r<b;)o=M[r],o.x+=(y-o.x)*d,o.y+=(x-o.y)*d;if(g)for(Ba(n=Yu.geom.quadtree(M),e,u),r=-1;++r<b;)(o=M[r]).fixed||n.visit(t(o));for(r=-1;++r<b;)o=M[r],o.fixed?(o.x=o.px,o.y=o.py):(o.x-=(o.px-(o.px=o.x))*l,o.y-=(o.py-(o.py=o.y))*l);s.tick({type:"tick",alpha:e})},o.nodes=function(t){return arguments.length?(M=t,o):M},o.links=function(t){return arguments.length?(m=t,o):m},o.size=function(t){return arguments.length?(c=t,o):c},o.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,o):f},o.distance=o.linkDistance,o.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,o):h},o.friction=function(t){return arguments.length?(l=+t,o):l},o.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,o):g},o.chargeDistance=function(t){return arguments.length?(v=t*t,o):Math.sqrt(v)},o.gravity=function(t){return arguments.length?(p=+t,o):p},o.theta=function(t){return arguments.length?(d=t*t,o):Math.sqrt(d)},o.alpha=function(t){return arguments.length?(t=+t,e?e=t>0?t:0:t>0&&(s.start({type:"start",alpha:e=t}),Yu.timer(o.tick)),o):e},o.start=function(){function t(t,e){if(!r){for(r=new Array(s),o=0;s>o;++o)r[o]=[];for(o=0;c>o;++o){var a=m[o];r[a.source.index].push(a.target),r[a.target.index].push(a.source)}}for(var i,u=r[n],o=-1,c=u.length;++o<c;)if(!isNaN(i=u[o][t]))return i;return Math.random()*e}var n,r,e,s=M.length,l=m.length,v=c[0],p=c[1];for(n=0;s>n;++n)(e=M[n]).index=n,e.weight=0;for(n=0;l>n;++n)e=m[n],"number"==typeof e.source&&(e.source=M[e.source]),"number"==typeof e.target&&(e.target=M[e.target]),++e.source.weight,++e.target.weight;for(n=0;s>n;++n)e=M[n],isNaN(e.x)&&(e.x=t("x",v)),isNaN(e.y)&&(e.y=t("y",p)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(a=[],"function"==typeof f)for(n=0;l>n;++n)a[n]=+f.call(this,m[n],n);else for(n=0;l>n;++n)a[n]=f;if(i=[],"function"==typeof h)for(n=0;l>n;++n)i[n]=+h.call(this,m[n],n);else for(n=0;l>n;++n)i[n]=h;if(u=[],"function"==typeof g)for(n=0;s>n;++n)u[n]=+g.call(this,M[n],n);else for(n=0;s>n;++n)u[n]=g;return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){return r||(r=Yu.behavior.drag().origin(Sn).on("dragstart.force",Oa).on("drag.force",n).on("dragend.force",Ia)),arguments.length?void this.on("mouseover.force",Ya).on("mouseout.force",Za).call(r):r},Yu.rebind(o,s,"on")};var ac=20,ic=1,uc=1/0;Yu.layout.hierarchy=function(){function t(a){var i,u=[a],o=[];for(a.depth=0;null!=(i=u.pop());)if(o.push(i),(c=r.call(t,i,i.depth))&&(s=c.length)){for(var s,c,l;--s>=0;)u.push(l=c[s]),l.parent=i,l.depth=i.depth+1;e&&(i.value=0),i.children=c}else e&&(i.value=+e.call(t,i,i.depth)||0),delete i.children;return $a(a,function(t){var r,a;n&&(r=t.children)&&r.sort(n),e&&(a=t.parent)&&(a.value+=t.value)}),o}var n=Ja,r=Ga,e=Wa;return t.sort=function(r){return arguments.length?(n=r,t):n},t.children=function(n){return arguments.length?(r=n,t):r},t.value=function(n){return arguments.length?(e=n,t):e},t.revalue=function(n){return e&&(Xa(n,function(t){t.children&&(t.value=0)}),$a(n,function(n){var r;n.children||(n.value=+e.call(t,n,n.depth)||0),(r=n.parent)&&(r.value+=n.value)})),n},t},Yu.layout.partition=function(){function t(n,r,e,a){var i=n.children;if(n.x=r,n.y=n.depth*a,n.dx=e,n.dy=a,i&&(u=i.length)){var u,o,s,c=-1;for(e=n.value?e/n.value:0;++c<u;)t(o=i[c],r,s=o.value*e,a),r+=s}}function n(t){var r=t.children,e=0;if(r&&(a=r.length))for(var a,i=-1;++i<a;)e=Math.max(e,n(r[i]));return 1+e}function r(r,i){var u=e.call(this,r,i);return t(u[0],0,a[0],a[1]/n(u[0])),u}var e=Yu.layout.hierarchy(),a=[1,1];return r.size=function(t){return arguments.length?(a=t,r):a},Va(r,e)},Yu.layout.pie=function(){function t(i){var u=i.map(function(r,e){return+n.call(t,r,e)}),o=+("function"==typeof e?e.apply(this,arguments):e),s=(("function"==typeof a?a.apply(this,arguments):a)-o)/Yu.sum(u),c=Yu.range(i.length);null!=r&&c.sort(r===oc?function(t,n){return u[n]-u[t]}:function(t,n){return r(i[t],i[n])});var l=[];return c.forEach(function(t){var n;l[t]={data:i[t],value:n=u[t],startAngle:o,endAngle:o+=n*s}}),l}var n=Number,r=oc,e=0,a=So;return t.value=function(r){return arguments.length?(n=r,t):n},t.sort=function(n){return arguments.length?(r=n,t):r},t.startAngle=function(n){return arguments.length?(e=n,t):e},t.endAngle=function(n){return arguments.length?(a=n,t):a},t};var oc={};Yu.layout.stack=function(){function t(o,s){var c=o.map(function(r,e){return n.call(t,r,e)}),l=c.map(function(n){return n.map(function(n,r){return[i.call(t,n,r),u.call(t,n,r)]})}),f=r.call(t,l,s);c=Yu.permute(c,f),l=Yu.permute(l,f);var h,g,v,p=e.call(t,l,s),d=c.length,M=c[0].length;for(g=0;M>g;++g)for(a.call(t,c[0][g],v=p[g],l[0][g][1]),h=1;d>h;++h)a.call(t,c[h][g],v+=l[h-1][g][1],l[h][g][1]);return o}var n=Sn,r=ei,e=ai,a=ri,i=ti,u=ni;return t.values=function(r){return arguments.length?(n=r,t):n},t.order=function(n){return arguments.length?(r="function"==typeof n?n:sc.get(n)||ei,t):r},t.offset=function(n){return arguments.length?(e="function"==typeof n?n:cc.get(n)||ai,t):e},t.x=function(n){return arguments.length?(i=n,t):i},t.y=function(n){return arguments.length?(u=n,t):u},t.out=function(n){return arguments.length?(a=n,t):a},t};var sc=Yu.map({"inside-out":function(t){var n,r,e=t.length,a=t.map(ii),i=t.map(ui),u=Yu.range(e).sort(function(t,n){return a[t]-a[n]}),o=0,s=0,c=[],l=[];for(n=0;e>n;++n)r=u[n],s>o?(o+=i[r],c.push(r)):(s+=i[r],l.push(r));return l.reverse().concat(c)},reverse:function(t){return Yu.range(t.length).reverse()},"default":ei}),cc=Yu.map({silhouette:function(t){var n,r,e,a=t.length,i=t[0].length,u=[],o=0,s=[];for(r=0;i>r;++r){for(n=0,e=0;a>n;n++)e+=t[n][r][1];e>o&&(o=e),u.push(e)}for(r=0;i>r;++r)s[r]=(o-u[r])/2;return s},wiggle:function(t){var n,r,e,a,i,u,o,s,c,l=t.length,f=t[0],h=f.length,g=[];for(g[0]=s=c=0,r=1;h>r;++r){for(n=0,a=0;l>n;++n)a+=t[n][r][1];for(n=0,i=0,o=f[r][0]-f[r-1][0];l>n;++n){for(e=0,u=(t[n][r][1]-t[n][r-1][1])/(2*o);n>e;++e)u+=(t[e][r][1]-t[e][r-1][1])/o;i+=u*t[n][r][1]}g[r]=s-=a?i/a*o:0,c>s&&(c=s)}for(r=0;h>r;++r)g[r]-=c;return g},expand:function(t){var n,r,e,a=t.length,i=t[0].length,u=1/a,o=[];for(r=0;i>r;++r){for(n=0,e=0;a>n;n++)e+=t[n][r][1];if(e)for(n=0;a>n;n++)t[n][r][1]/=e;else for(n=0;a>n;n++)t[n][r][1]=u}for(r=0;i>r;++r)o[r]=0;return o},zero:ai});Yu.layout.histogram=function(){function t(t,i){for(var u,o,s=[],c=t.map(r,this),l=e.call(this,c,i),f=a.call(this,l,c,i),i=-1,h=c.length,g=f.length-1,v=n?1:1/h;++i<g;)u=s[i]=[],u.dx=f[i+1]-(u.x=f[i]),u.y=0;if(g>0)for(i=-1;++i<h;)o=c[i],o>=l[0]&&o<=l[1]&&(u=s[Yu.bisect(f,o,1,g)-1],u.y+=v,u.push(t[i]));return s}var n=!0,r=Number,e=li,a=si;return t.value=function(n){return arguments.length?(r=n,t):r},t.range=function(n){return arguments.length?(e=_n(n),t):e},t.bins=function(n){return arguments.length?(a="number"==typeof n?function(t){return ci(t,n)}:_n(n),t):a},t.frequency=function(r){return arguments.length?(n=!!r,t):n},t},Yu.layout.pack=function(){function t(t,i){var u=r.call(this,t,i),o=u[0],s=a[0],c=a[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(o.x=o.y=0,$a(o,function(t){t.r=+l(t.value)}),$a(o,pi),e){var f=e*(n?1:Math.max(2*o.r/s,2*o.r/c))/2;$a(o,function(t){t.r+=f}),$a(o,pi),$a(o,function(t){t.r-=f})}return mi(o,s/2,c/2,n?1:1/Math.max(2*o.r/s,2*o.r/c)),u}var n,r=Yu.layout.hierarchy().sort(fi),e=0,a=[1,1];return t.size=function(n){return arguments.length?(a=n,t):a},t.radius=function(r){return arguments.length?(n=null==r||"function"==typeof r?r:+r,t):n},t.padding=function(n){return arguments.length?(e=+n,t):e},Va(t,r)},Yu.layout.tree=function(){function t(t,a){var l=u.call(this,t,a),f=l[0],h=n(f);if($a(h,r),h.parent.m=-h.z,Xa(h,e),c)Xa(f,i);else{var g=f,v=f,p=f;Xa(f,function(t){t.x<g.x&&(g=t),t.x>v.x&&(v=t),t.depth>p.depth&&(p=t)});var d=o(g,v)/2-g.x,M=s[0]/(v.x+o(v,g)/2+d),m=s[1]/(p.depth||1);Xa(f,function(t){t.x=(t.x+d)*M,t.y=t.depth*m})}return l}function n(t){for(var n,r={A:null,children:[t]},e=[r];null!=(n=e.pop());)for(var a,i=n.children,u=0,o=i.length;o>u;++u)e.push((i[u]=a={_:i[u],parent:n,children:(a=i[u].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:u}).a=a);return r.children[0]}function r(t){var n=t.children,r=t.parent.children,e=t.i?r[t.i-1]:null;if(n.length){Si(t);var i=(n[0].z+n[n.length-1].z)/2;e?(t.z=e.z+o(t._,e._),t.m=t.z-i):t.z=i}else e&&(t.z=e.z+o(t._,e._));t.parent.A=a(t,e,t.parent.A||r[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,n,r){if(n){for(var e,a=t,i=t,u=n,s=a.parent.children[0],c=a.m,l=i.m,f=u.m,h=s.m;u=wi(u),a=bi(a),u&&a;)s=bi(s),i=wi(i),i.a=t,e=u.z+f-a.z-c+o(u._,a._),e>0&&(_i(qi(u,t,r),t,e),c+=e,l+=e),f+=u.m,c+=a.m,h+=s.m,l+=i.m;u&&!wi(i)&&(i.t=u,i.m+=f-l),a&&!bi(s)&&(s.t=a,s.m+=c-h,r=t)}return r}function i(t){t.x*=s[0],t.y=t.depth*s[1]}var u=Yu.layout.hierarchy().sort(null).value(null),o=xi,s=[1,1],c=null;return t.separation=function(n){return arguments.length?(o=n,t):o},t.size=function(n){return arguments.length?(c=null==(s=n)?i:null,t):c?null:s},t.nodeSize=function(n){return arguments.length?(c=null==(s=n)?null:i,t):c?s:null},Va(t,u)},Yu.layout.cluster=function(){function t(t,i){var u,o=n.call(this,t,i),s=o[0],c=0;$a(s,function(t){var n=t.children;n&&n.length?(t.x=ki(n),t.y=Ei(n)):(t.x=u?c+=r(t,u):0,t.y=0,u=t)});var l=Ai(s),f=Ti(s),h=l.x-r(l,f)/2,g=f.x+r(f,l)/2;return $a(s,a?function(t){t.x=(t.x-s.x)*e[0],t.y=(s.y-t.y)*e[1]}:function(t){t.x=(t.x-h)/(g-h)*e[0],t.y=(1-(s.y?t.y/s.y:1))*e[1]}),o}var n=Yu.layout.hierarchy().sort(null).value(null),r=xi,e=[1,1],a=!1;return t.separation=function(n){return arguments.length?(r=n,t):r},t.size=function(n){return arguments.length?(a=null==(e=n),t):a?null:e},t.nodeSize=function(n){return arguments.length?(a=null!=(e=n),t):a?e:null},Va(t,n)},Yu.layout.treemap=function(){function t(t,n){for(var r,e,a=-1,i=t.length;++a<i;)e=(r=t[a]).value*(0>n?0:n),r.area=isNaN(e)||0>=e?0:e}function n(r){var i=r.children;if(i&&i.length){var u,o,s,c=f(r),l=[],h=i.slice(),v=1/0,p="slice"===g?c.dx:"dice"===g?c.dy:"slice-dice"===g?1&r.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/r.value),l.area=0;(s=h.length)>0;)l.push(u=h[s-1]),l.area+=u.area,"squarify"!==g||(o=e(l,p))<=v?(h.pop(),v=o):(l.area-=l.pop().area,a(l,p,c,!1),p=Math.min(c.dx,c.dy),l.length=l.area=0,v=1/0);l.length&&(a(l,p,c,!0),l.length=l.area=0),i.forEach(n)}}function r(n){var e=n.children;if(e&&e.length){var i,u=f(n),o=e.slice(),s=[];for(t(o,u.dx*u.dy/n.value),s.area=0;i=o.pop();)s.push(i),s.area+=i.area,null!=i.z&&(a(s,i.z?u.dx:u.dy,u,!o.length),s.length=s.area=0);e.forEach(r)}}function e(t,n){for(var r,e=t.area,a=0,i=1/0,u=-1,o=t.length;++u<o;)(r=t[u].area)&&(i>r&&(i=r),r>a&&(a=r));return e*=e,n*=n,e?Math.max(n*a*v/e,e/(n*i*v)):1/0}function a(t,n,r,e){var a,i=-1,u=t.length,o=r.x,c=r.y,l=n?s(t.area/n):0;if(n==r.dx){for((e||l>r.dy)&&(l=r.dy);++i<u;)a=t[i],a.x=o,a.y=c,a.dy=l,o+=a.dx=Math.min(r.x+r.dx-o,l?s(a.area/l):0);a.z=!0,a.dx+=r.x+r.dx-o,r.y+=l,r.dy-=l}else{for((e||l>r.dx)&&(l=r.dx);++i<u;)a=t[i],a.x=o,a.y=c,a.dx=l,c+=a.dy=Math.min(r.y+r.dy-c,l?s(a.area/l):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=l,r.dx-=l}}function i(e){var a=u||o(e),i=a[0];return i.x=0,i.y=0,i.dx=c[0],i.dy=c[1],u&&o.revalue(i),t([i],i.dx*i.dy/i.value),(u?r:n)(i),h&&(u=a),a}var u,o=Yu.layout.hierarchy(),s=Math.round,c=[1,1],l=null,f=Ci,h=!1,g="squarify",v=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(c=t,i):c},i.padding=function(t){function n(n){var r=t.call(i,n,n.depth);return null==r?Ci(n):Ni(n,"number"==typeof r?[r,r,r,r]:r)}function r(n){return Ni(n,t)}if(!arguments.length)return l;var e;return f=null==(l=t)?Ci:"function"==(e=typeof t)?n:"number"===e?(t=[t,t,t,t],r):r,i},i.round=function(t){return arguments.length?(s=t?Math.round:Number,i):s!=Number},i.sticky=function(t){return arguments.length?(h=t,u=null,i):h},i.ratio=function(t){return arguments.length?(v=t,i):v},i.mode=function(t){return arguments.length?(g=t+"",i):g},Va(i,o)},Yu.random={normal:function(t,n){var r=arguments.length;return 2>r&&(n=1),1>r&&(t=0),function(){var r,e,a;do r=2*Math.random()-1,e=2*Math.random()-1,a=r*r+e*e;while(!a||a>1);return t+n*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=Yu.random.normal.apply(Yu,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=Yu.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,r=0;t>r;r++)n+=Math.random();return n}}},Yu.scale={};var lc={floor:Sn,ceil:Sn};Yu.scale.linear=function(){return Ui([0,1],[0,1],ga,!1)};var fc={s:1,g:1,p:1,r:1,e:1};Yu.scale.log=function(){return Bi(Yu.scale.linear().domain([0,1]),10,!0,[1,10])};var hc=Yu.format(".0e"),gc={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};Yu.scale.pow=function(){return Vi(Yu.scale.linear(),1,[0,1])},Yu.scale.sqrt=function(){return Yu.scale.pow().exponent(.5)},Yu.scale.ordinal=function(){return $i([],{t:"range",a:[[]]})},Yu.scale.category10=function(){return Yu.scale.ordinal().range(vc)},Yu.scale.category20=function(){return Yu.scale.ordinal().range(pc)},Yu.scale.category20b=function(){return Yu.scale.ordinal().range(dc)},Yu.scale.category20c=function(){return Yu.scale.ordinal().range(Mc)};var vc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dn),pc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dn),dc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dn),Mc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dn);Yu.scale.quantile=function(){return Gi([],[])},Yu.scale.quantize=function(){return Wi(0,1,[0,1])},Yu.scale.threshold=function(){return Ji([.5],[0,1])},Yu.scale.identity=function(){return Ki([0,1])},Yu.svg={},Yu.svg.arc=function(){function t(){var t=n.apply(this,arguments),i=r.apply(this,arguments),u=e.apply(this,arguments)+mc,o=a.apply(this,arguments)+mc,s=(u>o&&(s=u,u=o,o=s),o-u),c=_o>s?"0":"1",l=Math.cos(u),f=Math.sin(u),h=Math.cos(o),g=Math.sin(o);return s>=yc?t?"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+i+"A"+i+","+i+" 0 1,1 0,"+-i+"A"+i+","+i+" 0 1,1 0,"+i+"Z":t?"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*g+"L"+t*h+","+t*g+"A"+t+","+t+" 0 "+c+",0 "+t*l+","+t*f+"Z":"M"+i*l+","+i*f+"A"+i+","+i+" 0 "+c+",1 "+i*h+","+i*g+"L0,0Z"}var n=tu,r=nu,e=ru,a=eu;return t.innerRadius=function(r){return arguments.length?(n=_n(r),t):n},t.outerRadius=function(n){return arguments.length?(r=_n(n),t):r},t.startAngle=function(n){return arguments.length?(e=_n(n),t):e},t.endAngle=function(n){return arguments.length?(a=_n(n),t):a},t.centroid=function(){var t=(n.apply(this,arguments)+r.apply(this,arguments))/2,i=(e.apply(this,arguments)+a.apply(this,arguments))/2+mc;return[Math.cos(i)*t,Math.sin(i)*t]},t};var mc=-qo,yc=So-Eo;Yu.svg.line=function(){return au(Sn)};var xc=Yu.map({linear:iu,"linear-closed":uu,step:ou,"step-before":su,"step-after":cu,basis:pu,"basis-open":du,"basis-closed":Mu,bundle:mu,cardinal:hu,"cardinal-open":lu,"cardinal-closed":fu,monotone:Su});xc.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var bc=[0,2/3,1/3,0],wc=[0,1/3,2/3,0],_c=[0,1/6,2/3,1/6];Yu.svg.line.radial=function(){var t=au(qu);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},su.reverse=cu,cu.reverse=su,Yu.svg.area=function(){return Eu(Sn)},Yu.svg.area.radial=function(){var t=Eu(qu);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},Yu.svg.chord=function(){function t(t,o){var s=n(this,i,t,o),c=n(this,u,t,o);return"M"+s.p0+e(s.r,s.p1,s.a1-s.a0)+(r(s,c)?a(s.r,s.p1,s.r,s.p0):a(s.r,s.p1,c.r,c.p0)+e(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,s.r,s.p0))+"Z"}function n(t,n,r,e){var a=n.call(t,r,e),i=o.call(t,a,e),u=s.call(t,a,e)+mc,l=c.call(t,a,e)+mc;return{r:i,a0:u,a1:l,p0:[i*Math.cos(u),i*Math.sin(u)],p1:[i*Math.cos(l),i*Math.sin(l)]}}function r(t,n){return t.a0==n.a0&&t.a1==n.a1}function e(t,n,r){return"A"+t+","+t+" 0 "+ +(r>_o)+",1 "+n}function a(t,n,r,e){return"Q 0,0 "+e}var i=ve,u=pe,o=ku,s=ru,c=eu;return t.radius=function(n){return arguments.length?(o=_n(n),t):o},t.source=function(n){return arguments.length?(i=_n(n),t):i},t.target=function(n){return arguments.length?(u=_n(n),t):u},t.startAngle=function(n){return arguments.length?(s=_n(n),t):s},t.endAngle=function(n){return arguments.length?(c=_n(n),t):c},t},Yu.svg.diagonal=function(){function t(t,a){var i=n.call(this,t,a),u=r.call(this,t,a),o=(i.y+u.y)/2,s=[i,{x:i.x,y:o},{x:u.x,y:o},u];return s=s.map(e),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=ve,r=pe,e=Au;return t.source=function(r){return arguments.length?(n=_n(r),t):n},t.target=function(n){return arguments.length?(r=_n(n),t):r},t.projection=function(n){return arguments.length?(e=n,t):e},t
},Yu.svg.diagonal.radial=function(){var t=Yu.svg.diagonal(),n=Au,r=t.projection;return t.projection=function(t){return arguments.length?r(Tu(n=t)):n},t},Yu.svg.symbol=function(){function t(t,e){return(Sc.get(n.call(this,t,e))||zu)(r.call(this,t,e))}var n=Nu,r=Cu;return t.type=function(r){return arguments.length?(n=_n(r),t):n},t.size=function(n){return arguments.length?(r=_n(n),t):r},t};var Sc=Yu.map({circle:zu,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Ac)),r=n*Ac;return"M0,"+-n+"L"+r+",0 0,"+n+" "+-r+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/kc),r=n*kc/2;return"M0,"+r+"L"+n+","+-r+" "+-n+","+-r+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/kc),r=n*kc/2;return"M0,"+-r+"L"+n+","+r+" "+-n+","+r+"Z"}});Yu.svg.symbolTypes=Sc.keys();var qc,Ec,kc=Math.sqrt(3),Ac=Math.tan(30*Ao),Tc=[],Cc=0;Tc.call=vo.call,Tc.empty=vo.empty,Tc.node=vo.node,Tc.size=vo.size,Yu.transition=function(t){return arguments.length?qc?t.transition():t:mo.transition()},Yu.transition.prototype=Tc,Tc.select=function(t){var n,r,e,a=this.id,i=[];t=w(t);for(var u=-1,o=this.length;++u<o;){i.push(n=[]);for(var s=this[u],c=-1,l=s.length;++c<l;)(e=s[c])&&(r=t.call(e,e.__data__,c,u))?("__data__"in e&&(r.__data__=e.__data__),Du(r,c,a,e.__transition__[a]),n.push(r)):n.push(null)}return Ru(i,a)},Tc.selectAll=function(t){var n,r,e,a,i,u=this.id,o=[];t=_(t);for(var s=-1,c=this.length;++s<c;)for(var l=this[s],f=-1,h=l.length;++f<h;)if(e=l[f]){i=e.__transition__[u],r=t.call(e,e.__data__,f,s),o.push(n=[]);for(var g=-1,v=r.length;++g<v;)(a=r[g])&&Du(a,g,u,i),n.push(a)}return Ru(o,u)},Tc.filter=function(t){var n,r,e,a=[];"function"!=typeof t&&(t=L(t));for(var i=0,u=this.length;u>i;i++){a.push(n=[]);for(var r=this[i],o=0,s=r.length;s>o;o++)(e=r[o])&&t.call(e,e.__data__,o,i)&&n.push(e)}return Ru(a,this.id)},Tc.tween=function(t,n){var r=this.id;return arguments.length<2?this.node().__transition__[r].tween.get(t):D(this,null==n?function(n){n.__transition__[r].tween.remove(t)}:function(e){e.__transition__[r].tween.set(t,n)})},Tc.attr=function(t,n){function r(){this.removeAttribute(o)}function e(){this.removeAttributeNS(o.space,o.local)}function a(t){return null==t?r:(t+="",function(){var n,r=this.getAttribute(o);return r!==t&&(n=u(r,t),function(t){this.setAttribute(o,n(t))})})}function i(t){return null==t?e:(t+="",function(){var n,r=this.getAttributeNS(o.space,o.local);return r!==t&&(n=u(r,t),function(t){this.setAttributeNS(o.space,o.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var u="transform"==t?Da:ga,o=Yu.ns.qualify(t);return Lu(this,"attr."+t,n,o.local?i:a)},Tc.attrTween=function(t,n){function r(t,r){var e=n.call(this,t,r,this.getAttribute(a));return e&&function(t){this.setAttribute(a,e(t))}}function e(t,r){var e=n.call(this,t,r,this.getAttributeNS(a.space,a.local));return e&&function(t){this.setAttributeNS(a.space,a.local,e(t))}}var a=Yu.ns.qualify(t);return this.tween("attr."+t,a.local?e:r)},Tc.style=function(t,n,r){function e(){this.style.removeProperty(t)}function a(n){return null==n?e:(n+="",function(){var e,a=$u.getComputedStyle(this,null).getPropertyValue(t);return a!==n&&(e=ga(a,n),function(n){this.style.setProperty(t,e(n),r)})})}var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Lu(this,"style."+t,n,a)},Tc.styleTween=function(t,n,r){function e(e,a){var i=n.call(this,e,a,$u.getComputedStyle(this,null).getPropertyValue(t));return i&&function(n){this.style.setProperty(t,i(n),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,e)},Tc.text=function(t){return Lu(this,"text",t,Pu)},Tc.remove=function(){return this.each("end.transition",function(){var t;this.__transition__.count<2&&(t=this.parentNode)&&t.removeChild(this)})},Tc.ease=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].ease:("function"!=typeof t&&(t=Yu.ease.apply(Yu,arguments)),D(this,function(r){r.__transition__[n].ease=t}))},Tc.delay=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].delay:D(this,"function"==typeof t?function(r,e,a){r.__transition__[n].delay=+t.call(r,r.__data__,e,a)}:(t=+t,function(r){r.__transition__[n].delay=t}))},Tc.duration=function(t){var n=this.id;return arguments.length<1?this.node().__transition__[n].duration:D(this,"function"==typeof t?function(r,e,a){r.__transition__[n].duration=Math.max(1,t.call(r,r.__data__,e,a))}:(t=Math.max(1,t),function(r){r.__transition__[n].duration=t}))},Tc.each=function(t,n){var r=this.id;if(arguments.length<2){var e=Ec,a=qc;qc=r,D(this,function(n,e,a){Ec=n.__transition__[r],t.call(n,n.__data__,e,a)}),Ec=e,qc=a}else D(this,function(e){var a=e.__transition__[r];(a.event||(a.event=Yu.dispatch("start","end"))).on(t,n)});return this},Tc.transition=function(){for(var t,n,r,e,a=this.id,i=++Cc,u=[],o=0,s=this.length;s>o;o++){u.push(t=[]);for(var n=this[o],c=0,l=n.length;l>c;c++)(r=n[c])&&(e=Object.create(r.__transition__[a]),e.delay+=e.duration,Du(r,c,i,e)),t.push(r)}return Ru(u,i)},Yu.svg.axis=function(){function t(t){t.each(function(){var t,c=Yu.select(this),l=this.__chart__||r,f=this.__chart__=r.copy(),h=null==s?f.ticks?f.ticks.apply(f,o):f.domain():s,g=null==n?f.tickFormat?f.tickFormat.apply(f,o):Sn:n,v=c.selectAll(".tick").data(h,f),p=v.enter().insert("g",".domain").attr("class","tick").style("opacity",Eo),d=Yu.transition(v.exit()).style("opacity",Eo).remove(),M=Yu.transition(v.order()).style("opacity",1),m=Ri(f),y=c.selectAll(".domain").data([0]),x=(y.enter().append("path").attr("class","domain"),Yu.transition(y));p.append("line"),p.append("text");var b=p.select("line"),w=M.select("line"),_=v.select("text").text(g),S=p.select("text"),q=M.select("text");switch(e){case"bottom":t=ju,b.attr("y2",a),S.attr("y",Math.max(a,0)+u),w.attr("x2",0).attr("y2",a),q.attr("x",0).attr("y",Math.max(a,0)+u),_.attr("dy",".71em").style("text-anchor","middle"),x.attr("d","M"+m[0]+","+i+"V0H"+m[1]+"V"+i);break;case"top":t=ju,b.attr("y2",-a),S.attr("y",-(Math.max(a,0)+u)),w.attr("x2",0).attr("y2",-a),q.attr("x",0).attr("y",-(Math.max(a,0)+u)),_.attr("dy","0em").style("text-anchor","middle"),x.attr("d","M"+m[0]+","+-i+"V0H"+m[1]+"V"+-i);break;case"left":t=Uu,b.attr("x2",-a),S.attr("x",-(Math.max(a,0)+u)),w.attr("x2",-a).attr("y2",0),q.attr("x",-(Math.max(a,0)+u)).attr("y",0),_.attr("dy",".32em").style("text-anchor","end"),x.attr("d","M"+-i+","+m[0]+"H0V"+m[1]+"H"+-i);break;case"right":t=Uu,b.attr("x2",a),S.attr("x",Math.max(a,0)+u),w.attr("x2",a).attr("y2",0),q.attr("x",Math.max(a,0)+u).attr("y",0),_.attr("dy",".32em").style("text-anchor","start"),x.attr("d","M"+i+","+m[0]+"H0V"+m[1]+"H"+i)}if(f.rangeBand){var E=f,k=E.rangeBand()/2;l=f=function(t){return E(t)+k}}else l.rangeBand?l=f:d.call(t,f);p.call(t,l),M.call(t,f)})}var n,r=Yu.scale.linear(),e=Nc,a=6,i=6,u=3,o=[10],s=null;return t.scale=function(n){return arguments.length?(r=n,t):r},t.orient=function(n){return arguments.length?(e=n in zc?n+"":Nc,t):e},t.ticks=function(){return arguments.length?(o=arguments,t):o},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(r){return arguments.length?(n=r,t):n},t.tickSize=function(n){var r=arguments.length;return r?(a=+n,i=+arguments[r-1],t):a},t.innerTickSize=function(n){return arguments.length?(a=+n,t):a},t.outerTickSize=function(n){return arguments.length?(i=+n,t):i},t.tickPadding=function(n){return arguments.length?(u=+n,t):u},t.tickSubdivide=function(){return arguments.length&&t},t};var Nc="bottom",zc={top:1,right:1,bottom:1,left:1};Yu.svg.brush=function(){function t(i){i.each(function(){var i=Yu.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),u=i.selectAll(".background").data([0]);u.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var o=i.selectAll(".resize").data(v,Sn);o.exit().remove(),o.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Rc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),o.style("display",t.empty()?"none":null);var l,f=Yu.transition(i),h=Yu.transition(u);s&&(l=Ri(s),h.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),c&&(l=Ri(c),h.attr("y",l[0]).attr("height",l[1]-l[0]),e(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+l[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",l[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function a(){function a(){32==Yu.event.keyCode&&(A||(y=null,C[0]-=l[1],C[1]-=f[1],A=2),m())}function v(){32==Yu.event.keyCode&&2==A&&(C[0]+=l[1],C[1]+=f[1],A=0,m())}function p(){var t=Yu.mouse(b),a=!1;x&&(t[0]+=x[0],t[1]+=x[1]),A||(Yu.event.altKey?(y||(y=[(l[0]+l[1])/2,(f[0]+f[1])/2]),C[0]=l[+(t[0]<y[0])],C[1]=f[+(t[1]<y[1])]):y=null),E&&d(t,s,0)&&(r(S),a=!0),k&&d(t,c,1)&&(e(S),a=!0),a&&(n(S),_({type:"brush",mode:A?"move":"resize"}))}function d(t,n,r){var e,a,o=Ri(n),s=o[0],c=o[1],v=C[r],p=r?f:l,d=p[1]-p[0];return A&&(s-=v,c-=d+v),e=(r?g:h)?Math.max(s,Math.min(c,t[r])):t[r],A?a=(e+=v)+d:(y&&(v=Math.max(s,Math.min(c,2*y[r]-e))),e>v?(a=e,e=v):a=v),p[0]!=e||p[1]!=a?(r?u=null:i=null,p[0]=e,p[1]=a,!0):void 0}function M(){p(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),Yu.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),T(),_({type:"brushend"})}var y,x,b=this,w=Yu.select(Yu.event.target),_=o.of(b,arguments),S=Yu.select(b),q=w.datum(),E=!/^(n|s)$/.test(q)&&s,k=!/^(e|w)$/.test(q)&&c,A=w.classed("extent"),T=I(),C=Yu.mouse(b),N=Yu.select($u).on("keydown.brush",a).on("keyup.brush",v);if(Yu.event.changedTouches?N.on("touchmove.brush",p).on("touchend.brush",M):N.on("mousemove.brush",p).on("mouseup.brush",M),S.interrupt().selectAll("*").interrupt(),A)C[0]=l[0]-C[0],C[1]=f[0]-C[1];else if(q){var z=+/w$/.test(q),R=+/^n/.test(q);x=[l[1-z]-C[0],f[1-R]-C[1]],C[0]=l[z],C[1]=f[R]}else Yu.event.altKey&&(y=C.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),Yu.select("body").style("cursor",w.style("cursor")),_({type:"brushstart"}),p()}var i,u,o=x(t,"brushstart","brush","brushend"),s=null,c=null,l=[0,0],f=[0,0],h=!0,g=!0,v=Lc[0];return t.event=function(t){t.each(function(){var t=o.of(this,arguments),n={x:l,y:f,i:i,j:u},r=this.__chart__||n;this.__chart__=n,qc?Yu.select(this).transition().each("start.brush",function(){i=r.i,u=r.j,l=r.x,f=r.y,t({type:"brushstart"})}).tween("brush:brush",function(){var r=va(l,n.x),e=va(f,n.y);return i=u=null,function(a){l=n.x=r(a),f=n.y=e(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(s=n,v=Lc[!s<<1|!c],t):s},t.y=function(n){return arguments.length?(c=n,v=Lc[!s<<1|!c],t):c},t.clamp=function(n){return arguments.length?(s&&c?(h=!!n[0],g=!!n[1]):s?h=!!n:c&&(g=!!n),t):s&&c?[h,g]:s?h:c?g:null},t.extent=function(n){var r,e,a,o,h;return arguments.length?(s&&(r=n[0],e=n[1],c&&(r=r[0],e=e[0]),i=[r,e],s.invert&&(r=s(r),e=s(e)),r>e&&(h=r,r=e,e=h),(r!=l[0]||e!=l[1])&&(l=[r,e])),c&&(a=n[0],o=n[1],s&&(a=a[1],o=o[1]),u=[a,o],c.invert&&(a=c(a),o=c(o)),a>o&&(h=a,a=o,o=h),(a!=f[0]||o!=f[1])&&(f=[a,o])),t):(s&&(i?(r=i[0],e=i[1]):(r=l[0],e=l[1],s.invert&&(r=s.invert(r),e=s.invert(e)),r>e&&(h=r,r=e,e=h))),c&&(u?(a=u[0],o=u[1]):(a=f[0],o=f[1],c.invert&&(a=c.invert(a),o=c.invert(o)),a>o&&(h=a,a=o,o=h))),s&&c?[[r,a],[e,o]]:s?[r,e]:c&&[a,o])},t.clear=function(){return t.empty()||(l=[0,0],f=[0,0],i=u=null),t},t.empty=function(){return!!s&&l[0]==l[1]||!!c&&f[0]==f[1]},Yu.rebind(t,o,"on")};var Rc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Lc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Pc=ts.format=us.timeFormat,Dc=Pc.utc,jc=Dc("%Y-%m-%dT%H:%M:%S.%LZ");Pc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Fu:jc,Fu.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Fu.toString=jc.toString,ts.second=Dn(function(t){return new ns(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),ts.seconds=ts.second.range,ts.seconds.utc=ts.second.utc.range,ts.minute=Dn(function(t){return new ns(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),ts.minutes=ts.minute.range,ts.minutes.utc=ts.minute.utc.range,ts.hour=Dn(function(t){var n=t.getTimezoneOffset()/60;return new ns(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),ts.hours=ts.hour.range,ts.hours.utc=ts.hour.utc.range,ts.month=Dn(function(t){return t=ts.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),ts.months=ts.month.range,ts.months.utc=ts.month.utc.range;var Uc=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Fc=[[ts.second,1],[ts.second,5],[ts.second,15],[ts.second,30],[ts.minute,1],[ts.minute,5],[ts.minute,15],[ts.minute,30],[ts.hour,1],[ts.hour,3],[ts.hour,6],[ts.hour,12],[ts.day,1],[ts.day,2],[ts.week,1],[ts.month,1],[ts.month,3],[ts.year,1]],Hc=Pc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Sr]]),Qc={range:function(t,n,r){return Yu.range(Math.ceil(t/r)*r,+n,r).map(Qu)},floor:Sn,ceil:Sn};Fc.year=ts.year,ts.scale=function(){return Hu(Yu.scale.linear(),Fc,Hc)};var Oc=Fc.map(function(t){return[t[0].utc,t[1]]}),Ic=Dc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Sr]]);Oc.year=ts.year.utc,ts.scale.utc=function(){return Hu(Yu.scale.linear(),Oc,Ic)},Yu.text=qn(function(t){return t.responseText}),Yu.json=function(t,n){return En(t,"application/json",Ou,n)},Yu.html=function(t,n){return En(t,"text/html",Iu,n)},Yu.xml=qn(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(Yu):"object"==typeof module&&module.exports&&(module.exports=Yu),this.d3=Yu}(),!function(){function t(t,r){return{type:"Feature",id:t.id,properties:t.properties,geometry:n(t.geometry,r)}}function n(t,r){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return n(t,r)})};if(!gr.hasOwnProperty(t.type))return null;var e=gr[t.type];return d3.geo.stream(t,r(e)),e.result()}function r(){}function e(t){if((n=t.length)<4)return!1;for(var n,r=0,e=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++r<n;)e+=t[r-1][1]*t[r][0]-t[r-1][0]*t[r][1];return 0>=e}function a(t,n){for(var r=n[0],e=n[1],a=!1,i=0,u=t.length,o=u-1;u>i;o=i++){var s=t[i],c=s[0],l=s[1],f=t[o],h=f[0],g=f[1];l>e^g>e&&(h-c)*(e-l)/(g-l)+c>r&&(a=!a)}return a}function i(t){return t?t/Math.sin(t):1}function u(t){return t>0?1:0>t?-1:0}function o(t){return t>1?Mr:-1>t?-Mr:Math.asin(t)}function s(t){return t>1?0:-1>t?dr:Math.acos(t)}function c(t){return t>0?Math.sqrt(t):0}function l(t){function n(t,n){var r=Math.cos(t),a=Math.cos(n),i=Math.sin(n),u=a*r,o=-((1-u?Math.log(.5*(1+u))/(1-u):-.5)+e/(1+u));return[o*a*Math.sin(t),o*i]}var r=Math.tan(.5*t),e=2*Math.log(Math.cos(.5*t))/(r*r);return n.invert=function(n,r){var a,i=Math.sqrt(n*n+r*r),u=t*-.5,s=50;if(!i)return[0,0];do{var c=.5*u,l=Math.cos(c),f=Math.sin(c),h=Math.tan(c),g=Math.log(1/l);u-=a=(2/h*g-e*h-i)/(-g/(f*f)+1-e/(2*l*l))}while(Math.abs(a)>vr&&--s>0);var v=Math.sin(u);return[Math.atan2(n*v,i*Math.cos(u)),o(r*v/i)]},n}function f(){var t=Mr,n=wr(l),r=n(t);return r.radius=function(r){return arguments.length?n(t=r*dr/180):t/dr*180},r}function h(t,n){var r=Math.cos(n),e=i(s(r*Math.cos(t/=2)));return[2*r*Math.sin(t)*e,Math.sin(n)*e]}function g(t){function n(t,n){var o=Math.cos(n),s=Math.cos(t/=2);return[(1+o)*Math.sin(t),(a*n>-Math.atan2(s,i)-.001?0:10*-a)+u+Math.sin(n)*e-(1+o)*r*s]}var r=Math.sin(t),e=Math.cos(t),a=t>0?1:-1,i=Math.tan(a*t),u=(1+r-e)/2;return n.invert=function(t,n){var o=0,s=0,c=50;do{var l=Math.cos(o),f=Math.sin(o),h=Math.cos(s),g=Math.sin(s),v=1+h,p=v*f-t,d=u+g*e-v*r*l-n,M=.5*v*l,m=-f*g,y=.5*r*v*f,x=e*h+r*l*g,b=m*y-x*M,w=.5*(d*m-p*x)/b,_=(p*y-d*M)/b;o-=w,s-=_}while((Math.abs(w)>vr||Math.abs(_)>vr)&&--c>0);return a*s>-Math.atan2(Math.cos(o),i)-.001?[2*o,s]:null},n}function v(){var t=dr/9,n=t>0?1:-1,r=Math.tan(n*t),e=wr(g),a=e(t),i=a.stream;return a.parallel=function(a){return arguments.length?(r=Math.tan((n=(t=a*dr/180)>0?1:-1)*t),e(t)):t/dr*180},a.stream=function(e){var u=a.rotate(),o=i(e),s=(a.rotate([0,0]),i(e));return a.rotate(u),o.sphere=function(){s.polygonStart(),s.lineStart();for(var e=-180*n;180>n*e;e+=90*n)s.point(e,90*n);for(;n*(e-=t)>=-180;)s.point(e,n*-Math.atan2(Math.cos(e*yr/2),r)*xr);s.lineEnd(),s.polygonEnd()},o},a}function p(t){return t=Math.exp(2*t),(t-1)/(t+1)}function d(t){return.5*(Math.exp(t)-Math.exp(-t))}function M(t){return.5*(Math.exp(t)+Math.exp(-t))}function m(t){return Math.log(t+c(t*t+1))}function y(t){return Math.log(t+c(t*t-1))}function x(t,n){var r=Math.tan(n/2),e=c(1-r*r),a=1+e*Math.cos(t/=2),i=Math.sin(t)*e/a,u=r/a,o=i*i,s=u*u;return[4/3*i*(3+o-3*s),4/3*u*(3+3*o-s)]}function b(t,n){var r=Math.abs(n);return dr/4>r?[t,Math.log(Math.tan(dr/4+n/2))]:[t*Math.cos(r)*(2*Math.SQRT2-1/Math.sin(r)),u(n)*(2*Math.SQRT2*(r-dr/4)-Math.log(Math.tan(r/2)))]}function w(t){function n(t,n){var e=Sr(t,n);if(Math.abs(t)>Mr){var a=Math.atan2(e[1],e[0]),i=Math.sqrt(e[0]*e[0]+e[1]*e[1]),u=r*Math.round((a-Mr)/r)+Mr,s=Math.atan2(Math.sin(a-=u),2-Math.cos(a));a=u+o(dr/i*Math.sin(s))-s,e[0]=i*Math.cos(a),e[1]=i*Math.sin(a)}return e}var r=2*dr/t;return n.invert=function(t,n){var e=Math.sqrt(t*t+n*n);if(e>Mr){var a=Math.atan2(n,t),i=r*Math.round((a-Mr)/r)+Mr,u=a>i?-1:1,o=e*Math.cos(i-a),s=1/Math.tan(u*Math.acos((o-dr)/Math.sqrt(dr*(dr-2*o)+e*e)));a=i+2*Math.atan((s+u*Math.sqrt(s*s-3))/3),t=e*Math.cos(a),n=e*Math.sin(a)}return Sr.invert(t,n)},n}function _(){var t=5,n=wr(w),r=n(t),e=r.stream,a=.01,i=-Math.cos(a*yr),u=Math.sin(a*yr);return r.lobes=function(r){return arguments.length?n(t=+r):t},r.stream=function(n){var s=r.rotate(),c=e(n),l=(r.rotate([0,0]),e(n));return r.rotate(s),c.sphere=function(){l.polygonStart(),l.lineStart();for(var n=0,r=360/t,e=2*dr/t,s=90-180/t,c=Mr;t>n;++n,s-=r,c-=e)l.point(Math.atan2(u*Math.cos(c),i)*xr,o(u*Math.sin(c))*xr),-90>s?(l.point(-90,-180-s-a),l.point(-90,-180-s+a)):(l.point(90,s+a),l.point(90,s-a));l.lineEnd(),l.polygonEnd()},c},r}function S(t){return function(n){var r,e=t*Math.sin(n),a=30;do n-=r=(n+Math.sin(n)-e)/(1+Math.cos(n));while(Math.abs(r)>vr&&--a>0);return n/2}}function q(t,n,r){function e(r,e){return[t*r*Math.cos(e=a(e)),n*Math.sin(e)]}var a=S(r);return e.invert=function(e,a){var i=o(a/n);return[e/(t*Math.cos(i)),o((2*i+Math.sin(2*i))/r)]},e}function E(t,n){var r=2.00276,e=qr(n);return[r*t/(1/Math.cos(n)+1.11072/Math.cos(e)),(n+Math.SQRT2*Math.sin(e))/r]}function k(t){var n=0,r=wr(t),e=r(n);return e.parallel=function(t){return arguments.length?r(n=t*dr/180):n/dr*180},e}function A(t,n){return[t*Math.cos(n),n]}function T(t){function n(n,e){var a=r+t-e,i=a?n*Math.cos(e)/a:a;return[a*Math.sin(i),r-a*Math.cos(i)]}if(!t)return A;var r=1/Math.tan(t);return n.invert=function(n,e){var a=Math.sqrt(n*n+(e=r-e)*e),i=r+t-a;return[a/Math.cos(i)*Math.atan2(n,e),i]},n}function C(t){function n(n,r){for(var e=Math.sin(r),a=Math.cos(r),i=new Array(3),c=0;3>c;++c){var l=t[c];if(i[c]=z(r-l[1],l[3],l[2],a,e,n-l[0]),!i[c][0])return l.point;i[c][1]=L(i[c][1]-l.v[1])}for(var f=s.slice(),c=0;3>c;++c){var h=2==c?0:c+1,g=R(t[c].v[0],i[c][0],i[h][0]);i[c][1]<0&&(g=-g),c?1==c?(g=u-g,f[0]-=i[c][0]*Math.cos(g),f[1]-=i[c][0]*Math.sin(g)):(g=o-g,f[0]+=i[c][0]*Math.cos(g),f[1]+=i[c][0]*Math.sin(g)):(f[0]+=i[c][0]*Math.cos(g),f[1]-=i[c][0]*Math.sin(g))}return f[0]/=3,f[1]/=3,f}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var r,e=t[2],a=0;3>a;++a,e=r)r=t[a],e.v=z(r[1]-e[1],e[3],e[2],r[3],r[2],r[0]-e[0]),e.point=[0,0];var i=R(t[0].v[0],t[2].v[0],t[1].v[0]),u=R(t[0].v[0],t[1].v[0],t[2].v[0]),o=dr-i;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var s=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(i),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(i))];return n}function N(){var t=[[0,0],[0,0],[0,0]],n=wr(C),r=n(t),e=r.rotate;return delete r.rotate,r.points=function(a){if(!arguments.length)return t;t=a;var i=d3.geo.centroid({type:"MultiPoint",coordinates:t}),u=[-i[0],-i[1]];return e.call(r,u),n(t.map(d3.geo.rotation(u)).map(P))},r.points([[-150,55],[-35,55],[-92.5,10]])}function z(t,n,r,e,a,i){var u,c=Math.cos(i);if(Math.abs(t)>1||Math.abs(i)>1)u=s(r*a+n*e*c);else{var l=Math.sin(.5*t),f=Math.sin(.5*i);u=2*o(Math.sqrt(l*l+n*e*f*f))}return Math.abs(u)>vr?[u,Math.atan2(e*Math.sin(i),n*a-r*e*c)]:[0,0]}function R(t,n,r){return s(.5*(t*t+n*n-r*r)/(t*n))}function L(t){return t-2*dr*Math.floor((t+dr)/(2*dr))}function P(t){return[t[0]*yr,t[1]*yr]}function D(t,n){var r=c(1-Math.sin(n));return[2/mr*t*r,mr*(1-r)]}function j(t){function n(t,n){return[t,(t?t/Math.sin(t):1)*(Math.sin(n)*Math.cos(t)-r*Math.cos(n))]}var r=Math.tan(t);return n.invert=r?function(t,n){t&&(n*=Math.sin(t)/t);var e=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(e*e+r*r-n*n)-e,r-n)]}:function(t,n){return[t,o(t?n*Math.tan(t)/t:n)]},n}function U(t,n){var r=Math.sqrt(3);return[r*t*(2*Math.cos(2*n/3)-1)/mr,r*mr*Math.sin(n/3)]}function F(t){function n(t,n){return[t*r,Math.sin(n)/r]}var r=Math.cos(t);return n.invert=function(t,n){return[t/r,o(n*r)]},n}function H(t){function n(t,n){return[t*r,(1+r)*Math.tan(.5*n)]}var r=Math.cos(t);return n.invert=function(t,n){return[t/r,2*Math.atan(n/(1+r))]},n}function Q(t,n){var r=Math.sqrt(8/(3*dr));return[r*t*(1-Math.abs(n)/dr),r*n]}function O(t,n){var r=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*dr)*t*r,u(n)*Math.sqrt(2*dr/3)*(2-r)]}function I(t,n){var r=Math.sqrt(dr*(4+dr));return[2/r*t*(1+Math.sqrt(1-4*n*n/(dr*dr))),4/r*n]}function Y(t,n){var r=(2+Mr)*Math.sin(n);n/=2;for(var e=0,a=1/0;10>e&&Math.abs(a)>vr;e++){var i=Math.cos(n);n-=a=(n+Math.sin(n)*(i+2)-r)/(2*i*(1+i))}return[2/Math.sqrt(dr*(4+dr))*t*(1+Math.cos(n)),2*Math.sqrt(dr/(4+dr))*Math.sin(n)]}function Z(t,n){return[t*(1+Math.cos(n))/Math.sqrt(2+dr),2*n/Math.sqrt(2+dr)]}function B(t,n){for(var r=(1+Mr)*Math.sin(n),e=0,a=1/0;10>e&&Math.abs(a)>vr;e++)n-=a=(n+Math.sin(n)-r)/(1+Math.cos(n));return r=Math.sqrt(2+dr),[t*(1+Math.cos(n))/r,2*n/r]}function V(t,n){var r=Math.sin(t/=2),e=Math.cos(t),a=Math.sqrt(Math.cos(n)),i=Math.cos(n/=2),u=Math.sin(n)/(i+Math.SQRT2*e*a),o=Math.sqrt(2/(1+u*u)),s=Math.sqrt((Math.SQRT2*i+(e+r)*a)/(Math.SQRT2*i+(e-r)*a));return[Ar*(o*(s-1/s)-2*Math.log(s)),Ar*(o*u*(s+1/s)-2*Math.atan(u))]}function X(t,n){var r=Math.tan(n/2);return[t*Tr*c(1-r*r),(1+Tr)*r]}function $(t,n){var r=n/2,e=Math.cos(r);return[2*t/mr*Math.cos(n)*e*e,mr*Math.tan(r)]}function G(t,n){function r(n,r){var i=Cr(n,r),u=i[0],o=i[1],s=u*u+o*o;if(s>a){var c=Math.sqrt(s),l=Math.atan2(o,u),f=e*Math.round(l/e),h=l-f,g=t*Math.cos(h),v=(t*Math.sin(h)-h*Math.sin(g))/(Mr-g),p=W(h,v),d=(dr-t)/K(p,g,dr);u=c;var M,m=50;do u-=M=(t+K(p,g,u)*d-c)/(p(u)*d);while(Math.abs(M)>vr&&--m>0);o=h*Math.sin(u),Mr>u&&(o-=v*(u-Mr));var y=Math.sin(f),x=Math.cos(f);i[0]=u*x-o*y,i[1]=u*y+o*x}return i}var e=2*dr/n,a=t*t;return r.invert=function(n,r){var i=n*n+r*r;if(i>a){var u=Math.sqrt(i),o=Math.atan2(r,n),s=e*Math.round(o/e),c=o-s,n=u*Math.cos(c);r=u*Math.sin(c);for(var l=n-Mr,f=Math.sin(n),h=r/f,g=Mr>n?1/0:0,v=10;;){var p=t*Math.sin(h),d=t*Math.cos(h),M=Math.sin(d),m=Mr-d,y=(p-h*M)/m,x=W(h,y);if(Math.abs(g)<pr||!--v)break;h-=g=(h*f-y*l-r)/(f-2*l*(m*(d+h*p*Math.cos(d)-M)-p*(p-h*M))/(m*m))}u=t+K(x,d,n)*(dr-t)/K(x,d,dr),o=s+h,n=u*Math.cos(o),r=u*Math.sin(o)}return Cr.invert(n,r)},r}function W(t,n){return function(r){var e=t*Math.cos(r);return Mr>r&&(e-=n),Math.sqrt(1+e*e)}}function J(){var t=6,n=30*yr,r=Math.cos(n),e=Math.sin(n),a=wr(G),i=a(n,t),u=i.stream,o=.01,s=-Math.cos(o*yr),c=Math.sin(o*yr);return i.radius=function(i){return arguments.length?(r=Math.cos(n=i*yr),e=Math.sin(n),a(n,t)):n*xr},i.lobes=function(r){return arguments.length?a(n,t=+r):t},i.stream=function(n){var a=i.rotate(),o=u(n),l=(i.rotate([0,0]),u(n));return i.rotate(a),o.sphere=function(){l.polygonStart(),l.lineStart();for(var n=0,a=2*dr/t,i=0;t>n;++n,i-=a)l.point(Math.atan2(c*Math.cos(i),s)*xr,Math.asin(c*Math.sin(i))*xr),l.point(Math.atan2(e*Math.cos(i-a/2),r)*xr,Math.asin(e*Math.sin(i-a/2))*xr);l.lineEnd(),l.polygonEnd()},o},i}function K(t,n,r){for(var e=50,a=(r-n)/e,i=t(n)+t(r),u=1,o=n;e>u;++u)i+=2*t(o+=a);return.5*i*a}function tn(t,n,r,e,a,i,u,o){function s(s,c){if(!c)return[t*s/dr,0];var l=c*c,f=t+l*(n+l*(r+l*e)),h=c*(a-1+l*(i-o+l*u)),g=(f*f+h*h)/(2*h),v=s*Math.asin(f/g)/dr;return[g*Math.sin(v),c*(1+l*o)+g*(1-Math.cos(v))]}return arguments.length<8&&(o=0),s.invert=function(s,l){var f,h,g=dr*s/t,v=l,p=50;do{var d=v*v,M=t+d*(n+d*(r+d*e)),m=v*(a-1+d*(i-o+d*u)),y=M*M+m*m,x=2*m,b=y/x,w=b*b,_=Math.asin(M/b)/dr,S=g*_;if(xB2=M*M,dxBd\u03c6=(2*n+d*(4*r+6*d*e))*v,dyBd\u03c6=a+d*(3*i+5*d*u),dpd\u03c6=2*(M*dxBd\u03c6+m*(dyBd\u03c6-1)),dqd\u03c6=2*(dyBd\u03c6-1),dmd\u03c6=(dpd\u03c6*x-y*dqd\u03c6)/(x*x),cos\u03b1=Math.cos(S),sin\u03b1=Math.sin(S),mcos\u03b1=b*cos\u03b1,msin\u03b1=b*sin\u03b1,d\u03b1d\u03c6=g/dr*(1/c(1-xB2/w))*(dxBd\u03c6*b-M*dmd\u03c6)/w,fx=msin\u03b1-s,fy=v*(1+d*o)+b-mcos\u03b1-l,\u03b4x\u03b4\u03c6=dmd\u03c6*sin\u03b1+mcos\u03b1*d\u03b1d\u03c6,\u03b4x\u03b4\u03bb=mcos\u03b1*_,\u03b4y\u03b4\u03c6=1+dmd\u03c6-(dmd\u03c6*cos\u03b1-msin\u03b1*d\u03b1d\u03c6),\u03b4y\u03b4\u03bb=msin\u03b1*_,denominator=\u03b4x\u03b4\u03c6*\u03b4y\u03b4\u03bb-\u03b4y\u03b4\u03c6*\u03b4x\u03b4\u03bb,!denominator)break;g-=f=(fy*\u03b4x\u03b4\u03c6-fx*\u03b4y\u03b4\u03c6)/denominator,v-=h=(fx*\u03b4y\u03b4\u03bb-fy*\u03b4x\u03b4\u03bb)/denominator}while((Math.abs(f)>vr||Math.abs(h)>vr)&&--p>0);return[g,v]},s}function nn(t,n){var r=t*t,e=n*n;return[t*(1-.162388*e)*(.87-952426e-9*r*r),n*(1+e/12)]}function rn(t){function n(){var t=!1,n=wr(r),e=n(t);return e.quincuncial=function(r){return arguments.length?n(t=!!r):t},e}function r(n){var r=n?function(n,r){var a=Math.abs(n)<Mr,i=t(a?n:n>0?n-dr:n+dr,r),o=(i[0]-i[1])*Math.SQRT1_2,s=(i[0]+i[1])*Math.SQRT1_2;if(a)return[o,s];var c=e*Math.SQRT1_2,l=o>0^s>0?-1:1;return[l*o-u(s)*c,l*s-u(o)*c]}:function(n,r){var a=n>0?-.5:.5,i=t(n+a*dr,r);return i[0]-=a*e,i};return t.invert&&(r.invert=n?function(n,r){var a=(n+r)*Math.SQRT1_2,i=(r-n)*Math.SQRT1_2,u=Math.abs(a)<.5*e&&Math.abs(i)<.5*e;if(!u){var o=e*Math.SQRT1_2,s=a>0^i>0?-1:1,c=-s*(n+(i>0?1:-1)*o),l=-s*(r+(a>0?1:-1)*o);a=(-c-l)*Math.SQRT1_2,i=(c-l)*Math.SQRT1_2}var f=t.invert(a,i);return u||(f[0]+=a>0?dr:-dr),f}:function(n,r){var a=n>0?-.5:.5,i=t.invert(n+a*e,r),u=i[0]-a*dr;return-dr>u?u+=2*dr:u>dr&&(u-=2*dr),i[0]=u,i}),r}var e=t(Mr,0)[0]-t(-Mr,0)[0];return n.raw=r,n}function en(t,n){var r=u(t),e=u(n),a=Math.cos(n),i=Math.cos(t)*a,s=Math.sin(t)*a,c=Math.sin(e*n);t=Math.abs(Math.atan2(s,c)),n=o(i),Math.abs(t-Mr)>vr&&(t%=Mr);var l=an(t>dr/4?Mr-t:t,n);return t>dr/4&&(c=l[0],l[0]=-l[1],l[1]=-c),l[0]*=r,l[1]*=-e,l}function an(t,n){if(n===Mr)return[0,0];var r=Math.sin(n),e=r*r,a=e*e,i=1+a,u=1+3*a,s=1-a,l=o(1/Math.sqrt(i)),f=s+e*i*l,h=(1-r)/f,g=Math.sqrt(h),v=h*i,p=Math.sqrt(v),d=g*s;if(0===t)return[0,-(d+e*p)];var M=Math.cos(n),m=1/M,y=2*r*M,x=(-3*e+l*u)*y,b=(-f*M-(1-r)*x)/(f*f),w=.5*b/g,_=s*w-2*e*g*y,S=e*i*b+h*u*y,q=-m*y,E=-m*S,k=-2*m*_,A=4*t/dr;if(t>.222*dr||dr/4>n&&t>.175*dr){var T=(d+e*c(v*(1+a)-d*d))/(1+a);if(t>dr/4)return[T,T];var C=T,N=.5*T,z=50;T=.5*(N+C);do{var R=Math.sqrt(v-T*T),L=T*(k+q*R)+E*o(T/p)-A;if(!L)break;0>L?N=T:C=T,T=.5*(N+C)}while(Math.abs(C-N)>vr&&--z>0)}else{var P,T=vr,z=25;do{var D=T*T,R=c(v-D),j=k+q*R,L=T*j+E*o(T/p)-A,U=j+(E-q*D)/R;T-=P=R?L/U:0}while(Math.abs(P)>vr&&--z>0)}return[T,-d-e*c(v-T*T)]}function un(t,n){for(var r=0,e=1,a=.5,i=50;;){var u=a*a,o=Math.sqrt(a),s=Math.asin(1/Math.sqrt(1+u)),c=1-u+a*(1+u)*s,l=(1-o)/c,f=Math.sqrt(l),h=l*(1+u),g=f*(1-u),v=h-t*t,p=Math.sqrt(v),d=n+g+a*p;if(Math.abs(e-r)<pr||0===--i||0===d)break;d>0?r=a:e=a,a=.5*(r+e)}if(!i)return null;var M=Math.asin(o),m=Math.cos(M),y=1/m,x=2*o*m,b=(-3*a+s*(1+3*u))*x,w=(-c*m-(1-o)*b)/(c*c),_=.5*w/f,S=(1-u)*_-2*a*f*x,q=-2*y*S,E=-y*x,k=-y*(a*(1+u)*w+l*(1+3*u)*x);return[dr/4*(t*(q+E*p)+k*Math.asin(t/Math.sqrt(h))),M]}function on(t,n,r){if(!t){var e=sn(n,1-r);return[[0,e[0]/e[1]],[1/e[1],0],[e[2]/e[1],0]]}var a=sn(t,r);if(!n)return[[a[0],0],[a[1],0],[a[2],0]];var e=sn(n,1-r),i=e[1]*e[1]+r*a[0]*a[0]*e[0]*e[0];return[[a[0]*e[2]/i,a[1]*a[2]*e[0]*e[1]/i],[a[1]*e[1]/i,-a[0]*a[2]*e[0]*e[2]/i],[a[2]*e[1]*e[2]/i,-r*a[0]*a[1]*e[0]/i]]}function sn(t,n){var r,e,a,i,u;if(vr>n)return i=Math.sin(t),e=Math.cos(t),r=.25*n*(t-i*e),[i-r*e,e+r*i,1-.5*n*i*i,t-r];if(n>=1-vr)return r=.25*(1-n),e=M(t),i=p(t),a=1/e,u=e*d(t),[i+r*(u-t)/(e*e),a-r*i*a*(u-t),a+r*i*a*(u+t),2*Math.atan(Math.exp(t))-Mr+r*(u-t)/e];var s=[1,0,0,0,0,0,0,0,0],l=[Math.sqrt(n),0,0,0,0,0,0,0,0],f=0;for(e=Math.sqrt(1-n),u=1;Math.abs(l[f]/s[f])>vr&&8>f;)r=s[f++],l[f]=.5*(r-e),s[f]=.5*(r+e),e=c(r*e),u*=2;a=u*s[f]*t;do i=l[f]*Math.sin(e=a)/s[f],a=.5*(o(i)+a);while(--f);return[Math.sin(a),i=Math.cos(a),i/Math.cos(a-e),a]}function cn(t,n,r){var e=Math.abs(t),a=Math.abs(n),i=d(a);if(e){var o=1/Math.sin(e),s=1/(Math.tan(e)*Math.tan(e)),l=-(s+r*i*i*o*o-1+r),f=(r-1)*s,h=.5*(-l+Math.sqrt(l*l-4*f));return[ln(Math.atan(1/Math.sqrt(h)),r)*u(t),ln(Math.atan(c((h/s-1)/r)),1-r)*u(n)]}return[0,ln(Math.atan(i),1-r)*u(n)]}function ln(t,n){if(!n)return t;if(1===n)return Math.log(Math.tan(t/2+dr/4));for(var r=1,e=Math.sqrt(1-n),a=Math.sqrt(n),i=0;Math.abs(a)>vr;i++){if(t%dr){var u=Math.atan(e*Math.tan(t)/r);0>u&&(u+=dr),t+=u+~~(t/dr)*dr}else t+=t;a=(r+e)/2,e=Math.sqrt(r*e),a=((r=a)-e)/2}return t/(Math.pow(2,i)*r)}function fn(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),e=Math.sqrt(1-r*r),a=ln(Mr,e*e),i=-1,u=Math.log(Math.tan(dr/4+Math.abs(n)/2)),o=Math.exp(i*u)/Math.sqrt(r),s=hn(o*Math.cos(i*t),o*Math.sin(i*t)),c=cn(s[0],s[1],e*e);return[-c[1],(n>=0?1:-1)*(.5*a-c[0])]}function hn(t,n){var r=t*t,e=n+1,a=1-r-n*n;return[.5*((t>=0?Mr:-Mr)-Math.atan2(a,2*t)),-.25*Math.log(a*a+4*r)+.5*Math.log(e*e+r)]}function gn(t,n){var r=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/r,(t[1]*n[0]-t[0]*n[1])/r]}function vn(t){function n(t,n){var i=a(t,n);t=i[0],n=i[1];var u=Math.sin(n),o=Math.cos(n),c=Math.cos(t),l=s(r*u+e*o*c),f=Math.sin(l),h=Math.abs(f)>vr?l/f:1;return[h*e*Math.sin(t),(Math.abs(t)>Mr?h:-h)*(r*o-e*u*c)]}var r=Math.sin(t),e=Math.cos(t),a=pn(t);return a.invert=pn(-t),n.invert=function(t,n){var e=Math.sqrt(t*t+n*n),i=-Math.sin(e),u=Math.cos(e),o=e*u,s=-n*i,l=e*r,f=c(o*o+s*s-l*l),h=Math.atan2(o*l+s*f,s*l-o*f),g=(e>Mr?-1:1)*Math.atan2(t*i,e*Math.cos(h)*u+n*Math.sin(h)*i);return a.invert(g,h)},n}function pn(t){var n=Math.sin(t),r=Math.cos(t);return function(t,e){var a=Math.cos(e),i=Math.cos(t)*a,u=Math.sin(t)*a,s=Math.sin(e);return[Math.atan2(u,i*r-s*n),o(s*r+i*n)]}}function dn(){var t=0,n=wr(vn),r=n(t),e=r.rotate,a=r.stream,i=d3.geo.circle();return r.parallel=function(e){if(!arguments.length)return t/dr*180;var a=r.rotate();return n(t=e*dr/180).rotate(a)},r.rotate=function(n){return arguments.length?(e.call(r,[n[0],n[1]-t/dr*180]),i.origin([-n[0],-n[1]]),r):(n=e.call(r),n[1]+=t/dr*180,n)},r.stream=function(t){return t=a(t),t.sphere=function(){t.polygonStart();var n,r=.01,e=i.angle(90-r)().coordinates[0],a=e.length-1,u=-1;for(t.lineStart();++u<a;)t.point((n=e[u])[0],n[1]);
for(t.lineEnd(),e=i.angle(90+r)().coordinates[0],a=e.length-1,t.lineStart();--u>=0;)t.point((n=e[u])[0],n[1]);t.lineEnd(),t.polygonEnd()},t},r}function Mn(t,n){function r(r,e){var a=Pr(r/n,e);return a[0]*=t,a}return arguments.length<2&&(n=t),1===n?Pr:1/0===n?yn:(r.invert=function(r,e){var a=Pr.invert(r/t,e);return a[0]*=n,a},r)}function mn(){var t=2,n=wr(Mn),r=n(t);return r.coefficient=function(r){return arguments.length?n(t=+r):t},r}function yn(t,n){return[t*Math.cos(n)/Math.cos(n/=2),2*Math.sin(n)]}function xn(t,n){for(var r,e=Math.sin(n)*(0>n?2.43763:2.67595),a=0;20>a&&(n-=r=(n+Math.sin(n)-e)/(1+Math.cos(n)),!(Math.abs(r)<vr));a++);return[.85*t*Math.cos(n*=.5),Math.sin(n)*(0>n?1.93052:1.75859)]}function bn(t){function n(n,l){var f,h=Math.abs(l);if(h>e){var g=Math.min(t-1,Math.max(0,Math.floor((n+dr)/c)));n+=dr*(t-1)/t-g*c,f=d3.geo.collignon.raw(n,h),f[0]=f[0]*a/i-a*(t-1)/(2*t)+g*a/t,f[1]=u+4*(f[1]-o)*s/a,0>l&&(f[1]=-f[1])}else f=r(n,l);return f[0]/=2,f}var r=d3.geo.cylindricalEqualArea.raw(0),e=Dr*dr/180,a=2*dr,i=d3.geo.collignon.raw(dr,e)[0]-d3.geo.collignon.raw(-dr,e)[0],u=r(0,e)[1],o=d3.geo.collignon.raw(0,e)[1],s=d3.geo.collignon.raw(0,Mr)[1]-o,c=2*dr/t;return n.invert=function(n,e){n*=2;var l=Math.abs(e);if(l>u){var f=Math.min(t-1,Math.max(0,Math.floor((n+dr)/c)));n=(n+dr*(t-1)/t-f*c)*i/a;var h=d3.geo.collignon.raw.invert(n,.25*(l-u)*a/s+o);return h[0]-=dr*(t-1)/t-f*c,0>e&&(h[1]=-h[1]),h}return r.invert(n,e)},n}function wn(){function t(){var t=180/n;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,n){return[t,1&n?90-1e-6:Dr]}).concat(d3.range(180,-180-t/2,-t).map(function(t,n){return[t,1&n?-90+1e-6:-Dr]}))]}}var n=2,r=wr(bn),e=r(n),a=e.stream;return e.lobes=function(t){return arguments.length?r(n=+t):n},e.stream=function(n){var r=e.rotate(),i=a(n),u=(e.rotate([0,0]),a(n));return e.rotate(r),i.sphere=function(){d3.geo.stream(t(),u)},i},e}function _n(t){function n(n,a){var o,s,h=1-Math.sin(a);if(h&&2>h){var g,v=Mr-a,p=25;do{var d=Math.sin(v),M=Math.cos(v),m=i+Math.atan2(d,e-M),y=1+f-2*e*M;v-=g=(v-l*i-e*d+y*m-.5*h*r)/(2*e*d*m)}while(Math.abs(g)>pr&&--p>0);o=u*Math.sqrt(y),s=n*m/dr}else o=u*(t+h),s=n*i/dr;return[o*Math.sin(s),c-o*Math.cos(s)]}var r,e=1+t,a=Math.sin(1/e),i=o(a),u=2*Math.sqrt(dr/(r=dr+4*i*e)),c=.5*u*(e+Math.sqrt(t*(2+t))),l=t*t,f=e*e;return n.invert=function(t,n){var a=t*t+(n-=c)*n,h=(1+f-a/(u*u))/(2*e),g=s(h),v=Math.sin(g),p=i+Math.atan2(v,e-h);return[o(t/Math.sqrt(a))*dr/p,o(1-2*(g-l*i-e*v+(1+f-2*e*h)*p)/r)]},n}function Sn(){var t=1,n=wr(_n),r=n(t);return r.ratio=function(r){return arguments.length?n(t=+r):t},r}function qn(t,n){return n>-jr?(t=Er(t,n),t[1]+=Ur,t):A(t,n)}function En(t,n){return Math.abs(n)>jr?(t=Er(t,n),t[1]-=n>0?Ur:-Ur,t):A(t,n)}function kn(t,n){return[3*t/(2*dr)*Math.sqrt(dr*dr/3-n*n),n]}function An(t){function n(n,r){if(Math.abs(Math.abs(r)-Mr)<vr)return[0,0>r?-2:2];var e=Math.sin(r),a=Math.pow((1+e)/(1-e),t/2),i=.5*(a+1/a)+Math.cos(n*=t);return[2*Math.sin(n)/i,(a-1/a)/i]}return n.invert=function(n,r){var e=Math.abs(r);if(Math.abs(e-2)<vr)return n?null:[0,u(r)*Mr];if(e>2)return null;n/=2,r/=2;var a=n*n,i=r*r,s=2*r/(1+a+i);return s=Math.pow((1+s)/(1-s),1/t),[Math.atan2(2*n,1-a-i)/t,o((s-1)/(s+1))]},n}function Tn(){var t=.5,n=wr(An),r=n(t);return r.spacing=function(r){return arguments.length?n(t=+r):t},r}function Cn(t,n){return[t*(1+Math.sqrt(Math.cos(n)))/2,n/(Math.cos(n/2)*Math.cos(t/6))]}function Nn(t,n){var r=t*t,e=n*n;return[t*(.975534+e*(-.119161+r*-.0143059+e*-.0547009)),n*(1.00384+r*(.0802894+e*-.02855+199025e-9*r)+e*(.0998909+e*-.0491032))]}function zn(t,n){return[Math.sin(t)/Math.cos(n),Math.tan(n)*Math.cos(t)]}function Rn(t){function n(n,a){var i=a-t,u=Math.abs(i)<vr?n*r:Math.abs(u=dr/4+a/2)<vr||Math.abs(Math.abs(u)-Mr)<vr?0:n*i/Math.log(Math.tan(u)/e);return[u,i]}var r=Math.cos(t),e=Math.tan(dr/4+t/2);return n.invert=function(n,a){var i,u=a+t;return[Math.abs(a)<vr?n/r:Math.abs(i=dr/4+u/2)<vr||Math.abs(Math.abs(i)-Mr)<vr?0:n*Math.log(Math.tan(i)/e)/a,u]},n}function Ln(t,n){return[t,1.25*Math.log(Math.tan(dr/4+.4*n))]}function Pn(t){function n(n,e){for(var a,i=Math.cos(e),u=2/(1+i*Math.cos(n)),o=u*i*Math.sin(n),s=u*Math.sin(e),c=r,l=t[c],f=l[0],h=l[1];--c>=0;)l=t[c],f=l[0]+o*(a=f)-s*h,h=l[1]+o*h+s*a;return f=o*(a=f)-s*h,h=o*h+s*a,[f,h]}var r=t.length-1;return n.invert=function(n,e){var a=20,i=n,u=e;do{for(var s,c=r,l=t[c],f=l[0],h=l[1],g=0,v=0;--c>=0;)l=t[c],g=f+i*(s=g)-u*v,v=h+i*v+u*s,f=l[0]+i*(s=f)-u*h,h=l[1]+i*h+u*s;g=f+i*(s=g)-u*v,v=h+i*v+u*s,f=i*(s=f)-u*h-n,h=i*h+u*s-e;var p,d,M=g*g+v*v;i-=p=(f*g+h*v)/M,u-=d=(h*g-f*v)/M}while(Math.abs(p)+Math.abs(d)>vr*vr&&--a>0);if(a){var m=Math.sqrt(i*i+u*u),y=2*Math.atan(.5*m),x=Math.sin(y);return[Math.atan2(i*x,m*Math.cos(y)),m?o(u*x/m):0]}},n}function Dn(){var t=Fr.miller,n=wr(Pn),r=n(t);return r.coefficients=function(r){return arguments.length?n(t="string"==typeof r?Fr[r]:r):t},r}function jn(t,n){var r=Math.sqrt(6),e=Math.sqrt(7),a=Math.asin(7*Math.sin(n)/(3*r));return[r*t*(2*Math.cos(2*a/3)-1)/e,9*Math.sin(a/3)/e]}function Un(t,n){for(var r,e=(1+Math.SQRT1_2)*Math.sin(n),a=n,i=0;25>i&&(a-=r=(Math.sin(a/2)+Math.sin(a)-e)/(.5*Math.cos(a/2)+Math.cos(a)),!(Math.abs(r)<vr));i++);return[t*(1+2*Math.cos(a)/Math.cos(a/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(a/2)/Math.sqrt(2+Math.SQRT2)]}function Fn(t,n){for(var r,e=Math.sqrt(6/(4+dr)),a=(1+dr/4)*Math.sin(n),i=n/2,u=0;25>u&&(i-=r=(i/2+Math.sin(i)-a)/(.5+Math.cos(i)),!(Math.abs(r)<vr));u++);return[e*(.5+Math.cos(i))*t/1.5,e*i]}function Hn(t,n){var r=n*n,e=r*r;return[t*(.8707-.131979*r+e*(-.013791+e*(.003971*r-.001529*e))),n*(1.007226+r*(.015085+e*(-.044475+.028874*r-.005916*e)))]}function Qn(t,n){return[t*(1+Math.cos(n))/2,2*(n-Math.tan(n/2))]}function On(t,n){if(Math.abs(n)<vr)return[t,0];var r=Math.tan(n),e=t*Math.sin(n);return[Math.sin(e)/r,n+(1-Math.cos(e))/r]}function In(t){function n(n,e){var a=r?Math.tan(n*r/2)/r:n/2;if(!e)return[2*a,-t];var i=2*Math.atan(a*Math.sin(e)),u=1/Math.tan(e);return[Math.sin(i)*u,e+(1-Math.cos(i))*u-t]}var r=Math.sin(t);return n.invert=function(n,e){if(Math.abs(e+=t)<vr)return[r?2*Math.atan(r*n/2)/r:n,0];var a,i=n*n+e*e,u=0,c=10;do{var l=Math.tan(u),f=1/Math.cos(u),h=i-2*e*u+u*u;u-=a=(l*h+2*(u-e))/(2+h*f*f+2*(u-e)*l)}while(Math.abs(a)>vr&&--c>0);var g=n*(l=Math.tan(u)),v=Math.tan(Math.abs(e)<Math.abs(u+1/l)?.5*o(g):.5*s(g)+dr/4)/Math.sin(u);return[r?2*Math.atan(r*v)/r:2*v,u]},n}function Yn(t,n){var r,e=Math.min(18,36*Math.abs(n)/dr),a=Math.floor(e),i=e-a,u=(r=Qr[a])[0],o=r[1],s=(r=Qr[++a])[0],c=r[1],l=(r=Qr[Math.min(19,++a)])[0],f=r[1];return[t*(s+i*(l-u)/2+i*i*(l-2*s+u)/2),(n>0?Mr:-Mr)*(c+i*(f-o)/2+i*i*(f-2*c+o)/2)]}function Zn(t){function n(n,r){var e=Math.cos(r),a=(t-1)/(t-e*Math.cos(n));return[a*e*Math.sin(n),a*Math.sin(r)]}return n.invert=function(n,r){var e=n*n+r*r,a=Math.sqrt(e),i=(t-Math.sqrt(1-e*(t+1)/(t-1)))/((t-1)/a+a/(t-1));return[Math.atan2(n*i,a*Math.sqrt(1-i*i)),a?o(r*i/a):0]},n}function Bn(t,n){function r(n,r){var u=e(n,r),o=u[1],s=o*i/(t-1)+a;return[u[0]*a/s,o/s]}var e=Zn(t);if(!n)return e;var a=Math.cos(n),i=Math.sin(n);return r.invert=function(n,r){var u=(t-1)/(t-1-r*i);return e.invert(u*n,u*r*a)},r}function Vn(){var t=1.4,n=0,r=wr(Bn),e=r(t,n);return e.distance=function(e){return arguments.length?r(t=+e,n):t},e.tilt=function(e){return arguments.length?r(t,n=e*dr/180):180*n/dr},e}function Xn(t,n){var r=Math.tan(n/2),e=Math.sin(dr/4*r);return[t*(.74482-.34588*e*e),1.70711*r]}function $n(t){function n(n,i){var u=s(Math.cos(i)*Math.cos(n-r)),o=s(Math.cos(i)*Math.cos(n-e)),l=0>i?-1:1;return u*=u,o*=o,[(u-o)/(2*t),l*c(4*a*o-(a-u+o)*(a-u+o))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var r=-t/2,e=-r,a=t*t,i=Math.tan(e),u=.5/Math.sin(e);return n.invert=function(t,n){var a,o,c=n*n,l=Math.cos(Math.sqrt(c+(a=t+r)*a)),f=Math.cos(Math.sqrt(c+(a=t+e)*a));return[Math.atan2(o=l-f,a=(l+f)*i),(0>n?-1:1)*s(Math.sqrt(a*a+o*o)*u)]},n}function Gn(){var t=[[0,0],[0,0]],n=wr($n),r=n(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var a=d3.geo.interpolate(r[0],r[1]),i=a(.5),u=d3.geo.rotation([-i[0],-i[1]])(r[0]),s=.5*a.distance,c=-o(Math.sin(u[1]*yr)/Math.sin(s));return u[0]>0&&(c=dr-c),e.call(u,[-i[0],-i[1],-c*xr]),n(2*s)},r}function Wn(t){function n(t,n){var e=d3.geo.gnomonic.raw(t,n);return e[0]*=r,e}var r=Math.cos(t);return n.invert=function(t,n){return d3.geo.gnomonic.raw.invert(t/r,n)},n}function Jn(){var t=[[0,0],[0,0]],n=wr(Wn),r=n(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var a=d3.geo.interpolate(r[0],r[1]),i=a(.5),u=d3.geo.rotation([-i[0],-i[1]])(r[0]),s=.5*a.distance,c=-o(Math.sin(u[1]*yr)/Math.sin(s));return u[0]>0&&(c=dr-c),e.call(u,[-i[0],-i[1],-c*xr]),n(s)},r}function Kn(t,n){if(Math.abs(n)<vr)return[t,0];var r=Math.abs(n/Mr),e=o(r);if(Math.abs(t)<vr||Math.abs(Math.abs(n)-Mr)<vr)return[0,u(n)*dr*Math.tan(e/2)];var a=Math.cos(e),i=Math.abs(dr/t-t/dr)/2,s=i*i,c=a/(r+a-1),l=c*(2/r-1),f=l*l,h=f+s,g=c-f,v=s+c;return[u(t)*dr*(i*g+Math.sqrt(s*g*g-h*(c*c-f)))/h,u(n)*dr*(l*v-i*Math.sqrt((s+1)*h-v*v))/h]}function tr(t,n){if(Math.abs(n)<vr)return[t,0];var r=Math.abs(n/Mr),e=o(r);if(Math.abs(t)<vr||Math.abs(Math.abs(n)-Mr)<vr)return[0,u(n)*dr*Math.tan(e/2)];var a=Math.cos(e),i=Math.abs(dr/t-t/dr)/2,s=i*i,l=a*(Math.sqrt(1+s)-i*a)/(1+s*r*r);return[u(t)*dr*l,u(n)*dr*c(1-l*(2*i+l))]}function nr(t,n){if(Math.abs(n)<vr)return[t,0];var r=n/Mr,e=o(r);if(Math.abs(t)<vr||Math.abs(Math.abs(n)-Mr)<vr)return[0,dr*Math.tan(e/2)];var a=(dr/t-t/dr)/2,i=r/(1+Math.cos(e));return[dr*(u(t)*c(a*a+1-i*i)-a),dr*i]}function rr(t,n){if(!n)return[t,0];var r=Math.abs(n);if(!t||r===Mr)return[0,n];var e=r/Mr,a=e*e,i=(8*e-a*(a+2)-5)/(2*a*(e-1)),o=i*i,s=e*i,l=a+o+2*s,f=e+3*i,h=t/Mr,g=h+1/h,v=u(Math.abs(t)-Mr)*Math.sqrt(g*g-4),p=v*v,d=l*(a+o*p-1)+(1-a)*(a*(f*f+4*o)+12*s*o+4*o*o),M=(v*(l+o-1)+2*c(d))/(4*l+p);return[u(t)*Mr*M,u(n)*Mr*c(1+v*Math.abs(M)-M*M)]}function er(t,n){return[t*Math.sqrt(1-3*n*n/(dr*dr)),n]}function ar(t,n){var r=.90631*Math.sin(n),e=Math.sqrt(1-r*r),a=Math.sqrt(2/(1+e*Math.cos(t/=3)));return[2.66723*e*a*Math.sin(t),1.24104*r*a]}function ir(t,n){var r=Math.cos(n),e=Math.cos(t)*r,a=1-e,i=Math.cos(t=Math.atan2(Math.sin(t)*r,-Math.sin(n))),u=Math.sin(t);return r=c(1-e*e),[u*r-i*a,-i*r-u*a]}function ur(t,n){var r=h(t,n);return[(r[0]+t/Mr)/2,(r[1]+n)/2]}d3.geo.project=function(t,r){var e=r.stream;if(!e)throw new Error("not yet supported");return(t&&or.hasOwnProperty(t.type)?or[t.type]:n)(t,e)};var or={Feature:t,FeatureCollection:function(n,r){return{type:"FeatureCollection",features:n.features.map(function(n){return t(n,r)})}}},sr=[],cr=[],lr={point:function(t,n){sr.push([t,n])},result:function(){var t=sr.length?sr.length<2?{type:"Point",coordinates:sr[0]}:{type:"MultiPoint",coordinates:sr}:null;return sr=[],t}},fr={lineStart:r,point:function(t,n){sr.push([t,n])},lineEnd:function(){sr.length&&(cr.push(sr),sr=[])},result:function(){var t=cr.length?cr.length<2?{type:"LineString",coordinates:cr[0]}:{type:"MultiLineString",coordinates:cr}:null;return cr=[],t}},hr={polygonStart:r,lineStart:r,point:function(t,n){sr.push([t,n])},lineEnd:function(){var t=sr.length;if(t){do sr.push(sr[0].slice());while(++t<4);cr.push(sr),sr=[]}},polygonEnd:r,result:function(){if(!cr.length)return null;var t=[],n=[];return cr.forEach(function(r){e(r)?t.push([r]):n.push(r)}),n.forEach(function(n){var r=n[0];t.some(function(t){return a(t[0],r)?(t.push(n),!0):void 0})||t.push([n])}),cr=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},gr={Point:lr,MultiPoint:lr,LineString:fr,MultiLineString:fr,Polygon:hr,MultiPolygon:hr,Sphere:hr},vr=1e-6,pr=vr*vr,dr=Math.PI,Mr=dr/2,mr=Math.sqrt(dr),yr=dr/180,xr=180/dr,br=d3.geo.projection,wr=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function n(n,r){for(var e=0>r?-1:1,a=o[+(0>r)],i=0,u=a.length-1;u>i&&n>a[i][2][0];++i);var s=t(n-a[i][1][0],r);return s[0]+=t(a[i][1][0],e*r>e*a[i][0][1]?a[i][0][1]:r)[0],s}function r(){u=o.map(function(n){return n.map(function(n){var r,e=t(n[0][0],n[0][1])[0],a=t(n[2][0],n[2][1])[0],i=t(n[1][0],n[0][1])[1],u=t(n[1][0],n[1][1])[1];return i>u&&(r=i,i=u,u=r),[[e,i],[a,u]]})})}function e(){for(var t=1e-6,n=[],r=0,e=o[0].length;e>r;++r){var i=o[0][r],u=180*i[0][0]/dr,s=180*i[0][1]/dr,c=180*i[1][1]/dr,l=180*i[2][0]/dr,f=180*i[2][1]/dr;n.push(a([[u+t,s+t],[u+t,c-t],[l-t,c-t],[l-t,f+t]],30))}for(var r=o[1].length-1;r>=0;--r){var i=o[1][r],u=180*i[0][0]/dr,s=180*i[0][1]/dr,c=180*i[1][1]/dr,l=180*i[2][0]/dr,f=180*i[2][1]/dr;n.push(a([[l-t,f-t],[l-t,c+t],[u+t,c+t],[u+t,s-t]],30))}return{type:"Polygon",coordinates:[d3.merge(n)]}}function a(t,n){for(var r,e,a,i=-1,u=t.length,o=t[0],s=[];++i<u;){r=t[i],e=(r[0]-o[0])/n,a=(r[1]-o[1])/n;for(var c=0;n>c;++c)s.push([o[0]+c*e,o[1]+c*a]);o=r}return s.push(r),s}function i(t,n){return Math.abs(t[0]-n[0])<vr&&Math.abs(t[1]-n[1])<vr}var u,o=[[[[-dr,0],[0,Mr],[dr,0]]],[[[-dr,0],[0,-Mr],[dr,0]]]];t.invert&&(n.invert=function(r,e){for(var a=u[+(0>e)],s=o[+(0>e)],c=0,l=a.length;l>c;++c){var f=a[c];if(f[0][0]<=r&&r<f[1][0]&&f[0][1]<=e&&e<f[1][1]){var h=t.invert(r-t(s[c][1][0],0)[0],e);return h[0]+=s[c][1][0],i(n(h[0],h[1]),[r,e])?h:null}}});var s=d3.geo.projection(n),c=s.stream;return s.stream=function(t){var n=s.rotate(),r=c(t),a=(s.rotate([0,0]),c(t));return s.rotate(n),r.sphere=function(){d3.geo.stream(e(),a)},r},s.lobes=function(t){return arguments.length?(o=t.map(function(t){return t.map(function(t){return[[t[0][0]*dr/180,t[0][1]*dr/180],[t[1][0]*dr/180,t[1][1]*dr/180],[t[2][0]*dr/180,t[2][1]*dr/180]]})}),r(),s):o.map(function(t){return t.map(function(t){return[[180*t[0][0]/dr,180*t[0][1]/dr],[180*t[1][0]/dr,180*t[1][1]/dr],[180*t[2][0]/dr,180*t[2][1]/dr]]})})},s},(d3.geo.airy=f).raw=l,h.invert=function(t,n){if(!(t*t+4*n*n>dr*dr+vr)){var r=t,e=n,a=25;do{var i,u=Math.sin(r),o=Math.sin(r/2),c=Math.cos(r/2),l=Math.sin(e),f=Math.cos(e),h=Math.sin(2*e),g=l*l,v=f*f,p=o*o,d=1-v*c*c,M=d?s(f*c)*Math.sqrt(i=1/d):i=0,m=2*M*f*o-t,y=M*l-n,x=i*(v*p+M*f*c*g),b=i*(.5*u*h-2*M*l*o),w=.25*i*(h*o-M*l*v*u),_=i*(g*c+M*p*f),S=b*w-_*x;if(!S)break;var q=(y*b-m*_)/S,E=(m*w-y*x)/S;r-=q,e-=E}while((Math.abs(q)>vr||Math.abs(E)>vr)&&--a>0);return[r,e]}},(d3.geo.aitoff=function(){return br(h)}).raw=h,(d3.geo.armadillo=v).raw=g,x.invert=function(t,n){if(t*=3/8,n*=3/8,!t&&Math.abs(n)>1)return null;var r=t*t,e=n*n,a=1+r+e,i=Math.sqrt(.5*(a-Math.sqrt(a*a-4*n*n))),s=o(i)/3,c=i?y(Math.abs(n/i))/3:m(Math.abs(t))/3,l=Math.cos(s),f=M(c),h=f*f-l*l;return[2*u(t)*Math.atan2(d(c)*l,.25-h),2*u(n)*Math.atan2(f*Math.sin(s),.25+h)]},(d3.geo.august=function(){return br(x)}).raw=x;var _r=Math.log(1+Math.SQRT2);b.invert=function(t,n){if((e=Math.abs(n))<_r)return[t,2*Math.atan(Math.exp(n))-Mr];var r,e,a=Math.sqrt(8),i=dr/4,o=25;do{var s=Math.cos(i/2),c=Math.tan(i/2);i-=r=(a*(i-dr/4)-Math.log(c)-e)/(a-.5*s*s/c)}while(Math.abs(r)>pr&&--o>0);return[t/(Math.cos(i)*(a-1/Math.sin(i))),u(n)*i]},(d3.geo.baker=function(){return br(b)}).raw=b;var Sr=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=_).raw=w;var qr=S(dr),Er=q(Math.SQRT2/Mr,Math.SQRT2,dr);(d3.geo.mollweide=function(){return br(Er)}).raw=Er,E.invert=function(t,n){var r,e,a=2.00276,i=a*n,u=0>n?-dr/4:dr/4,o=25;do e=i-Math.SQRT2*Math.sin(u),u-=r=(Math.sin(2*u)+2*u-dr*Math.sin(e))/(2*Math.cos(2*u)+2+dr*Math.cos(e)*Math.SQRT2*Math.cos(u));while(Math.abs(r)>vr&&--o>0);return e=i-Math.SQRT2*Math.sin(u),[t*(1/Math.cos(e)+1.11072/Math.cos(u))/a,e]},(d3.geo.boggs=function(){return br(E)}).raw=E,A.invert=function(t,n){return[t/Math.cos(n),n]},(d3.geo.sinusoidal=function(){return br(A)}).raw=A,(d3.geo.bonne=function(){return k(T).parallel(45)}).raw=T;var kr=q(1,4/dr,dr);(d3.geo.bromley=function(){return br(kr)}).raw=kr,(d3.geo.chamberlin=N).raw=C,D.invert=function(t,n){var r=(r=n/mr-1)*r;return[r>0?t*Math.sqrt(dr/r)/2:0,o(1-r)]},(d3.geo.collignon=function(){return br(D)}).raw=D,(d3.geo.craig=function(){return k(j)}).raw=j,U.invert=function(t,n){var r=Math.sqrt(3),e=3*o(n/(r*mr));return[mr*t/(r*(2*Math.cos(2*e/3)-1)),e]},(d3.geo.craster=function(){return br(U)}).raw=U,(d3.geo.cylindricalEqualArea=function(){return k(F)}).raw=F,(d3.geo.cylindricalStereographic=function(){return k(H)}).raw=H,Q.invert=function(t,n){var r=Math.sqrt(8/(3*dr)),e=n/r;return[t/(r*(1-Math.abs(e)/dr)),e]},(d3.geo.eckert1=function(){return br(Q)}).raw=Q,O.invert=function(t,n){var r=2-Math.abs(n)/Math.sqrt(2*dr/3);return[t*Math.sqrt(6*dr)/(2*r),u(n)*o((4-r*r)/3)]},(d3.geo.eckert2=function(){return br(O)}).raw=O,I.invert=function(t,n){var r=Math.sqrt(dr*(4+dr))/2;return[t*r/(1+c(1-n*n*(4+dr)/(4*dr))),n*r/2]},(d3.geo.eckert3=function(){return br(I)}).raw=I,Y.invert=function(t,n){var r=.5*n*Math.sqrt((4+dr)/dr),e=o(r),a=Math.cos(e);return[t/(2/Math.sqrt(dr*(4+dr))*(1+a)),o((e+r*(a+2))/(2+Mr))]},(d3.geo.eckert4=function(){return br(Y)}).raw=Y,Z.invert=function(t,n){var r=Math.sqrt(2+dr),e=n*r/2;return[r*t/(1+Math.cos(e)),e]},(d3.geo.eckert5=function(){return br(Z)}).raw=Z,B.invert=function(t,n){var r=1+Mr,e=Math.sqrt(r/2);return[2*t*e/(1+Math.cos(n*=e)),o((n+Math.sin(n))/r)]},(d3.geo.eckert6=function(){return br(B)}).raw=B,V.invert=function(t,n){var r=d3.geo.august.raw.invert(t/1.2,1.065*n);if(!r)return null;var e=r[0],a=r[1],i=20;t/=Ar,n/=Ar;do{var u=e/2,o=a/2,s=Math.sin(u),c=Math.cos(u),l=Math.sin(o),f=Math.cos(o),h=Math.cos(a),g=Math.sqrt(h),v=l/(f+Math.SQRT2*c*g),p=v*v,d=Math.sqrt(2/(1+p)),M=Math.SQRT2*f+(c+s)*g,m=Math.SQRT2*f+(c-s)*g,y=M/m,x=Math.sqrt(y),b=x-1/x,w=x+1/x,_=d*b-2*Math.log(x)-t,S=d*v*w-2*Math.atan(v)-n,q=l&&Math.SQRT1_2*g*s*p/l,E=(Math.SQRT2*c*f+g)/(2*(f+Math.SQRT2*c*g)*(f+Math.SQRT2*c*g)*g),k=-.5*v*d*d*d,A=k*q,T=k*E,C=(C=2*f+Math.SQRT2*g*(c-s))*C*x,N=(Math.SQRT2*c*f*g+h)/C,z=-(Math.SQRT2*s*l)/(g*C),R=b*A-2*N/x+d*(N+N/y),L=b*T-2*z/x+d*(z+z/y),P=v*w*A-2*q/(1+p)+d*w*q+d*v*(N-N/y),D=v*w*T-2*E/(1+p)+d*w*E+d*v*(z-z/y),j=L*P-D*R;if(!j)break;var U=(S*L-_*D)/j,F=(_*P-S*R)/j;e-=U,a=Math.max(-Mr,Math.min(Mr,a-F))}while((Math.abs(U)>vr||Math.abs(F)>vr)&&--i>0);return Math.abs(Math.abs(a)-Mr)<vr?[0,a]:i&&[e,a]};var Ar=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return br(V)}).raw=V,X.invert=function(t,n){var r=n/(1+Tr);return[t?t/(Tr*c(1-r*r)):0,2*Math.atan(r)]};var Tr=Math.cos(35*yr);(d3.geo.fahey=function(){return br(X)}).raw=X,$.invert=function(t,n){var r=Math.atan(n/mr),e=Math.cos(r),a=2*r;return[t*mr*.5/(Math.cos(a)*e*e),a]},(d3.geo.foucaut=function(){return br($)}).raw=$,d3.geo.gilbert=function(t){function n(n){return t([.5*n[0],o(Math.tan(.5*n[1]*yr))*xr])}var r=d3.geo.equirectangular().scale(xr).translate([0,0]);return t.invert&&(n.invert=function(n){return n=t.invert(n),n[0]*=2,n[1]=2*Math.atan(Math.sin(n[1]*yr))*xr,n}),n.stream=function(n){n=t.stream(n);var e=r.stream({point:function(t,r){n.point(.5*t,o(Math.tan(.5*-r*yr))*xr)},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}});return e.sphere=function(){n.sphere()},e.valid=!1,e},n};var Cr=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=J).raw=G;var Nr=tn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return br(Nr)}).raw=Nr;var zr=tn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return br(zr)}).raw=zr;var Rr=tn(5/6*dr,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return br(Rr)}).raw=Rr,nn.invert=function(t,n){var r,e=t,a=n,i=50;do{var u=a*a;a-=r=(a*(1+u/12)-n)/(1+u/4)}while(Math.abs(r)>vr&&--i>0);i=50,t/=1-.162388*u;do{var o=(o=e*e)*o;e-=r=(e*(.87-952426e-9*o)-t)/(.87-.00476213*o)}while(Math.abs(r)>vr&&--i>0);return[e,a]},(d3.geo.ginzburg8=function(){return br(nn)}).raw=nn;var Lr=tn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return br(Lr)}).raw=Lr,en.invert=function(t,n){var r=u(t),e=u(n),a=-r*t,i=-e*n,s=1>i/a,c=un(s?i:a,s?a:i),l=c[0],f=c[1];s&&(l=-Mr-l);var h=Math.cos(f),t=Math.cos(l)*h,n=Math.sin(l)*h,g=Math.sin(f);return[r*(Math.atan2(n,-g)+dr),e*o(t)]},d3.geo.gringorten=rn(en),fn.invert=function(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),e=Math.sqrt(1-r*r),a=ln(Mr,e*e),i=-1,u=on(.5*a-n,-t,e*e),o=gn(u[0],u[1]),s=Math.atan2(o[1],o[0])/i;return[s,2*Math.atan(Math.exp(.5/i*Math.log(r*o[0]*o[0]+r*o[1]*o[1])))-Mr]},d3.geo.guyou=rn(fn),(d3.geo.hammerRetroazimuthal=dn).raw=vn;var Pr=d3.geo.azimuthalEqualArea.raw;yn.invert=function(t,n){var r=2*o(n/2);return[t*Math.cos(r/2)/Math.cos(r),r]},(d3.geo.hammer=mn).raw=Mn,xn.invert=function(t,n){var r=Math.abs(r=n*(0>n?.5179951515653813:.5686373742600607))>1-vr?r>0?Mr:-Mr:o(r);return[1.1764705882352942*t/Math.cos(r),Math.abs(r=((r+=r)+Math.sin(r))*(0>n?.4102345310814193:.3736990601468637))>1-vr?r>0?Mr:-Mr:o(r)]},(d3.geo.hatano=function(){return br(xn)}).raw=xn;var Dr=41+48/36+37/3600;(d3.geo.healpix=wn).raw=bn,(d3.geo.hill=Sn).raw=_n;var jr=.7109889596207567,Ur=.0528035274542;qn.invert=function(t,n){return n>-jr?Er.invert(t,n-Ur):A.invert(t,n)},(d3.geo.sinuMollweide=function(){return br(qn).rotate([-20,-55])}).raw=qn,En.invert=function(t,n){return Math.abs(n)>jr?Er.invert(t,n+(n>0?Ur:-Ur)):A.invert(t,n)},(d3.geo.homolosine=function(){return br(En)}).raw=En,kn.invert=function(t,n){return[2/3*dr*t/Math.sqrt(dr*dr/3-n*n),n]},(d3.geo.kavrayskiy7=function(){return br(kn)}).raw=kn,(d3.geo.lagrange=Tn).raw=An,Cn.invert=function(t,n){var r=Math.abs(t),e=Math.abs(n),a=dr/Math.SQRT2,i=vr,u=Mr;a>e?u*=e/a:i+=6*s(a/e);for(var o=0;25>o;o++){var l=Math.sin(u),f=c(Math.cos(u)),h=Math.sin(u/2),g=Math.cos(u/2),v=Math.sin(i/6),p=Math.cos(i/6),d=.5*i*(1+f)-r,M=u/(g*p)-e,m=f?-.25*i*l/f:0,y=.5*(1+f),x=(1+.5*u*h/g)/(g*p),b=u/g*(v/6)/(p*p),w=m*b-x*y,_=(d*b-M*y)/w,S=(M*m-d*x)/w;if(u-=_,i-=S,Math.abs(_)<vr&&Math.abs(S)<vr)break}return[0>t?-i:i,0>n?-u:u]},(d3.geo.larrivee=function(){return br(Cn)}).raw=Cn,Nn.invert=function(t,n){var r=u(t)*dr,e=n/2,a=50;do{var i=r*r,o=e*e,s=r*e,c=r*(.975534+o*(-.119161+i*-.0143059+o*-.0547009))-t,l=e*(1.00384+i*(.0802894+o*-.02855+199025e-9*i)+o*(.0998909+o*-.0491032))-n,f=.975534-o*(.119161+3*i*.0143059+.0547009*o),h=-s*(.238322+.2188036*o+.0286118*i),g=s*(.1605788+7961e-7*i+-.0571*o),v=1.00384+i*(.0802894+199025e-9*i)+o*(3*(.0998909-.02855*i)-.245516*o),p=h*g-v*f,d=(l*h-c*v)/p,M=(c*g-l*f)/p;r-=d,e-=M}while((Math.abs(d)>vr||Math.abs(M)>vr)&&--a>0);return a&&[r,e]},(d3.geo.laskowski=function(){return br(Nn)}).raw=Nn,zn.invert=function(t,n){var r=t*t,e=n*n,a=e+1,i=t?Math.SQRT1_2*Math.sqrt((a-Math.sqrt(r*r+2*r*(e-1)+a*a))/r+1):1/Math.sqrt(a);return[o(t*i),u(n)*s(i)]},(d3.geo.littrow=function(){return br(zn)}).raw=zn,(d3.geo.loximuthal=function(){return k(Rn).parallel(40)}).raw=Rn,Ln.invert=function(t,n){return[t,2.5*Math.atan(Math.exp(.8*n))-.625*dr]},(d3.geo.miller=function(){return br(Ln)}).raw=Ln;var Fr={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=Dn).raw=Pn,jn.invert=function(t,n){var r=Math.sqrt(6),e=Math.sqrt(7),a=3*o(n*e/9);return[t*e/(r*(2*Math.cos(2*a/3)-1)),o(3*Math.sin(a)*r/7)]},(d3.geo.mtFlatPolarParabolic=function(){return br(jn)}).raw=jn,Un.invert=function(t,n){var r=n*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),e=2*o(r);return[3*Math.SQRT2*t/(1+2*Math.cos(e)/Math.cos(e/2)),o((r+Math.sin(e))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return br(Un)}).raw=Un,Fn.invert=function(t,n){var r=Math.sqrt(6/(4+dr)),e=n/r;return Math.abs(Math.abs(e)-Mr)<vr&&(e=0>e?-Mr:Mr),[1.5*t/(r*(.5+Math.cos(e))),o((e/2+Math.sin(e))/(1+dr/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return br(Fn)}).raw=Fn,Hn.invert=function(t,n){var r,e=n,a=25;do{var i=e*e,u=i*i;e-=r=(e*(1.007226+i*(.015085+u*(-.044475+.028874*i-.005916*u)))-n)/(1.007226+i*(.045255+u*(-.311325+.259866*i-.005916*11*u)))}while(Math.abs(r)>vr&&--a>0);return[t/(.8707+(i=e*e)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),e]},(d3.geo.naturalEarth=function(){return br(Hn)}).raw=Hn,Qn.invert=function(t,n){for(var r=n/2,e=0,a=1/0;10>e&&Math.abs(a)>vr;e++){var i=Math.cos(n/2);n-=a=(n-Math.tan(n/2)-r)/(1-.5/(i*i))}return[2*t/(1+Math.cos(n)),n]},(d3.geo.nellHammer=function(){return br(Qn)}).raw=Qn;var Hr=rn(fn);(d3.geo.peirceQuincuncial=function(){return Hr().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Hr.raw,On.invert=function(t,n){if(Math.abs(n)<vr)return[t,0];var r,e=t*t+n*n,a=.5*n,i=10;do{var c=Math.tan(a),l=1/Math.cos(a),f=e-2*n*a+a*a;a-=r=(c*f+2*(a-n))/(2+f*l*l+2*(a-n)*c)}while(Math.abs(r)>vr&&--i>0);return c=Math.tan(a),[(Math.abs(n)<Math.abs(a+1/c)?o(t*c):u(t)*(s(Math.abs(t*c))+Mr))/Math.sin(a),a]},(d3.geo.polyconic=function(){return br(On)}).raw=On,(d3.geo.rectangularPolyconic=function(){return k(In)}).raw=In;var Qr=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Qr.forEach(function(t){t[1]*=1.0144}),Yn.invert=function(t,n){var r=n/Mr,e=90*r,a=Math.min(18,Math.abs(e/5)),i=Math.max(0,Math.floor(a));do{var u=Qr[i][1],o=Qr[i+1][1],s=Qr[Math.min(19,i+2)][1],c=s-u,l=s-2*o+u,f=2*(Math.abs(r)-o)/c,h=l/c,g=f*(1-h*f*(1-2*h*f));if(g>=0||1===i){e=(n>=0?5:-5)*(g+a);var v,p=50;do a=Math.min(18,Math.abs(e)/5),i=Math.floor(a),g=a-i,u=Qr[i][1],o=Qr[i+1][1],s=Qr[Math.min(19,i+2)][1],e-=(v=(n>=0?Mr:-Mr)*(o+g*(s-u)/2+g*g*(s-2*o+u)/2)-n)*xr;while(Math.abs(v)>pr&&--p>0);break}}while(--i>=0);var d=Qr[i][0],M=Qr[i+1][0],m=Qr[Math.min(19,i+2)][0];return[t/(M+g*(m-d)/2+g*g*(m-2*M+d)/2),e*yr]},(d3.geo.robinson=function(){return br(Yn)}).raw=Yn,(d3.geo.satellite=Vn).raw=Bn,Xn.invert=function(t,n){var r=n/1.70711,e=Math.sin(dr/4*r);return[t/(.74482-.34588*e*e),2*Math.atan(r)]},(d3.geo.times=function(){return br(Xn)}).raw=Xn,(d3.geo.twoPointEquidistant=Gn).raw=$n,(d3.geo.twoPointAzimuthal=Jn).raw=Wn,Kn.invert=function(t,n){if(Math.abs(n)<vr)return[t,0];if(Math.abs(t)<vr)return[0,Mr*Math.sin(2*Math.atan(n/dr))];var r=(t/=dr)*t,e=(n/=dr)*n,a=r+e,i=a*a,o=-Math.abs(n)*(1+a),c=o-2*e+r,l=-2*o+1+2*e+i,f=e/l+(2*c*c*c/(l*l*l)-9*o*c/(l*l))/27,h=(o-c*c/(3*l))/l,g=2*Math.sqrt(-h/3),v=s(3*f/(h*g))/3;return[dr*(a-1+Math.sqrt(1+2*(r-e)+i))/(2*t),u(n)*dr*(-g*Math.cos(v+dr/3)-c/(3*l))]},(d3.geo.vanDerGrinten=function(){return br(Kn)}).raw=Kn,tr.invert=function(t,n){if(!t)return[0,Mr*Math.sin(2*Math.atan(n/dr))];var r=Math.abs(t/dr),e=(1-r*r-(n/=dr)*n)/(2*r),a=e*e,i=Math.sqrt(a+1);return[u(t)*dr*(i-e),u(n)*Mr*Math.sin(2*Math.atan2(Math.sqrt((1-2*e*r)*(e+i)-r),Math.sqrt(i+e+r)))]},(d3.geo.vanDerGrinten2=function(){return br(tr)}).raw=tr,nr.invert=function(t,n){if(!n)return[t,0];var r=n/dr,e=(dr*dr*(1-r*r)-t*t)/(2*dr*t);return[t?dr*(u(t)*Math.sqrt(e*e+1)-e):0,Mr*Math.sin(2*Math.atan(r))]},(d3.geo.vanDerGrinten3=function(){return br(nr)}).raw=nr,rr.invert=function(t,n){if(!t||!n)return[t,n];n/=dr;var r=u(t)*t/Mr,e=(r*r-1+4*n*n)/Math.abs(r),a=e*e,i=2*n,o=50;do{var s=i*i,c=(8*i-s*(s+2)-5)/(2*s*(i-1)),l=(3*i-s*i-10)/(2*s*i),f=c*c,h=i*c,g=i+c,v=g*g,p=i+3*c,d=v*(s+f*a-1)+(1-s)*(s*(p*p+4*f)+f*(12*h+4*f)),M=-2*g*(4*h*f+(1-4*s+3*s*s)*(1+l)+f*(-6+14*s-a+(-8+8*s-2*a)*l)+h*(-8+12*s+(-10+10*s-a)*l)),m=Math.sqrt(d),y=e*(v+f-1)+2*m-r*(4*v+a),x=e*(2*c*l+2*g*(1+l))+M/m-8*g*(e*(-1+f+v)+2*m)*(1+l)/(a+4*v);i-=\u03b4=y/x}while(\u03b4>vr&&--o>0);return[u(t)*(Math.sqrt(e*e+4)+e)*dr/4,Mr*i]},(d3.geo.vanDerGrinten4=function(){return br(rr)}).raw=rr;var Or=function(){var t=4*dr+3*Math.sqrt(3),n=2*Math.sqrt(2*dr*Math.sqrt(3)/t);return q(n*Math.sqrt(3)/dr,n,t/6)}();(d3.geo.wagner4=function(){return br(Or)}).raw=Or,er.invert=function(t,n){return[t/Math.sqrt(1-3*n*n/(dr*dr)),n]},(d3.geo.wagner6=function(){return br(er)}).raw=er,ar.invert=function(t,n){var r=t/2.66723,e=n/1.24104,a=Math.sqrt(r*r+e*e),i=2*o(a/2);return[3*Math.atan2(t*Math.tan(i),2.66723*a),a&&o(n*Math.sin(i)/(1.24104*.90631*a))]},(d3.geo.wagner7=function(){return br(ar)}).raw=ar,ir.invert=function(t,n){var r=-.5*(t*t+n*n),e=Math.sqrt(-r*(2+r)),a=n*r+t*e,i=t*r-n*e,u=Math.sqrt(i*i+a*a);return[Math.atan2(e*a,u*(1+r)),u?-o(e*i/u):0]},(d3.geo.wiechel=function(){return br(ir)}).raw=ir,ur.invert=function(t,n){var r=t,e=n,a=25;do{var i,u=Math.cos(e),o=Math.sin(e),c=Math.sin(2*e),l=o*o,f=u*u,h=Math.sin(r),g=Math.cos(r/2),v=Math.sin(r/2),p=v*v,d=1-f*g*g,M=d?s(u*g)*Math.sqrt(i=1/d):i=0,m=.5*(2*M*u*v+r/Mr)-t,y=.5*(M*o+e)-n,x=.5*i*(f*p+M*u*g*l)+.5/Mr,b=i*(h*c/4-M*o*v),w=.125*i*(c*v-M*o*f*h),_=.5*i*(l*g+M*p*u)+.5,S=b*w-_*x,q=(y*b-m*_)/S,E=(m*w-y*x)/S;r-=q,e-=E}while((Math.abs(q)>vr||Math.abs(E)>vr)&&--a>0);return[r,e]},(d3.geo.winkel3=function(){return br(ur)}).raw=ur}(),!function(){function t(t,n){function r(n){var r=t.arcs[n],e=r[0],a=[0,0];return r.forEach(function(t){a[0]+=t[0],a[1]+=t[1]}),[e,a]}var e={},a={};n.forEach(function(t){var n,i,u=r(t),o=u[0],s=u[1];if(n=a[o])if(delete a[n.end],n.push(t),n.end=s,i=e[s]){delete e[i.start];var c=i===n?n:n.concat(i);e[c.start=n.start]=a[c.end=i.end]=c}else if(i=a[s]){delete e[i.start],delete a[i.end];var c=n.concat(i.map(function(t){return~t}).reverse());e[c.start=n.start]=a[c.end=i.start]=c}else e[n.start]=a[n.end]=n;else if(n=e[s])if(delete e[n.start],n.unshift(t),n.start=o,i=a[o]){delete a[i.end];var l=i===n?n:i.concat(n);e[l.start=i.start]=a[l.end=n.end]=l}else if(i=e[o]){delete e[i.start],delete a[i.end];var l=i.map(function(t){return~t}).reverse().concat(n);e[l.start=i.end]=a[l.end=n.end]=l}else e[n.start]=a[n.end]=n;else if(n=e[o])if(delete e[n.start],n.unshift(~t),n.start=s,i=a[s]){delete a[i.end];var l=i===n?n:i.concat(n);e[l.start=i.start]=a[l.end=n.end]=l}else if(i=e[s]){delete e[i.start],delete a[i.end];var l=i.map(function(t){return~t}).reverse().concat(n);e[l.start=i.end]=a[l.end=n.end]=l}else e[n.start]=a[n.end]=n;else if(n=a[s])if(delete a[n.end],n.push(~t),n.end=o,i=a[o]){delete e[i.start];var c=i===n?n:n.concat(i);e[c.start=n.start]=a[c.end=i.end]=c}else if(i=e[o]){delete e[i.start],delete a[i.end];var c=n.concat(i.map(function(t){return~t}).reverse());e[c.start=n.start]=a[c.end=i.start]=c}else e[n.start]=a[n.end]=n;else n=[t],e[n.start=o]=a[n.end=s]=n});var i=[];for(var u in a)i.push(a[u]);return i}function n(n,r,e){function i(t){0>t&&(t=~t),(f[t]||(f[t]=[])).push(l)}function u(t){t.forEach(i)}function o(t){t.forEach(u)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in h&&(l=t,h[t.type](t.arcs))}var c=[];if(arguments.length>1){var l,f=[],h={LineString:u,MultiLineString:o,Polygon:o,MultiPolygon:function(t){t.forEach(o)}};s(r),f.forEach(arguments.length<3?function(t,n){c.push(n)}:function(t,n){e(t[0],t[t.length-1])&&c.push(n)})}else for(var g=0,v=n.arcs.length;v>g;++g)c.push(g);return a(n,{type:"MultiLineString",arcs:t(n,c)})}function r(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return e(t,n)})}:e(t,n)}function e(t,n){var r={type:"Feature",id:n.id,properties:n.properties||{},geometry:a(t,n)};return null==n.id&&delete r.id,r}function a(t,n){function r(t,n){n.length&&n.pop();for(var r,e=l[0>t?~t:t],a=0,u=e.length;u>a;++a)n.push(r=e[a].slice()),c(r,a);0>t&&i(n,u)}function e(t){return t=t.slice(),c(t,0),t}function a(t){for(var n=[],e=0,a=t.length;a>e;++e)r(t[e],n);return n.length<2&&n.push(n[0].slice()),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0].slice());return n}function o(t){return t.map(u)}function s(t){var n=t.type;return"GeometryCollection"===n?{type:n,geometries:t.geometries.map(s)}:n in f?{type:n,coordinates:f[n](t)}:null}var c=h(t.transform),l=t.arcs,f={Point:function(t){return e(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(e)},LineString:function(t){return a(t.arcs)},MultiLineString:function(t){return t.arcs.map(a)},Polygon:function(t){return o(t.arcs)},MultiPolygon:function(t){return t.arcs.map(o)}};return s(n)}function i(t,n){for(var r,e=t.length,a=e-n;a<--e;)r=t[a],t[a++]=t[e],t[e]=r}function u(t,n){for(var r=0,e=t.length;e>r;){var a=r+e>>>1;t[a]<n?r=a+1:e=a}return r}function o(t){function n(t,n){t.forEach(function(t){0>t&&(t=~t);var r=a[t];r?r.push(n):a[t]=[n]})}function r(t,r){t.forEach(function(t){n(t,r)})}function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in o&&o[t.type](t.arcs,n)}var a={},i=t.map(function(){return[]}),o={LineString:n,MultiLineString:r,Polygon:r,MultiPolygon:function(t,n){t.forEach(function(t){r(t,n)})}};t.forEach(e);for(var s in a)for(var c=a[s],l=c.length,f=0;l>f;++f)for(var h=f+1;l>h;++h){var g,v=c[f],p=c[h];
(g=i[v])[s=u(g,p)]!==p&&g.splice(s,0,p),(g=i[p])[s=u(g,v)]!==v&&g.splice(s,0,v)}return i}function s(t,n){function r(t){u.remove(t),t[1][2]=n(t),u.push(t)}var e,a=h(t.transform),i=g(t.transform),u=f(l),o=0;for(n||(n=c),t.arcs.forEach(function(t){var r=[];t.forEach(a);for(var i=1,o=t.length-1;o>i;++i)e=t.slice(i-1,i+2),e[1][2]=n(e),r.push(e),u.push(e);t[0][2]=t[o][2]=1/0;for(var i=0,o=r.length;o>i;++i)e=r[i],e.previous=r[i-1],e.next=r[i+1]});e=u.pop();){var s=e.previous,v=e.next;e[1][2]<o?e[1][2]=o:o=e[1][2],s&&(s.next=v,s[2]=e[2],r(s)),v&&(v.previous=s,v[0]=e[0],r(v))}return t.arcs.forEach(function(t){t.forEach(i)}),t}function c(t){return Math.abs((t[0][0]-t[2][0])*(t[1][1]-t[0][1])-(t[0][0]-t[1][0])*(t[2][1]-t[0][1]))}function l(t,n){return t[1][2]-n[1][2]}function f(t){function n(n){for(var r=a[n];n>0;){var e=(n+1>>1)-1,i=a[e];if(t(r,i)>=0)break;a[i.index=n]=i,a[r.index=n=e]=r}}function r(n){for(var r=a[n];;){var e=n+1<<1,i=e-1,u=n,o=a[u];if(i<a.length&&t(a[i],o)<0&&(o=a[u=i]),e<a.length&&t(a[e],o)<0&&(o=a[u=e]),u===n)break;a[o.index=n]=o,a[r.index=n=u]=r}}var e={},a=[];return e.push=function(){for(var t=0,r=arguments.length;r>t;++t){var e=arguments[t];n(e.index=a.push(e)-1)}return a.length},e.pop=function(){var t=a[0],n=a.pop();return a.length&&(a[n.index=0]=n,r(0)),t},e.remove=function(e){var i=e.index,u=a.pop();return i!==a.length&&(a[u.index=i]=u,(t(u,e)<0?n:r)(i)),i},e}function h(t){if(!t)return v;var n,r,e=t.scale[0],a=t.scale[1],i=t.translate[0],u=t.translate[1];return function(t,o){o||(n=r=0),t[0]=(n+=t[0])*e+i,t[1]=(r+=t[1])*a+u}}function g(t){if(!t)return v;var n,r,e=t.scale[0],a=t.scale[1],i=t.translate[0],u=t.translate[1];return function(t,o){o||(n=r=0);var s=0|(t[0]-i)/e,c=0|(t[1]-u)/a;t[0]=s-n,t[1]=c-r,n=s,r=c}}function v(){}var p={version:"1.4.9",mesh:n,feature:r,neighbors:o,presimplify:s};"function"==typeof define&&define.amd?define(p):"object"==typeof module&&module.exports?module.exports=p:this.topojson=p}(),function(){var t,n;t=function(t,n){var r;return r=function(r){return r.each(function(r){var e,a,i,u,o,s,c,l,f;return u=window.innerHeight,f=window.innerWidth,c=d3.geo.aitoff().rotate([50,-10,10]).scale(Math.max(u,f)/1.1/Math.PI).translate([f/2,u/2]),e=d3.geo.circle(),i=d3.geo.graticule(),s=d3.geo.path().projection(c),l=d3.select(this).selectAll("svg").data([r]),o=l.enter().append("svg").append("g"),o.append("path").datum(i).attr("class","map-graticule"),o.append("path").datum(topojson.feature(t,t.objects.land)).attr("class","map-surface"),l.attr("height",u).attr("width",f),a=l.select("g"),a.selectAll(".map-graticule").attr("d",s),a.selectAll(".map-surface").attr("d",s),a.selectAll(".map-halo").data(function(t){return t}).enter().append("path").attr("class","map-halo").attr("d",function(){return function(t){return s(e.origin(t.plot).angle(0).precision(55)())}}(this)),a.selectAll(".map-halo").transition().delay(function(t,n){return 50*n}).duration(1e3).ease("cubic-out").attr("d",function(){return function(t){return s(e.origin(t.plot).angle(t.r).precision(55)())}}(this)),a.selectAll(".map-point").data(function(t){return t}).enter().append("path").attr("class","map-point").attr("d",function(){return function(t){return s(e.origin(t.plot).angle(0).precision(100)())}}(this)),a.selectAll(".map-point").transition().delay(function(t,n){return 100*n}).duration(1e3).ease("cubic-out").attr("d",function(){return function(t){return s(e.origin(t.plot).angle(t.r/3).precision(100)())}}(this)),a.selectAll(".map-path").data(n).enter().append("path").attr("class","map-path"),a.selectAll(".map-path").attr("d",s).attr("stroke-dasharray",function(){return""+this.getTotalLength()+", "+this.getTotalLength()}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).transition().delay(function(t,n){return 100*n}).duration(1e3).ease("cubic-out").attr("stroke-dashoffset",0)})}},n=function(t,n,r){var e,a,i;return null==n&&(n=250),i="",e="",a=function(){var a,u,o;return u=r||this,o=+new Date,a=arguments,i&&i+n>o?(clearTimeout(e),e=setTimeout(function(){return i=o,t.apply(u,a)},n)):(i=o,t.apply(u,a))}},document.addEventListener("DOMContentLoaded",function(){var r,e,a,i,u;for(e=[{plot:[-81.173,28.4],r:7},{plot:[-81.1,32.084],r:2},{plot:[-74.006,40.713],r:4},{plot:[-.128,51.507],r:1},{plot:[-87.63,41.878],r:1},{plot:[-122.419,37.775],r:1},{plot:[-90.199,38.627],r:2},{plot:[-77.345,25.06],r:4},{plot:[-117.783,33.542],r:1},{plot:[-149.9,61.218],r:1},{plot:[-123.121,49.283],r:1},{plot:[25.462,36.393],r:1},{plot:[-122.676,45.523],r:2},{plot:[-95.401,29.817],r:1}],a=[],i=0,u=e.length;u>i;i++)r=e[i],a.push({type:"LineString",coordinates:[e[0].plot,r.plot]});return d3.json("/assets/javascripts/world.json",function(r,i){return d3.select("body").datum(e).call(t(i,a)).classed("is-loading",!1),d3.select(window).on("resize",n(function(){return d3.select("body").call(t(i,a))}),1e3)})})}.call(this);